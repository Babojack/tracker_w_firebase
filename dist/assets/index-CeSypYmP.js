(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ky={exports:{}},bc={},Xy={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function AU(){if(vA)return Qe;vA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function x(z,Y,de){this.props=z,this.context=Y,this.refs=T,this.updater=de||w}x.prototype.isReactComponent={},x.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=x.prototype;function $(z,Y,de){this.props=z,this.context=Y,this.refs=T,this.updater=de||w}var U=$.prototype=new D;U.constructor=$,A(U,x.prototype),U.isPureReactComponent=!0;var F=Array.isArray,k=Object.prototype.hasOwnProperty,C={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function O(z,Y,de){var Ce,ae={},_e=null,xe=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(xe=Y.ref),Y.key!==void 0&&(_e=""+Y.key),Y)k.call(Y,Ce)&&!I.hasOwnProperty(Ce)&&(ae[Ce]=Y[Ce]);var Ie=arguments.length-2;if(Ie===1)ae.children=de;else if(1<Ie){for(var le=Array(Ie),we=0;we<Ie;we++)le[we]=arguments[we+2];ae.children=le}if(z&&z.defaultProps)for(Ce in Ie=z.defaultProps,Ie)ae[Ce]===void 0&&(ae[Ce]=Ie[Ce]);return{$$typeof:t,type:z,key:_e,ref:xe,props:ae,_owner:C.current}}function S(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function R(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return Y[de]})}var V=/\/+/g;function j(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?R(""+z.key):Y.toString(36)}function M(z,Y,de,Ce,ae){var _e=typeof z;(_e==="undefined"||_e==="boolean")&&(z=null);var xe=!1;if(z===null)xe=!0;else switch(_e){case"string":case"number":xe=!0;break;case"object":switch(z.$$typeof){case t:case e:xe=!0}}if(xe)return xe=z,ae=ae(xe),z=Ce===""?"."+j(xe,0):Ce,F(ae)?(de="",z!=null&&(de=z.replace(V,"$&/")+"/"),M(ae,Y,de,"",function(we){return we})):ae!=null&&(N(ae)&&(ae=S(ae,de+(!ae.key||xe&&xe.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+z)),Y.push(ae)),1;if(xe=0,Ce=Ce===""?".":Ce+":",F(z))for(var Ie=0;Ie<z.length;Ie++){_e=z[Ie];var le=Ce+j(_e,Ie);xe+=M(_e,Y,de,le,ae)}else if(le=y(z),typeof le=="function")for(z=le.call(z),Ie=0;!(_e=z.next()).done;)_e=_e.value,le=Ce+j(_e,Ie++),xe+=M(_e,Y,de,le,ae);else if(_e==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return xe}function W(z,Y,de){if(z==null)return z;var Ce=[],ae=0;return M(z,Ce,"","",function(_e){return Y.call(de,_e,ae++)}),Ce}function G(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var J={current:null},B={transition:null},K={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:B,ReactCurrentOwner:C};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:W,forEach:function(z,Y,de){W(z,function(){Y.apply(this,arguments)},de)},count:function(z){var Y=0;return W(z,function(){Y++}),Y},toArray:function(z){return W(z,function(Y){return Y})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Qe.Component=x,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=$,Qe.StrictMode=r,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Qe.act=Z,Qe.cloneElement=function(z,Y,de){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ce=A({},z.props),ae=z.key,_e=z.ref,xe=z._owner;if(Y!=null){if(Y.ref!==void 0&&(_e=Y.ref,xe=C.current),Y.key!==void 0&&(ae=""+Y.key),z.type&&z.type.defaultProps)var Ie=z.type.defaultProps;for(le in Y)k.call(Y,le)&&!I.hasOwnProperty(le)&&(Ce[le]=Y[le]===void 0&&Ie!==void 0?Ie[le]:Y[le])}var le=arguments.length-2;if(le===1)Ce.children=de;else if(1<le){Ie=Array(le);for(var we=0;we<le;we++)Ie[we]=arguments[we+2];Ce.children=Ie}return{$$typeof:t,type:z.type,key:ae,ref:_e,props:Ce,_owner:xe}},Qe.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Qe.createElement=O,Qe.createFactory=function(z){var Y=O.bind(null,z);return Y.type=z,Y},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:l,render:z}},Qe.isValidElement=N,Qe.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:G}},Qe.memo=function(z,Y){return{$$typeof:h,type:z,compare:Y===void 0?null:Y}},Qe.startTransition=function(z){var Y=B.transition;B.transition={};try{z()}finally{B.transition=Y}},Qe.unstable_act=Z,Qe.useCallback=function(z,Y){return J.current.useCallback(z,Y)},Qe.useContext=function(z){return J.current.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z){return J.current.useDeferredValue(z)},Qe.useEffect=function(z,Y){return J.current.useEffect(z,Y)},Qe.useId=function(){return J.current.useId()},Qe.useImperativeHandle=function(z,Y,de){return J.current.useImperativeHandle(z,Y,de)},Qe.useInsertionEffect=function(z,Y){return J.current.useInsertionEffect(z,Y)},Qe.useLayoutEffect=function(z,Y){return J.current.useLayoutEffect(z,Y)},Qe.useMemo=function(z,Y){return J.current.useMemo(z,Y)},Qe.useReducer=function(z,Y,de){return J.current.useReducer(z,Y,de)},Qe.useRef=function(z){return J.current.useRef(z)},Qe.useState=function(z){return J.current.useState(z)},Qe.useSyncExternalStore=function(z,Y,de){return J.current.useSyncExternalStore(z,Y,de)},Qe.useTransition=function(){return J.current.useTransition()},Qe.version="18.3.1",Qe}var _A;function aE(){return _A||(_A=1,Xy.exports=AU()),Xy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA;function IU(){if(wA)return bc;wA=1;var t=aE(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,h){var p,g={},y=null,w=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(w=c.ref);for(p in c)r.call(c,p)&&!o.hasOwnProperty(p)&&(g[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:l,key:y,ref:w,props:g,_owner:i.current}}return bc.Fragment=n,bc.jsx=s,bc.jsxs=s,bc}var bA;function PU(){return bA||(bA=1,Ky.exports=IU()),Ky.exports}var E=PU(),ie=aE();const ne=gt(ie);var Sd={},Qy={exports:{}},Qn={},Yy={exports:{}},Jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function OU(){return xA||(xA=1,function(t){function e(B,K){var Z=B.length;B.push(K);e:for(;0<Z;){var z=Z-1>>>1,Y=B[z];if(0<i(Y,K))B[z]=K,B[Z]=Y,Z=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],Z=B.pop();if(Z!==K){B[0]=Z;e:for(var z=0,Y=B.length,de=Y>>>1;z<de;){var Ce=2*(z+1)-1,ae=B[Ce],_e=Ce+1,xe=B[_e];if(0>i(ae,Z))_e<Y&&0>i(xe,ae)?(B[z]=xe,B[_e]=Z,z=_e):(B[z]=ae,B[Ce]=Z,z=Ce);else if(_e<Y&&0>i(xe,Z))B[z]=xe,B[_e]=Z,z=_e;else break e}}return K}function i(B,K){var Z=B.sortIndex-K.sortIndex;return Z!==0?Z:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],h=[],p=1,g=null,y=3,w=!1,A=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(B){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=B)r(h),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(h)}}function F(B){if(T=!1,U(B),!A)if(n(c)!==null)A=!0,G(k);else{var K=n(h);K!==null&&J(F,K.startTime-B)}}function k(B,K){A=!1,T&&(T=!1,D(O),O=-1),w=!0;var Z=y;try{for(U(K),g=n(c);g!==null&&(!(g.expirationTime>K)||B&&!R());){var z=g.callback;if(typeof z=="function"){g.callback=null,y=g.priorityLevel;var Y=z(g.expirationTime<=K);K=t.unstable_now(),typeof Y=="function"?g.callback=Y:g===n(c)&&r(c),U(K)}else r(c);g=n(c)}if(g!==null)var de=!0;else{var Ce=n(h);Ce!==null&&J(F,Ce.startTime-K),de=!1}return de}finally{g=null,y=Z,w=!1}}var C=!1,I=null,O=-1,S=5,N=-1;function R(){return!(t.unstable_now()-N<S)}function V(){if(I!==null){var B=t.unstable_now();N=B;var K=!0;try{K=I(!0,B)}finally{K?j():(C=!1,I=null)}}else C=!1}var j;if(typeof $=="function")j=function(){$(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=V,j=function(){W.postMessage(null)}}else j=function(){x(V,0)};function G(B){I=B,C||(C=!0,j())}function J(B,K){O=x(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){A||w||(A=!0,G(k))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Z=y;y=K;try{return B()}finally{y=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=y;y=B;try{return K()}finally{y=Z}},t.unstable_scheduleCallback=function(B,K,Z){var z=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?z+Z:z):Z=z,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Z+Y,B={id:p++,callback:K,priorityLevel:B,startTime:Z,expirationTime:Y,sortIndex:-1},Z>z?(B.sortIndex=Z,e(h,B),n(c)===null&&B===n(h)&&(T?(D(O),O=-1):T=!0,J(F,Z-z))):(B.sortIndex=Y,e(c,B),A||w||(A=!0,G(k))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var K=y;return function(){var Z=y;y=K;try{return B.apply(this,arguments)}finally{y=Z}}}}(Jy)),Jy}var EA;function CU(){return EA||(EA=1,Yy.exports=OU()),Yy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function RU(){if(TA)return Qn;TA=1;var t=aE(),e=CU();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(a){return c.call(g,a)?!0:c.call(p,a)?!1:h.test(a)?g[a]=!0:(p[a]=!0,!1)}function w(a,u,f,m){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function A(a,u,f,m){if(u===null||typeof u>"u"||w(a,u,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function T(a,u,f,m,v,b,L){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=a,this.type=u,this.sanitizeURL=b,this.removeEmptyString=L}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];x[u]=new T(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function $(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(D,$);x[u]=new T(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(D,$);x[u]=new T(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(D,$);x[u]=new T(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function U(a,u,f,m){var v=x.hasOwnProperty(u)?x[u]:null;(v!==null?v.type!==0:m||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(A(u,f,v,m)&&(f=null),m||v===null?y(u)&&(f===null?a.removeAttribute(u):a.setAttribute(u,""+f)):v.mustUseProperty?a[v.propertyName]=f===null?v.type===3?!1:"":f:(u=v.attributeName,m=v.attributeNamespace,f===null?a.removeAttribute(u):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,m?a.setAttributeNS(m,u,f):a.setAttribute(u,f))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),B=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Object.assign,z;function Y(a){if(z===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||""}return`
`+z+a}var de=!1;function Ce(a,u){if(!a||de)return"";de=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(oe){var m=oe}Reflect.construct(a,[],u)}else{try{u.call()}catch(oe){m=oe}a.call(u.prototype)}else{try{throw Error()}catch(oe){m=oe}a()}}catch(oe){if(oe&&m&&typeof oe.stack=="string"){for(var v=oe.stack.split(`
`),b=m.stack.split(`
`),L=v.length-1,H=b.length-1;1<=L&&0<=H&&v[L]!==b[H];)H--;for(;1<=L&&0<=H;L--,H--)if(v[L]!==b[H]){if(L!==1||H!==1)do if(L--,H--,0>H||v[L]!==b[H]){var X=`
`+v[L].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=L&&0<=H);break}}}finally{de=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?Y(a):""}function ae(a){switch(a.tag){case 5:return Y(a.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return a=Ce(a.type,!1),a;case 11:return a=Ce(a.type.render,!1),a;case 1:return a=Ce(a.type,!0),a;default:return""}}function _e(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case C:return"Portal";case S:return"Profiler";case O:return"StrictMode";case j:return"Suspense";case M:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case R:return(a.displayName||"Context")+".Consumer";case N:return(a._context.displayName||"Context")+".Provider";case V:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case W:return u=a.displayName||null,u!==null?u:_e(a.type)||"Memo";case G:u=a._payload,a=a._init;try{return _e(a(u))}catch{}}return null}function xe(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ie(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function le(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function we(a){var u=le(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),m=""+a[u];if(!a.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,b=f.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return v.call(this)},set:function(L){m=""+L,b.call(this,L)}}),Object.defineProperty(a,u,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(L){m=""+L},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Ne(a){a._valueTracker||(a._valueTracker=we(a))}function he(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var f=u.getValue(),m="";return a&&(m=le(a)?a.checked?"true":"false":a.value),a=m,a!==f?(u.setValue(a),!0):!1}function Ge(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function He(a,u){var f=u.checked;return Z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function Ye(a,u){var f=u.defaultValue==null?"":u.defaultValue,m=u.checked!=null?u.checked:u.defaultChecked;f=Ie(u.value!=null?u.value:f),a._wrapperState={initialChecked:m,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Be(a,u){u=u.checked,u!=null&&U(a,"checked",u,!1)}function bt(a,u){Be(a,u);var f=Ie(u.value),m=u.type;if(f!=null)m==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?ir(a,u.type,f):u.hasOwnProperty("defaultValue")&&ir(a,u.type,Ie(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function rr(a,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var m=u.type;if(!(m!=="submit"&&m!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,f||u===a.value||(a.value=u),a.defaultValue=u}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function ir(a,u,f){(u!=="number"||Ge(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var qn=Array.isArray;function pn(a,u,f,m){if(a=a.options,u){u={};for(var v=0;v<f.length;v++)u["$"+f[v]]=!0;for(f=0;f<a.length;f++)v=u.hasOwnProperty("$"+a[f].value),a[f].selected!==v&&(a[f].selected=v),v&&m&&(a[f].defaultSelected=!0)}else{for(f=""+Ie(f),u=null,v=0;v<a.length;v++){if(a[v].value===f){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}u!==null||a[v].disabled||(u=a[v])}u!==null&&(u.selected=!0)}}function or(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ci(a,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(n(92));if(qn(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),f=u}a._wrapperState={initialValue:Ie(f)}}function $i(a,u){var f=Ie(u.value),m=Ie(u.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),u.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),m!=null&&(a.defaultValue=""+m)}function Po(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Xt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Xt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Vi,Rl=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,m,v){MSApp.execUnsafeLocalFunction(function(){return a(u,f,m,v)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Vi=Vi||document.createElement("div"),Vi.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Vi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Oo(a,u){if(u){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=u;return}}a.textContent=u}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ka=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(a){ka.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Ra[u]=Ra[a]})});function kl(a,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||Ra.hasOwnProperty(a)&&Ra[a]?(""+u).trim():u+"px"}function Nl(a,u){a=a.style;for(var f in u)if(u.hasOwnProperty(f)){var m=f.indexOf("--")===0,v=kl(f,u[f],m);f==="float"&&(f="cssFloat"),m?a.setProperty(f,v):a[f]=v}}var jl=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(a,u){if(u){if(jl[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Ml(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function Us(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Fs=null,_r=null,fi=null;function qs(a){if(a=ac(a)){if(typeof Fs!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Vh(u),Fs(a.stateNode,a.type,u))}}function hi(a){_r?fi?fi.push(a):fi=[a]:_r=a}function Ll(){if(_r){var a=_r,u=fi;if(fi=_r=null,qs(a),u)for(a=0;a<u.length;a++)qs(u[a])}}function ja(a,u){return a(u)}function $l(){}var Ui=!1;function Vl(a,u,f){if(Ui)return a(u,f);Ui=!0;try{return ja(a,u,f)}finally{Ui=!1,(_r!==null||fi!==null)&&($l(),Ll())}}function Ft(a,u){var f=a.stateNode;if(f===null)return null;var m=Vh(f);if(m===null)return null;f=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(n(231,u,typeof f));return f}var Bs=!1;if(l)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{Bs=!1}function Da(a,u,f,m,v,b,L,H,X){var oe=Array.prototype.slice.call(arguments,3);try{u.apply(f,oe)}catch(me){this.onError(me)}}var Ma=!1,zs=null,qr=!1,Ul=null,xg={onError:function(a){Ma=!0,zs=a}};function Hs(a,u,f,m,v,b,L,H,X){Ma=!1,zs=null,Da.apply(xg,arguments)}function ch(a,u,f,m,v,b,L,H,X){if(Hs.apply(this,arguments),Ma){if(Ma){var oe=zs;Ma=!1,zs=null}else throw Error(n(198));qr||(qr=!0,Ul=oe)}}function Br(a){var u=a,f=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(f=u.return),a=u.return;while(a)}return u.tag===3?f:null}function La(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function zr(a){if(Br(a)!==a)throw Error(n(188))}function fh(a){var u=a.alternate;if(!u){if(u=Br(a),u===null)throw Error(n(188));return u!==a?null:a}for(var f=a,m=u;;){var v=f.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){f=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===f)return zr(v),a;if(b===m)return zr(v),u;b=b.sibling}throw Error(n(188))}if(f.return!==m.return)f=v,m=b;else{for(var L=!1,H=v.child;H;){if(H===f){L=!0,f=v,m=b;break}if(H===m){L=!0,m=v,f=b;break}H=H.sibling}if(!L){for(H=b.child;H;){if(H===f){L=!0,f=b,m=v;break}if(H===m){L=!0,m=b,f=v;break}H=H.sibling}if(!L)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?a:u}function Fl(a){return a=fh(a),a!==null?Ws(a):null}function Ws(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Ws(a);if(u!==null)return u;a=a.sibling}return null}var Gs=e.unstable_scheduleCallback,ql=e.unstable_cancelCallback,hh=e.unstable_shouldYield,Eg=e.unstable_requestPaint,xt=e.unstable_now,dh=e.unstable_getCurrentPriorityLevel,$a=e.unstable_ImmediatePriority,Co=e.unstable_UserBlockingPriority,wr=e.unstable_NormalPriority,Bl=e.unstable_LowPriority,ph=e.unstable_IdlePriority,Va=null,ar=null;function mh(a){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Va,a,void 0,(a.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:yh,zl=Math.log,gh=Math.LN2;function yh(a){return a>>>=0,a===0?32:31-(zl(a)/gh|0)|0}var Ks=64,Xs=4194304;function Ro(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Ua(a,u){var f=a.pendingLanes;if(f===0)return 0;var m=0,v=a.suspendedLanes,b=a.pingedLanes,L=f&268435455;if(L!==0){var H=L&~v;H!==0?m=Ro(H):(b&=L,b!==0&&(m=Ro(b)))}else L=f&~v,L!==0?m=Ro(L):b!==0&&(m=Ro(b));if(m===0)return 0;if(u!==0&&u!==m&&(u&v)===0&&(v=m&-m,b=u&-u,v>=b||v===16&&(b&4194240)!==0))return u;if((m&4)!==0&&(m|=f&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=m;0<u;)f=31-kn(u),v=1<<f,m|=a[f],u&=~v;return m}function Tg(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fi(a,u){for(var f=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes;0<b;){var L=31-kn(b),H=1<<L,X=v[L];X===-1?((H&f)===0||(H&m)!==0)&&(v[L]=Tg(H,u)):X<=u&&(a.expiredLanes|=H),b&=~H}}function sr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Fa(){var a=Ks;return Ks<<=1,(Ks&4194240)===0&&(Ks=64),a}function ko(a){for(var u=[],f=0;31>f;f++)u.push(a);return u}function No(a,u,f){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-kn(u),a[u]=f}function yt(a,u){var f=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<f;){var v=31-kn(f),b=1<<v;u[v]=0,m[v]=-1,a[v]=-1,f&=~b}}function jo(a,u){var f=a.entangledLanes|=u;for(a=a.entanglements;f;){var m=31-kn(f),v=1<<m;v&u|a[m]&u&&(a[m]|=u),f&=~v}}var tt=0;function Do(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var vh,Qs,_h,wh,bh,Hl=!1,di=[],mn=null,Hr=null,Wr=null,Mo=new Map,br=new Map,pi=[],Sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xh(a,u){switch(a){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Mo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(u.pointerId)}}function Bn(a,u,f,m,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:u,domEventName:f,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},u!==null&&(u=ac(u),u!==null&&Qs(u)),a):(a.eventSystemFlags|=m,u=a.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),a)}function Ag(a,u,f,m,v){switch(u){case"focusin":return mn=Bn(mn,a,u,f,m,v),!0;case"dragenter":return Hr=Bn(Hr,a,u,f,m,v),!0;case"mouseover":return Wr=Bn(Wr,a,u,f,m,v),!0;case"pointerover":var b=v.pointerId;return Mo.set(b,Bn(Mo.get(b)||null,a,u,f,m,v)),!0;case"gotpointercapture":return b=v.pointerId,br.set(b,Bn(br.get(b)||null,a,u,f,m,v)),!0}return!1}function Eh(a){var u=Wa(a.target);if(u!==null){var f=Br(u);if(f!==null){if(u=f.tag,u===13){if(u=La(f),u!==null){a.blockedOn=u,bh(a.priority,function(){_h(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qi(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var f=Ys(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);Na=m,f.target.dispatchEvent(m),Na=null}else return u=ac(f),u!==null&&Qs(u),a.blockedOn=f,!1;u.shift()}return!0}function qa(a,u,f){qi(a)&&f.delete(u)}function Th(){Hl=!1,mn!==null&&qi(mn)&&(mn=null),Hr!==null&&qi(Hr)&&(Hr=null),Wr!==null&&qi(Wr)&&(Wr=null),Mo.forEach(qa),br.forEach(qa)}function Gr(a,u){a.blockedOn===u&&(a.blockedOn=null,Hl||(Hl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Th)))}function Kr(a){function u(v){return Gr(v,a)}if(0<di.length){Gr(di[0],a);for(var f=1;f<di.length;f++){var m=di[f];m.blockedOn===a&&(m.blockedOn=null)}}for(mn!==null&&Gr(mn,a),Hr!==null&&Gr(Hr,a),Wr!==null&&Gr(Wr,a),Mo.forEach(u),br.forEach(u),f=0;f<pi.length;f++)m=pi[f],m.blockedOn===a&&(m.blockedOn=null);for(;0<pi.length&&(f=pi[0],f.blockedOn===null);)Eh(f),f.blockedOn===null&&pi.shift()}var Bi=F.ReactCurrentBatchConfig,Lo=!0;function Ot(a,u,f,m){var v=tt,b=Bi.transition;Bi.transition=null;try{tt=1,Wl(a,u,f,m)}finally{tt=v,Bi.transition=b}}function Ig(a,u,f,m){var v=tt,b=Bi.transition;Bi.transition=null;try{tt=4,Wl(a,u,f,m)}finally{tt=v,Bi.transition=b}}function Wl(a,u,f,m){if(Lo){var v=Ys(a,u,f,m);if(v===null)$g(a,u,m,Ba,f),xh(a,m);else if(Ag(v,a,u,f,m))m.stopPropagation();else if(xh(a,m),u&4&&-1<Sg.indexOf(a)){for(;v!==null;){var b=ac(v);if(b!==null&&vh(b),b=Ys(a,u,f,m),b===null&&$g(a,u,m,Ba,f),b===v)break;v=b}v!==null&&m.stopPropagation()}else $g(a,u,m,null,f)}}var Ba=null;function Ys(a,u,f,m){if(Ba=null,a=Us(m),a=Wa(a),a!==null)if(u=Br(a),u===null)a=null;else if(f=u.tag,f===13){if(a=La(u),a!==null)return a;a=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Ba=a,null}function Gl(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dh()){case $a:return 1;case Co:return 4;case wr:case Bl:return 16;case ph:return 536870912;default:return 16}default:return 16}}var ur=null,Js=null,zn=null;function Kl(){if(zn)return zn;var a,u=Js,f=u.length,m,v="value"in ur?ur.value:ur.textContent,b=v.length;for(a=0;a<f&&u[a]===v[a];a++);var L=f-a;for(m=1;m<=L&&u[f-m]===v[b-m];m++);return zn=v.slice(a,1<m?1-m:void 0)}function Zs(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function mi(){return!0}function Xl(){return!1}function gn(a){function u(f,m,v,b,L){this._reactName=f,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(f=a[H],this[H]=f?f(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?mi:Xl,this.isPropagationStopped=Xl,this}return Z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),u}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=gn(Xr),gi=Z({},Xr,{view:0,detail:0}),Pg=gn(gi),tu,zi,$o,za=Z({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$o&&($o&&a.type==="mousemove"?(tu=a.screenX-$o.screenX,zi=a.screenY-$o.screenY):zi=tu=0,$o=a),tu)},movementY:function(a){return"movementY"in a?a.movementY:zi}}),nu=gn(za),Ql=Z({},za,{dataTransfer:0}),Sh=gn(Ql),ru=Z({},gi,{relatedTarget:0}),iu=gn(ru),Ah=Z({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hi=gn(Ah),Ih=Z({},Xr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ph=gn(Ih),Oh=Z({},Xr,{data:0}),Yl=gn(Oh),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rh(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Ch[a])?!!u[a]:!1}function yi(){return Rh}var d=Z({},gi,{key:function(a){if(a.key){var u=ou[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Zs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nn[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(a){return a.type==="keypress"?Zs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Zs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_=gn(d),P=Z({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=gn(P),ee=Z({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),se=gn(ee),ve=Z({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=gn(ve),Yt=Z({},za,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=gn(Yt),sn=[9,13,27,32],zt=l&&"CompositionEvent"in window,xr=null;l&&"documentMode"in document&&(xr=document.documentMode);var lr=l&&"TextEvent"in window&&!xr,Ha=l&&(!zt||xr&&8<xr&&11>=xr),au=" ",h1=!1;function d1(a,u){switch(a){case"keyup":return sn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var su=!1;function EV(a,u){switch(a){case"compositionend":return p1(u);case"keypress":return u.which!==32?null:(h1=!0,au);case"textInput":return a=u.data,a===au&&h1?null:a;default:return null}}function TV(a,u){if(su)return a==="compositionend"||!zt&&d1(a,u)?(a=Kl(),zn=Js=ur=null,su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ha&&u.locale!=="ko"?null:u.data;default:return null}}var SV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m1(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!SV[a.type]:u==="textarea"}function g1(a,u,f,m){hi(m),u=Mh(u,"onChange"),0<u.length&&(f=new eu("onChange","change",null,f,m),a.push({event:f,listeners:u}))}var Jl=null,Zl=null;function AV(a){j1(a,0)}function kh(a){var u=hu(a);if(he(u))return a}function IV(a,u){if(a==="change")return u}var y1=!1;if(l){var Og;if(l){var Cg="oninput"in document;if(!Cg){var v1=document.createElement("div");v1.setAttribute("oninput","return;"),Cg=typeof v1.oninput=="function"}Og=Cg}else Og=!1;y1=Og&&(!document.documentMode||9<document.documentMode)}function _1(){Jl&&(Jl.detachEvent("onpropertychange",w1),Zl=Jl=null)}function w1(a){if(a.propertyName==="value"&&kh(Zl)){var u=[];g1(u,Zl,a,Us(a)),Vl(AV,u)}}function PV(a,u,f){a==="focusin"?(_1(),Jl=u,Zl=f,Jl.attachEvent("onpropertychange",w1)):a==="focusout"&&_1()}function OV(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return kh(Zl)}function CV(a,u){if(a==="click")return kh(u)}function RV(a,u){if(a==="input"||a==="change")return kh(u)}function kV(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Qr=typeof Object.is=="function"?Object.is:kV;function ec(a,u){if(Qr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var f=Object.keys(a),m=Object.keys(u);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var v=f[m];if(!c.call(u,v)||!Qr(a[v],u[v]))return!1}return!0}function b1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function x1(a,u){var f=b1(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=u&&m>=u)return{node:f,offset:u-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=b1(f)}}function E1(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?E1(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function T1(){for(var a=window,u=Ge();u instanceof a.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)a=u.contentWindow;else break;u=Ge(a.document)}return u}function Rg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function NV(a){var u=T1(),f=a.focusedElem,m=a.selectionRange;if(u!==f&&f&&f.ownerDocument&&E1(f.ownerDocument.documentElement,f)){if(m!==null&&Rg(f)){if(u=m.start,a=m.end,a===void 0&&(a=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(a,f.value.length);else if(a=(u=f.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var v=f.textContent.length,b=Math.min(m.start,v);m=m.end===void 0?b:Math.min(m.end,v),!a.extend&&b>m&&(v=m,m=b,b=v),v=x1(f,b);var L=x1(f,m);v&&L&&(a.rangeCount!==1||a.anchorNode!==v.node||a.anchorOffset!==v.offset||a.focusNode!==L.node||a.focusOffset!==L.offset)&&(u=u.createRange(),u.setStart(v.node,v.offset),a.removeAllRanges(),b>m?(a.addRange(u),a.extend(L.node,L.offset)):(u.setEnd(L.node,L.offset),a.addRange(u)))}}for(u=[],a=f;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)a=u[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var jV=l&&"documentMode"in document&&11>=document.documentMode,uu=null,kg=null,tc=null,Ng=!1;function S1(a,u,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ng||uu==null||uu!==Ge(m)||(m=uu,"selectionStart"in m&&Rg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),tc&&ec(tc,m)||(tc=m,m=Mh(kg,"onSelect"),0<m.length&&(u=new eu("onSelect","select",null,u,f),a.push({event:u,listeners:m}),u.target=uu)))}function Nh(a,u){var f={};return f[a.toLowerCase()]=u.toLowerCase(),f["Webkit"+a]="webkit"+u,f["Moz"+a]="moz"+u,f}var lu={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},jg={},A1={};l&&(A1=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function jh(a){if(jg[a])return jg[a];if(!lu[a])return a;var u=lu[a],f;for(f in u)if(u.hasOwnProperty(f)&&f in A1)return jg[a]=u[f];return a}var I1=jh("animationend"),P1=jh("animationiteration"),O1=jh("animationstart"),C1=jh("transitionend"),R1=new Map,k1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(a,u){R1.set(a,u),o(u,[a])}for(var Dg=0;Dg<k1.length;Dg++){var Mg=k1[Dg],DV=Mg.toLowerCase(),MV=Mg[0].toUpperCase()+Mg.slice(1);Vo(DV,"on"+MV)}Vo(I1,"onAnimationEnd"),Vo(P1,"onAnimationIteration"),Vo(O1,"onAnimationStart"),Vo("dblclick","onDoubleClick"),Vo("focusin","onFocus"),Vo("focusout","onBlur"),Vo(C1,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LV=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function N1(a,u,f){var m=a.type||"unknown-event";a.currentTarget=f,ch(m,u,void 0,a),a.currentTarget=null}function j1(a,u){u=(u&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],v=m.event;m=m.listeners;e:{var b=void 0;if(u)for(var L=m.length-1;0<=L;L--){var H=m[L],X=H.instance,oe=H.currentTarget;if(H=H.listener,X!==b&&v.isPropagationStopped())break e;N1(v,H,oe),b=X}else for(L=0;L<m.length;L++){if(H=m[L],X=H.instance,oe=H.currentTarget,H=H.listener,X!==b&&v.isPropagationStopped())break e;N1(v,H,oe),b=X}}}if(qr)throw a=Ul,qr=!1,Ul=null,a}function St(a,u){var f=u[zg];f===void 0&&(f=u[zg]=new Set);var m=a+"__bubble";f.has(m)||(D1(u,a,2,!1),f.add(m))}function Lg(a,u,f){var m=0;u&&(m|=4),D1(f,a,m,u)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function rc(a){if(!a[Dh]){a[Dh]=!0,r.forEach(function(f){f!=="selectionchange"&&(LV.has(f)||Lg(f,!1,a),Lg(f,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Dh]||(u[Dh]=!0,Lg("selectionchange",!1,u))}}function D1(a,u,f,m){switch(Gl(u)){case 1:var v=Ot;break;case 4:v=Ig;break;default:v=Wl}f=v.bind(null,u,f,a),v=void 0,!Bs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(u,f,{capture:!0,passive:v}):a.addEventListener(u,f,!0):v!==void 0?a.addEventListener(u,f,{passive:v}):a.addEventListener(u,f,!1)}function $g(a,u,f,m,v){var b=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var H=m.stateNode.containerInfo;if(H===v||H.nodeType===8&&H.parentNode===v)break;if(L===4)for(L=m.return;L!==null;){var X=L.tag;if((X===3||X===4)&&(X=L.stateNode.containerInfo,X===v||X.nodeType===8&&X.parentNode===v))return;L=L.return}for(;H!==null;){if(L=Wa(H),L===null)return;if(X=L.tag,X===5||X===6){m=b=L;continue e}H=H.parentNode}}m=m.return}Vl(function(){var oe=b,me=Us(f),ge=[];e:{var pe=R1.get(a);if(pe!==void 0){var be=eu,Pe=a;switch(a){case"keypress":if(Zs(f)===0)break e;case"keydown":case"keyup":be=_;break;case"focusin":Pe="focus",be=iu;break;case"focusout":Pe="blur",be=iu;break;case"beforeblur":case"afterblur":be=iu;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=se;break;case I1:case P1:case O1:be=Hi;break;case C1:be=dt;break;case"scroll":be=Pg;break;case"wheel":be=nt;break;case"copy":case"cut":case"paste":be=Ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=q}var Re=(u&4)!==0,qt=!Re&&a==="scroll",te=Re?pe!==null?pe+"Capture":null:pe;Re=[];for(var Q=oe,re;Q!==null;){re=Q;var ye=re.stateNode;if(re.tag===5&&ye!==null&&(re=ye,te!==null&&(ye=Ft(Q,te),ye!=null&&Re.push(ic(Q,ye,re)))),qt)break;Q=Q.return}0<Re.length&&(pe=new be(pe,Pe,null,f,me),ge.push({event:pe,listeners:Re}))}}if((u&7)===0){e:{if(pe=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",pe&&f!==Na&&(Pe=f.relatedTarget||f.fromElement)&&(Wa(Pe)||Pe[Wi]))break e;if((be||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,be?(Pe=f.relatedTarget||f.toElement,be=oe,Pe=Pe?Wa(Pe):null,Pe!==null&&(qt=Br(Pe),Pe!==qt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(be=null,Pe=oe),be!==Pe)){if(Re=nu,ye="onMouseLeave",te="onMouseEnter",Q="mouse",(a==="pointerout"||a==="pointerover")&&(Re=q,ye="onPointerLeave",te="onPointerEnter",Q="pointer"),qt=be==null?pe:hu(be),re=Pe==null?pe:hu(Pe),pe=new Re(ye,Q+"leave",be,f,me),pe.target=qt,pe.relatedTarget=re,ye=null,Wa(me)===oe&&(Re=new Re(te,Q+"enter",Pe,f,me),Re.target=re,Re.relatedTarget=qt,ye=Re),qt=ye,be&&Pe)t:{for(Re=be,te=Pe,Q=0,re=Re;re;re=cu(re))Q++;for(re=0,ye=te;ye;ye=cu(ye))re++;for(;0<Q-re;)Re=cu(Re),Q--;for(;0<re-Q;)te=cu(te),re--;for(;Q--;){if(Re===te||te!==null&&Re===te.alternate)break t;Re=cu(Re),te=cu(te)}Re=null}else Re=null;be!==null&&M1(ge,pe,be,Re,!1),Pe!==null&&qt!==null&&M1(ge,qt,Pe,Re,!0)}}e:{if(pe=oe?hu(oe):window,be=pe.nodeName&&pe.nodeName.toLowerCase(),be==="select"||be==="input"&&pe.type==="file")var ke=IV;else if(m1(pe))if(y1)ke=RV;else{ke=OV;var Me=PV}else(be=pe.nodeName)&&be.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(ke=CV);if(ke&&(ke=ke(a,oe))){g1(ge,ke,f,me);break e}Me&&Me(a,pe,oe),a==="focusout"&&(Me=pe._wrapperState)&&Me.controlled&&pe.type==="number"&&ir(pe,"number",pe.value)}switch(Me=oe?hu(oe):window,a){case"focusin":(m1(Me)||Me.contentEditable==="true")&&(uu=Me,kg=oe,tc=null);break;case"focusout":tc=kg=uu=null;break;case"mousedown":Ng=!0;break;case"contextmenu":case"mouseup":case"dragend":Ng=!1,S1(ge,f,me);break;case"selectionchange":if(jV)break;case"keydown":case"keyup":S1(ge,f,me)}var Le;if(zt)e:{switch(a){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else su?d1(a,f)&&(Fe="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ha&&f.locale!=="ko"&&(su||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&su&&(Le=Kl()):(ur=me,Js="value"in ur?ur.value:ur.textContent,su=!0)),Me=Mh(oe,Fe),0<Me.length&&(Fe=new Yl(Fe,a,null,f,me),ge.push({event:Fe,listeners:Me}),Le?Fe.data=Le:(Le=p1(f),Le!==null&&(Fe.data=Le)))),(Le=lr?EV(a,f):TV(a,f))&&(oe=Mh(oe,"onBeforeInput"),0<oe.length&&(me=new Yl("onBeforeInput","beforeinput",null,f,me),ge.push({event:me,listeners:oe}),me.data=Le))}j1(ge,u)})}function ic(a,u,f){return{instance:a,listener:u,currentTarget:f}}function Mh(a,u){for(var f=u+"Capture",m=[];a!==null;){var v=a,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=Ft(a,f),b!=null&&m.unshift(ic(a,b,v)),b=Ft(a,u),b!=null&&m.push(ic(a,b,v))),a=a.return}return m}function cu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function M1(a,u,f,m,v){for(var b=u._reactName,L=[];f!==null&&f!==m;){var H=f,X=H.alternate,oe=H.stateNode;if(X!==null&&X===m)break;H.tag===5&&oe!==null&&(H=oe,v?(X=Ft(f,b),X!=null&&L.unshift(ic(f,X,H))):v||(X=Ft(f,b),X!=null&&L.push(ic(f,X,H)))),f=f.return}L.length!==0&&a.push({event:u,listeners:L})}var $V=/\r\n?/g,VV=/\u0000|\uFFFD/g;function L1(a){return(typeof a=="string"?a:""+a).replace($V,`
`).replace(VV,"")}function Lh(a,u,f){if(u=L1(u),L1(a)!==u&&f)throw Error(n(425))}function $h(){}var Vg=null,Ug=null;function Fg(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var qg=typeof setTimeout=="function"?setTimeout:void 0,UV=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,FV=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(a){return $1.resolve(null).then(a).catch(qV)}:qg;function qV(a){setTimeout(function(){throw a})}function Bg(a,u){var f=u,m=0;do{var v=f.nextSibling;if(a.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(m===0){a.removeChild(v),Kr(u);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=v}while(f);Kr(u)}function Uo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function V1(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return a;u--}else f==="/$"&&u++}a=a.previousSibling}return null}var fu=Math.random().toString(36).slice(2),vi="__reactFiber$"+fu,oc="__reactProps$"+fu,Wi="__reactContainer$"+fu,zg="__reactEvents$"+fu,BV="__reactListeners$"+fu,zV="__reactHandles$"+fu;function Wa(a){var u=a[vi];if(u)return u;for(var f=a.parentNode;f;){if(u=f[Wi]||f[vi]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(a=V1(a);a!==null;){if(f=a[vi])return f;a=V1(a)}return u}a=f,f=a.parentNode}return null}function ac(a){return a=a[vi]||a[Wi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function hu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Vh(a){return a[oc]||null}var Hg=[],du=-1;function Fo(a){return{current:a}}function At(a){0>du||(a.current=Hg[du],Hg[du]=null,du--)}function Et(a,u){du++,Hg[du]=a.current,a.current=u}var qo={},En=Fo(qo),Hn=Fo(!1),Ga=qo;function pu(a,u){var f=a.type.contextTypes;if(!f)return qo;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===u)return m.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in f)v[b]=u[b];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=v),v}function Wn(a){return a=a.childContextTypes,a!=null}function Uh(){At(Hn),At(En)}function U1(a,u,f){if(En.current!==qo)throw Error(n(168));Et(En,u),Et(Hn,f)}function F1(a,u,f){var m=a.stateNode;if(u=u.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var v in m)if(!(v in u))throw Error(n(108,xe(a)||"Unknown",v));return Z({},f,m)}function Fh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||qo,Ga=En.current,Et(En,a),Et(Hn,Hn.current),!0}function q1(a,u,f){var m=a.stateNode;if(!m)throw Error(n(169));f?(a=F1(a,u,Ga),m.__reactInternalMemoizedMergedChildContext=a,At(Hn),At(En),Et(En,a)):At(Hn),Et(Hn,f)}var Gi=null,qh=!1,Wg=!1;function B1(a){Gi===null?Gi=[a]:Gi.push(a)}function HV(a){qh=!0,B1(a)}function Bo(){if(!Wg&&Gi!==null){Wg=!0;var a=0,u=tt;try{var f=Gi;for(tt=1;a<f.length;a++){var m=f[a];do m=m(!0);while(m!==null)}Gi=null,qh=!1}catch(v){throw Gi!==null&&(Gi=Gi.slice(a+1)),Gs($a,Bo),v}finally{tt=u,Wg=!1}}return null}var mu=[],gu=0,Bh=null,zh=0,Er=[],Tr=0,Ka=null,Ki=1,Xi="";function Xa(a,u){mu[gu++]=zh,mu[gu++]=Bh,Bh=a,zh=u}function z1(a,u,f){Er[Tr++]=Ki,Er[Tr++]=Xi,Er[Tr++]=Ka,Ka=a;var m=Ki;a=Xi;var v=32-kn(m)-1;m&=~(1<<v),f+=1;var b=32-kn(u)+v;if(30<b){var L=v-v%5;b=(m&(1<<L)-1).toString(32),m>>=L,v-=L,Ki=1<<32-kn(u)+v|f<<v|m,Xi=b+a}else Ki=1<<b|f<<v|m,Xi=a}function Gg(a){a.return!==null&&(Xa(a,1),z1(a,1,0))}function Kg(a){for(;a===Bh;)Bh=mu[--gu],mu[gu]=null,zh=mu[--gu],mu[gu]=null;for(;a===Ka;)Ka=Er[--Tr],Er[Tr]=null,Xi=Er[--Tr],Er[Tr]=null,Ki=Er[--Tr],Er[Tr]=null}var cr=null,fr=null,Ct=!1,Yr=null;function H1(a,u){var f=Pr(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=a,u=a.deletions,u===null?(a.deletions=[f],a.flags|=16):u.push(f)}function W1(a,u){switch(a.tag){case 5:var f=a.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,cr=a,fr=Uo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,cr=a,fr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=Ka!==null?{id:Ki,overflow:Xi}:null,a.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Pr(18,null,null,0),f.stateNode=u,f.return=a,a.child=f,cr=a,fr=null,!0):!1;default:return!1}}function Xg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Qg(a){if(Ct){var u=fr;if(u){var f=u;if(!W1(a,u)){if(Xg(a))throw Error(n(418));u=Uo(f.nextSibling);var m=cr;u&&W1(a,u)?H1(m,f):(a.flags=a.flags&-4097|2,Ct=!1,cr=a)}}else{if(Xg(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ct=!1,cr=a}}}function G1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;cr=a}function Hh(a){if(a!==cr)return!1;if(!Ct)return G1(a),Ct=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Fg(a.type,a.memoizedProps)),u&&(u=fr)){if(Xg(a))throw K1(),Error(n(418));for(;u;)H1(a,u),u=Uo(u.nextSibling)}if(G1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(u===0){fr=Uo(a.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}a=a.nextSibling}fr=null}}else fr=cr?Uo(a.stateNode.nextSibling):null;return!0}function K1(){for(var a=fr;a;)a=Uo(a.nextSibling)}function yu(){fr=cr=null,Ct=!1}function Yg(a){Yr===null?Yr=[a]:Yr.push(a)}var WV=F.ReactCurrentBatchConfig;function sc(a,u,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var m=f.stateNode}if(!m)throw Error(n(147,a));var v=m,b=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===b?u.ref:(u=function(L){var H=v.refs;L===null?delete H[b]:H[b]=L},u._stringRef=b,u)}if(typeof a!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,a))}return a}function Wh(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function X1(a){var u=a._init;return u(a._payload)}function Q1(a){function u(te,Q){if(a){var re=te.deletions;re===null?(te.deletions=[Q],te.flags|=16):re.push(Q)}}function f(te,Q){if(!a)return null;for(;Q!==null;)u(te,Q),Q=Q.sibling;return null}function m(te,Q){for(te=new Map;Q!==null;)Q.key!==null?te.set(Q.key,Q):te.set(Q.index,Q),Q=Q.sibling;return te}function v(te,Q){return te=Yo(te,Q),te.index=0,te.sibling=null,te}function b(te,Q,re){return te.index=re,a?(re=te.alternate,re!==null?(re=re.index,re<Q?(te.flags|=2,Q):re):(te.flags|=2,Q)):(te.flags|=1048576,Q)}function L(te){return a&&te.alternate===null&&(te.flags|=2),te}function H(te,Q,re,ye){return Q===null||Q.tag!==6?(Q=qy(re,te.mode,ye),Q.return=te,Q):(Q=v(Q,re),Q.return=te,Q)}function X(te,Q,re,ye){var ke=re.type;return ke===I?me(te,Q,re.props.children,ye,re.key):Q!==null&&(Q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===G&&X1(ke)===Q.type)?(ye=v(Q,re.props),ye.ref=sc(te,Q,re),ye.return=te,ye):(ye=gd(re.type,re.key,re.props,null,te.mode,ye),ye.ref=sc(te,Q,re),ye.return=te,ye)}function oe(te,Q,re,ye){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=By(re,te.mode,ye),Q.return=te,Q):(Q=v(Q,re.children||[]),Q.return=te,Q)}function me(te,Q,re,ye,ke){return Q===null||Q.tag!==7?(Q=rs(re,te.mode,ye,ke),Q.return=te,Q):(Q=v(Q,re),Q.return=te,Q)}function ge(te,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=qy(""+Q,te.mode,re),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return re=gd(Q.type,Q.key,Q.props,null,te.mode,re),re.ref=sc(te,null,Q),re.return=te,re;case C:return Q=By(Q,te.mode,re),Q.return=te,Q;case G:var ye=Q._init;return ge(te,ye(Q._payload),re)}if(qn(Q)||K(Q))return Q=rs(Q,te.mode,re,null),Q.return=te,Q;Wh(te,Q)}return null}function pe(te,Q,re,ye){var ke=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return ke!==null?null:H(te,Q,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return re.key===ke?X(te,Q,re,ye):null;case C:return re.key===ke?oe(te,Q,re,ye):null;case G:return ke=re._init,pe(te,Q,ke(re._payload),ye)}if(qn(re)||K(re))return ke!==null?null:me(te,Q,re,ye,null);Wh(te,re)}return null}function be(te,Q,re,ye,ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return te=te.get(re)||null,H(Q,te,""+ye,ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case k:return te=te.get(ye.key===null?re:ye.key)||null,X(Q,te,ye,ke);case C:return te=te.get(ye.key===null?re:ye.key)||null,oe(Q,te,ye,ke);case G:var Me=ye._init;return be(te,Q,re,Me(ye._payload),ke)}if(qn(ye)||K(ye))return te=te.get(re)||null,me(Q,te,ye,ke,null);Wh(Q,ye)}return null}function Pe(te,Q,re,ye){for(var ke=null,Me=null,Le=Q,Fe=Q=0,cn=null;Le!==null&&Fe<re.length;Fe++){Le.index>Fe?(cn=Le,Le=null):cn=Le.sibling;var at=pe(te,Le,re[Fe],ye);if(at===null){Le===null&&(Le=cn);break}a&&Le&&at.alternate===null&&u(te,Le),Q=b(at,Q,Fe),Me===null?ke=at:Me.sibling=at,Me=at,Le=cn}if(Fe===re.length)return f(te,Le),Ct&&Xa(te,Fe),ke;if(Le===null){for(;Fe<re.length;Fe++)Le=ge(te,re[Fe],ye),Le!==null&&(Q=b(Le,Q,Fe),Me===null?ke=Le:Me.sibling=Le,Me=Le);return Ct&&Xa(te,Fe),ke}for(Le=m(te,Le);Fe<re.length;Fe++)cn=be(Le,te,Fe,re[Fe],ye),cn!==null&&(a&&cn.alternate!==null&&Le.delete(cn.key===null?Fe:cn.key),Q=b(cn,Q,Fe),Me===null?ke=cn:Me.sibling=cn,Me=cn);return a&&Le.forEach(function(Jo){return u(te,Jo)}),Ct&&Xa(te,Fe),ke}function Re(te,Q,re,ye){var ke=K(re);if(typeof ke!="function")throw Error(n(150));if(re=ke.call(re),re==null)throw Error(n(151));for(var Me=ke=null,Le=Q,Fe=Q=0,cn=null,at=re.next();Le!==null&&!at.done;Fe++,at=re.next()){Le.index>Fe?(cn=Le,Le=null):cn=Le.sibling;var Jo=pe(te,Le,at.value,ye);if(Jo===null){Le===null&&(Le=cn);break}a&&Le&&Jo.alternate===null&&u(te,Le),Q=b(Jo,Q,Fe),Me===null?ke=Jo:Me.sibling=Jo,Me=Jo,Le=cn}if(at.done)return f(te,Le),Ct&&Xa(te,Fe),ke;if(Le===null){for(;!at.done;Fe++,at=re.next())at=ge(te,at.value,ye),at!==null&&(Q=b(at,Q,Fe),Me===null?ke=at:Me.sibling=at,Me=at);return Ct&&Xa(te,Fe),ke}for(Le=m(te,Le);!at.done;Fe++,at=re.next())at=be(Le,te,Fe,at.value,ye),at!==null&&(a&&at.alternate!==null&&Le.delete(at.key===null?Fe:at.key),Q=b(at,Q,Fe),Me===null?ke=at:Me.sibling=at,Me=at);return a&&Le.forEach(function(SU){return u(te,SU)}),Ct&&Xa(te,Fe),ke}function qt(te,Q,re,ye){if(typeof re=="object"&&re!==null&&re.type===I&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case k:e:{for(var ke=re.key,Me=Q;Me!==null;){if(Me.key===ke){if(ke=re.type,ke===I){if(Me.tag===7){f(te,Me.sibling),Q=v(Me,re.props.children),Q.return=te,te=Q;break e}}else if(Me.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===G&&X1(ke)===Me.type){f(te,Me.sibling),Q=v(Me,re.props),Q.ref=sc(te,Me,re),Q.return=te,te=Q;break e}f(te,Me);break}else u(te,Me);Me=Me.sibling}re.type===I?(Q=rs(re.props.children,te.mode,ye,re.key),Q.return=te,te=Q):(ye=gd(re.type,re.key,re.props,null,te.mode,ye),ye.ref=sc(te,Q,re),ye.return=te,te=ye)}return L(te);case C:e:{for(Me=re.key;Q!==null;){if(Q.key===Me)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){f(te,Q.sibling),Q=v(Q,re.children||[]),Q.return=te,te=Q;break e}else{f(te,Q);break}else u(te,Q);Q=Q.sibling}Q=By(re,te.mode,ye),Q.return=te,te=Q}return L(te);case G:return Me=re._init,qt(te,Q,Me(re._payload),ye)}if(qn(re))return Pe(te,Q,re,ye);if(K(re))return Re(te,Q,re,ye);Wh(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(f(te,Q.sibling),Q=v(Q,re),Q.return=te,te=Q):(f(te,Q),Q=qy(re,te.mode,ye),Q.return=te,te=Q),L(te)):f(te,Q)}return qt}var vu=Q1(!0),Y1=Q1(!1),Gh=Fo(null),Kh=null,_u=null,Jg=null;function Zg(){Jg=_u=Kh=null}function ey(a){var u=Gh.current;At(Gh),a._currentValue=u}function ty(a,u,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),a===f)break;a=a.return}}function wu(a,u){Kh=a,Jg=_u=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Gn=!0),a.firstContext=null)}function Sr(a){var u=a._currentValue;if(Jg!==a)if(a={context:a,memoizedValue:u,next:null},_u===null){if(Kh===null)throw Error(n(308));_u=a,Kh.dependencies={lanes:0,firstContext:a}}else _u=_u.next=a;return u}var Qa=null;function ny(a){Qa===null?Qa=[a]:Qa.push(a)}function J1(a,u,f,m){var v=u.interleaved;return v===null?(f.next=f,ny(u)):(f.next=v.next,v.next=f),u.interleaved=f,Qi(a,m)}function Qi(a,u){a.lanes|=u;var f=a.alternate;for(f!==null&&(f.lanes|=u),f=a,a=a.return;a!==null;)a.childLanes|=u,f=a.alternate,f!==null&&(f.childLanes|=u),f=a,a=a.return;return f.tag===3?f.stateNode:null}var zo=!1;function ry(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z1(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Yi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Ho(a,u,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(it&2)!==0){var v=m.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),m.pending=u,Qi(a,f)}return v=m.interleaved,v===null?(u.next=u,ny(m)):(u.next=v.next,v.next=u),m.interleaved=u,Qi(a,f)}function Xh(a,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var m=u.lanes;m&=a.pendingLanes,f|=m,u.lanes=f,jo(a,f)}}function eS(a,u){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var v=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};b===null?v=b=L:b=b.next=L,f=f.next}while(f!==null);b===null?v=b=u:b=b.next=u}else v=b=u;f={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,effects:m.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=u}function Qh(a,u,f,m){var v=a.updateQueue;zo=!1;var b=v.firstBaseUpdate,L=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var X=H,oe=X.next;X.next=null,L===null?b=oe:L.next=oe,L=X;var me=a.alternate;me!==null&&(me=me.updateQueue,H=me.lastBaseUpdate,H!==L&&(H===null?me.firstBaseUpdate=oe:H.next=oe,me.lastBaseUpdate=X))}if(b!==null){var ge=v.baseState;L=0,me=oe=X=null,H=b;do{var pe=H.lane,be=H.eventTime;if((m&pe)===pe){me!==null&&(me=me.next={eventTime:be,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Pe=a,Re=H;switch(pe=u,be=f,Re.tag){case 1:if(Pe=Re.payload,typeof Pe=="function"){ge=Pe.call(be,ge,pe);break e}ge=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Re.payload,pe=typeof Pe=="function"?Pe.call(be,ge,pe):Pe,pe==null)break e;ge=Z({},ge,pe);break e;case 2:zo=!0}}H.callback!==null&&H.lane!==0&&(a.flags|=64,pe=v.effects,pe===null?v.effects=[H]:pe.push(H))}else be={eventTime:be,lane:pe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},me===null?(oe=me=be,X=ge):me=me.next=be,L|=pe;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;pe=H,H=pe.next,pe.next=null,v.lastBaseUpdate=pe,v.shared.pending=null}}while(!0);if(me===null&&(X=ge),v.baseState=X,v.firstBaseUpdate=oe,v.lastBaseUpdate=me,u=v.shared.interleaved,u!==null){v=u;do L|=v.lane,v=v.next;while(v!==u)}else b===null&&(v.shared.lanes=0);Za|=L,a.lanes=L,a.memoizedState=ge}}function tS(a,u,f){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var m=a[u],v=m.callback;if(v!==null){if(m.callback=null,m=f,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var uc={},_i=Fo(uc),lc=Fo(uc),cc=Fo(uc);function Ya(a){if(a===uc)throw Error(n(174));return a}function iy(a,u){switch(Et(cc,u),Et(lc,a),Et(_i,uc),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Qt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Qt(u,a)}At(_i),Et(_i,u)}function bu(){At(_i),At(lc),At(cc)}function nS(a){Ya(cc.current);var u=Ya(_i.current),f=Qt(u,a.type);u!==f&&(Et(lc,a),Et(_i,f))}function oy(a){lc.current===a&&(At(_i),At(lc))}var kt=Fo(0);function Yh(a){for(var u=a;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ay=[];function sy(){for(var a=0;a<ay.length;a++)ay[a]._workInProgressVersionPrimary=null;ay.length=0}var Jh=F.ReactCurrentDispatcher,uy=F.ReactCurrentBatchConfig,Ja=0,Nt=null,Jt=null,un=null,Zh=!1,fc=!1,hc=0,GV=0;function Tn(){throw Error(n(321))}function ly(a,u){if(u===null)return!1;for(var f=0;f<u.length&&f<a.length;f++)if(!Qr(a[f],u[f]))return!1;return!0}function cy(a,u,f,m,v,b){if(Ja=b,Nt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Jh.current=a===null||a.memoizedState===null?YV:JV,a=f(m,v),fc){b=0;do{if(fc=!1,hc=0,25<=b)throw Error(n(301));b+=1,un=Jt=null,u.updateQueue=null,Jh.current=ZV,a=f(m,v)}while(fc)}if(Jh.current=nd,u=Jt!==null&&Jt.next!==null,Ja=0,un=Jt=Nt=null,Zh=!1,u)throw Error(n(300));return a}function fy(){var a=hc!==0;return hc=0,a}function wi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Nt.memoizedState=un=a:un=un.next=a,un}function Ar(){if(Jt===null){var a=Nt.alternate;a=a!==null?a.memoizedState:null}else a=Jt.next;var u=un===null?Nt.memoizedState:un.next;if(u!==null)un=u,Jt=a;else{if(a===null)throw Error(n(310));Jt=a,a={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},un===null?Nt.memoizedState=un=a:un=un.next=a}return un}function dc(a,u){return typeof u=="function"?u(a):u}function hy(a){var u=Ar(),f=u.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var m=Jt,v=m.baseQueue,b=f.pending;if(b!==null){if(v!==null){var L=v.next;v.next=b.next,b.next=L}m.baseQueue=v=b,f.pending=null}if(v!==null){b=v.next,m=m.baseState;var H=L=null,X=null,oe=b;do{var me=oe.lane;if((Ja&me)===me)X!==null&&(X=X.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),m=oe.hasEagerState?oe.eagerState:a(m,oe.action);else{var ge={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};X===null?(H=X=ge,L=m):X=X.next=ge,Nt.lanes|=me,Za|=me}oe=oe.next}while(oe!==null&&oe!==b);X===null?L=m:X.next=H,Qr(m,u.memoizedState)||(Gn=!0),u.memoizedState=m,u.baseState=L,u.baseQueue=X,f.lastRenderedState=m}if(a=f.interleaved,a!==null){v=a;do b=v.lane,Nt.lanes|=b,Za|=b,v=v.next;while(v!==a)}else v===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function dy(a){var u=Ar(),f=u.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var m=f.dispatch,v=f.pending,b=u.memoizedState;if(v!==null){f.pending=null;var L=v=v.next;do b=a(b,L.action),L=L.next;while(L!==v);Qr(b,u.memoizedState)||(Gn=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),f.lastRenderedState=b}return[b,m]}function rS(){}function iS(a,u){var f=Nt,m=Ar(),v=u(),b=!Qr(m.memoizedState,v);if(b&&(m.memoizedState=v,Gn=!0),m=m.queue,py(sS.bind(null,f,m,a),[a]),m.getSnapshot!==u||b||un!==null&&un.memoizedState.tag&1){if(f.flags|=2048,pc(9,aS.bind(null,f,m,v,u),void 0,null),ln===null)throw Error(n(349));(Ja&30)!==0||oS(f,u,v)}return v}function oS(a,u,f){a.flags|=16384,a={getSnapshot:u,value:f},u=Nt.updateQueue,u===null?(u={lastEffect:null,stores:null},Nt.updateQueue=u,u.stores=[a]):(f=u.stores,f===null?u.stores=[a]:f.push(a))}function aS(a,u,f,m){u.value=f,u.getSnapshot=m,uS(u)&&lS(a)}function sS(a,u,f){return f(function(){uS(u)&&lS(a)})}function uS(a){var u=a.getSnapshot;a=a.value;try{var f=u();return!Qr(a,f)}catch{return!0}}function lS(a){var u=Qi(a,1);u!==null&&ti(u,a,1,-1)}function cS(a){var u=wi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:a},u.queue=a,a=a.dispatch=QV.bind(null,Nt,a),[u.memoizedState,a]}function pc(a,u,f,m){return a={tag:a,create:u,destroy:f,deps:m,next:null},u=Nt.updateQueue,u===null?(u={lastEffect:null,stores:null},Nt.updateQueue=u,u.lastEffect=a.next=a):(f=u.lastEffect,f===null?u.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,u.lastEffect=a)),a}function fS(){return Ar().memoizedState}function ed(a,u,f,m){var v=wi();Nt.flags|=a,v.memoizedState=pc(1|u,f,void 0,m===void 0?null:m)}function td(a,u,f,m){var v=Ar();m=m===void 0?null:m;var b=void 0;if(Jt!==null){var L=Jt.memoizedState;if(b=L.destroy,m!==null&&ly(m,L.deps)){v.memoizedState=pc(u,f,b,m);return}}Nt.flags|=a,v.memoizedState=pc(1|u,f,b,m)}function hS(a,u){return ed(8390656,8,a,u)}function py(a,u){return td(2048,8,a,u)}function dS(a,u){return td(4,2,a,u)}function pS(a,u){return td(4,4,a,u)}function mS(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function gS(a,u,f){return f=f!=null?f.concat([a]):null,td(4,4,mS.bind(null,u,a),f)}function my(){}function yS(a,u){var f=Ar();u=u===void 0?null:u;var m=f.memoizedState;return m!==null&&u!==null&&ly(u,m[1])?m[0]:(f.memoizedState=[a,u],a)}function vS(a,u){var f=Ar();u=u===void 0?null:u;var m=f.memoizedState;return m!==null&&u!==null&&ly(u,m[1])?m[0]:(a=a(),f.memoizedState=[a,u],a)}function _S(a,u,f){return(Ja&21)===0?(a.baseState&&(a.baseState=!1,Gn=!0),a.memoizedState=f):(Qr(f,u)||(f=Fa(),Nt.lanes|=f,Za|=f,a.baseState=!0),u)}function KV(a,u){var f=tt;tt=f!==0&&4>f?f:4,a(!0);var m=uy.transition;uy.transition={};try{a(!1),u()}finally{tt=f,uy.transition=m}}function wS(){return Ar().memoizedState}function XV(a,u,f){var m=Xo(a);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},bS(a))xS(u,f);else if(f=J1(a,u,f,m),f!==null){var v=Dn();ti(f,a,m,v),ES(f,u,m)}}function QV(a,u,f){var m=Xo(a),v={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(bS(a))xS(u,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var L=u.lastRenderedState,H=b(L,f);if(v.hasEagerState=!0,v.eagerState=H,Qr(H,L)){var X=u.interleaved;X===null?(v.next=v,ny(u)):(v.next=X.next,X.next=v),u.interleaved=v;return}}catch{}finally{}f=J1(a,u,v,m),f!==null&&(v=Dn(),ti(f,a,m,v),ES(f,u,m))}}function bS(a){var u=a.alternate;return a===Nt||u!==null&&u===Nt}function xS(a,u){fc=Zh=!0;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}function ES(a,u,f){if((f&4194240)!==0){var m=u.lanes;m&=a.pendingLanes,f|=m,u.lanes=f,jo(a,f)}}var nd={readContext:Sr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},YV={readContext:Sr,useCallback:function(a,u){return wi().memoizedState=[a,u===void 0?null:u],a},useContext:Sr,useEffect:hS,useImperativeHandle:function(a,u,f){return f=f!=null?f.concat([a]):null,ed(4194308,4,mS.bind(null,u,a),f)},useLayoutEffect:function(a,u){return ed(4194308,4,a,u)},useInsertionEffect:function(a,u){return ed(4,2,a,u)},useMemo:function(a,u){var f=wi();return u=u===void 0?null:u,a=a(),f.memoizedState=[a,u],a},useReducer:function(a,u,f){var m=wi();return u=f!==void 0?f(u):u,m.memoizedState=m.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},m.queue=a,a=a.dispatch=XV.bind(null,Nt,a),[m.memoizedState,a]},useRef:function(a){var u=wi();return a={current:a},u.memoizedState=a},useState:cS,useDebugValue:my,useDeferredValue:function(a){return wi().memoizedState=a},useTransition:function(){var a=cS(!1),u=a[0];return a=KV.bind(null,a[1]),wi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,f){var m=Nt,v=wi();if(Ct){if(f===void 0)throw Error(n(407));f=f()}else{if(f=u(),ln===null)throw Error(n(349));(Ja&30)!==0||oS(m,u,f)}v.memoizedState=f;var b={value:f,getSnapshot:u};return v.queue=b,hS(sS.bind(null,m,b,a),[a]),m.flags|=2048,pc(9,aS.bind(null,m,b,f,u),void 0,null),f},useId:function(){var a=wi(),u=ln.identifierPrefix;if(Ct){var f=Xi,m=Ki;f=(m&~(1<<32-kn(m)-1)).toString(32)+f,u=":"+u+"R"+f,f=hc++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=GV++,u=":"+u+"r"+f.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},JV={readContext:Sr,useCallback:yS,useContext:Sr,useEffect:py,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:vS,useReducer:hy,useRef:fS,useState:function(){return hy(dc)},useDebugValue:my,useDeferredValue:function(a){var u=Ar();return _S(u,Jt.memoizedState,a)},useTransition:function(){var a=hy(dc)[0],u=Ar().memoizedState;return[a,u]},useMutableSource:rS,useSyncExternalStore:iS,useId:wS,unstable_isNewReconciler:!1},ZV={readContext:Sr,useCallback:yS,useContext:Sr,useEffect:py,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:vS,useReducer:dy,useRef:fS,useState:function(){return dy(dc)},useDebugValue:my,useDeferredValue:function(a){var u=Ar();return Jt===null?u.memoizedState=a:_S(u,Jt.memoizedState,a)},useTransition:function(){var a=dy(dc)[0],u=Ar().memoizedState;return[a,u]},useMutableSource:rS,useSyncExternalStore:iS,useId:wS,unstable_isNewReconciler:!1};function Jr(a,u){if(a&&a.defaultProps){u=Z({},u),a=a.defaultProps;for(var f in a)u[f]===void 0&&(u[f]=a[f]);return u}return u}function gy(a,u,f,m){u=a.memoizedState,f=f(m,u),f=f==null?u:Z({},u,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var rd={isMounted:function(a){return(a=a._reactInternals)?Br(a)===a:!1},enqueueSetState:function(a,u,f){a=a._reactInternals;var m=Dn(),v=Xo(a),b=Yi(m,v);b.payload=u,f!=null&&(b.callback=f),u=Ho(a,b,v),u!==null&&(ti(u,a,v,m),Xh(u,a,v))},enqueueReplaceState:function(a,u,f){a=a._reactInternals;var m=Dn(),v=Xo(a),b=Yi(m,v);b.tag=1,b.payload=u,f!=null&&(b.callback=f),u=Ho(a,b,v),u!==null&&(ti(u,a,v,m),Xh(u,a,v))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var f=Dn(),m=Xo(a),v=Yi(f,m);v.tag=2,u!=null&&(v.callback=u),u=Ho(a,v,m),u!==null&&(ti(u,a,m,f),Xh(u,a,m))}};function TS(a,u,f,m,v,b,L){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,L):u.prototype&&u.prototype.isPureReactComponent?!ec(f,m)||!ec(v,b):!0}function SS(a,u,f){var m=!1,v=qo,b=u.contextType;return typeof b=="object"&&b!==null?b=Sr(b):(v=Wn(u)?Ga:En.current,m=u.contextTypes,b=(m=m!=null)?pu(a,v):qo),u=new u(f,b),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=rd,a.stateNode=u,u._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=b),u}function AS(a,u,f,m){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,m),u.state!==a&&rd.enqueueReplaceState(u,u.state,null)}function yy(a,u,f,m){var v=a.stateNode;v.props=f,v.state=a.memoizedState,v.refs={},ry(a);var b=u.contextType;typeof b=="object"&&b!==null?v.context=Sr(b):(b=Wn(u)?Ga:En.current,v.context=pu(a,b)),v.state=a.memoizedState,b=u.getDerivedStateFromProps,typeof b=="function"&&(gy(a,u,b,f),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&rd.enqueueReplaceState(v,v.state,null),Qh(a,f,v,m),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function xu(a,u){try{var f="",m=u;do f+=ae(m),m=m.return;while(m);var v=f}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:u,stack:v,digest:null}}function vy(a,u,f){return{value:a,source:null,stack:f??null,digest:u??null}}function _y(a,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var eU=typeof WeakMap=="function"?WeakMap:Map;function IS(a,u,f){f=Yi(-1,f),f.tag=3,f.payload={element:null};var m=u.value;return f.callback=function(){cd||(cd=!0,jy=m),_y(a,u)},f}function PS(a,u,f){f=Yi(-1,f),f.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var v=u.value;f.payload=function(){return m(v)},f.callback=function(){_y(a,u)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(f.callback=function(){_y(a,u),typeof m!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})}),f}function OS(a,u,f){var m=a.pingCache;if(m===null){m=a.pingCache=new eU;var v=new Set;m.set(u,v)}else v=m.get(u),v===void 0&&(v=new Set,m.set(u,v));v.has(f)||(v.add(f),a=pU.bind(null,a,u,f),u.then(a,a))}function CS(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function RS(a,u,f,m,v){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Yi(-1,1),u.tag=2,Ho(f,u,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=v,a)}var tU=F.ReactCurrentOwner,Gn=!1;function jn(a,u,f,m){u.child=a===null?Y1(u,null,f,m):vu(u,a.child,f,m)}function kS(a,u,f,m,v){f=f.render;var b=u.ref;return wu(u,v),m=cy(a,u,f,m,b,v),f=fy(),a!==null&&!Gn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,Ji(a,u,v)):(Ct&&f&&Gg(u),u.flags|=1,jn(a,u,m,v),u.child)}function NS(a,u,f,m,v){if(a===null){var b=f.type;return typeof b=="function"&&!Fy(b)&&b.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=b,jS(a,u,b,m,v)):(a=gd(f.type,null,m,u,u.mode,v),a.ref=u.ref,a.return=u,u.child=a)}if(b=a.child,(a.lanes&v)===0){var L=b.memoizedProps;if(f=f.compare,f=f!==null?f:ec,f(L,m)&&a.ref===u.ref)return Ji(a,u,v)}return u.flags|=1,a=Yo(b,m),a.ref=u.ref,a.return=u,u.child=a}function jS(a,u,f,m,v){if(a!==null){var b=a.memoizedProps;if(ec(b,m)&&a.ref===u.ref)if(Gn=!1,u.pendingProps=m=b,(a.lanes&v)!==0)(a.flags&131072)!==0&&(Gn=!0);else return u.lanes=a.lanes,Ji(a,u,v)}return wy(a,u,f,m,v)}function DS(a,u,f){var m=u.pendingProps,v=m.children,b=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Tu,hr),hr|=f;else{if((f&1073741824)===0)return a=b!==null?b.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,Et(Tu,hr),hr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:f,Et(Tu,hr),hr|=m}else b!==null?(m=b.baseLanes|f,u.memoizedState=null):m=f,Et(Tu,hr),hr|=m;return jn(a,u,v,f),u.child}function MS(a,u){var f=u.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function wy(a,u,f,m,v){var b=Wn(f)?Ga:En.current;return b=pu(u,b),wu(u,v),f=cy(a,u,f,m,b,v),m=fy(),a!==null&&!Gn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,Ji(a,u,v)):(Ct&&m&&Gg(u),u.flags|=1,jn(a,u,f,v),u.child)}function LS(a,u,f,m,v){if(Wn(f)){var b=!0;Fh(u)}else b=!1;if(wu(u,v),u.stateNode===null)od(a,u),SS(u,f,m),yy(u,f,m,v),m=!0;else if(a===null){var L=u.stateNode,H=u.memoizedProps;L.props=H;var X=L.context,oe=f.contextType;typeof oe=="object"&&oe!==null?oe=Sr(oe):(oe=Wn(f)?Ga:En.current,oe=pu(u,oe));var me=f.getDerivedStateFromProps,ge=typeof me=="function"||typeof L.getSnapshotBeforeUpdate=="function";ge||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==m||X!==oe)&&AS(u,L,m,oe),zo=!1;var pe=u.memoizedState;L.state=pe,Qh(u,m,L,v),X=u.memoizedState,H!==m||pe!==X||Hn.current||zo?(typeof me=="function"&&(gy(u,f,me,m),X=u.memoizedState),(H=zo||TS(u,f,H,m,pe,X,oe))?(ge||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(u.flags|=4194308)):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=X),L.props=m,L.state=X,L.context=oe,m=H):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{L=u.stateNode,Z1(a,u),H=u.memoizedProps,oe=u.type===u.elementType?H:Jr(u.type,H),L.props=oe,ge=u.pendingProps,pe=L.context,X=f.contextType,typeof X=="object"&&X!==null?X=Sr(X):(X=Wn(f)?Ga:En.current,X=pu(u,X));var be=f.getDerivedStateFromProps;(me=typeof be=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==ge||pe!==X)&&AS(u,L,m,X),zo=!1,pe=u.memoizedState,L.state=pe,Qh(u,m,L,v);var Pe=u.memoizedState;H!==ge||pe!==Pe||Hn.current||zo?(typeof be=="function"&&(gy(u,f,be,m),Pe=u.memoizedState),(oe=zo||TS(u,f,oe,m,pe,Pe,X)||!1)?(me||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(m,Pe,X),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(m,Pe,X)),typeof L.componentDidUpdate=="function"&&(u.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof L.componentDidUpdate!="function"||H===a.memoizedProps&&pe===a.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&pe===a.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=Pe),L.props=m,L.state=Pe,L.context=X,m=oe):(typeof L.componentDidUpdate!="function"||H===a.memoizedProps&&pe===a.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&pe===a.memoizedState||(u.flags|=1024),m=!1)}return by(a,u,f,m,b,v)}function by(a,u,f,m,v,b){MS(a,u);var L=(u.flags&128)!==0;if(!m&&!L)return v&&q1(u,f,!1),Ji(a,u,b);m=u.stateNode,tU.current=u;var H=L&&typeof f.getDerivedStateFromError!="function"?null:m.render();return u.flags|=1,a!==null&&L?(u.child=vu(u,a.child,null,b),u.child=vu(u,null,H,b)):jn(a,u,H,b),u.memoizedState=m.state,v&&q1(u,f,!0),u.child}function $S(a){var u=a.stateNode;u.pendingContext?U1(a,u.pendingContext,u.pendingContext!==u.context):u.context&&U1(a,u.context,!1),iy(a,u.containerInfo)}function VS(a,u,f,m,v){return yu(),Yg(v),u.flags|=256,jn(a,u,f,m),u.child}var xy={dehydrated:null,treeContext:null,retryLane:0};function Ey(a){return{baseLanes:a,cachePool:null,transitions:null}}function US(a,u,f){var m=u.pendingProps,v=kt.current,b=!1,L=(u.flags&128)!==0,H;if((H=L)||(H=a!==null&&a.memoizedState===null?!1:(v&2)!==0),H?(b=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),Et(kt,v&1),a===null)return Qg(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(L=m.children,a=m.fallback,b?(m=u.mode,b=u.child,L={mode:"hidden",children:L},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=L):b=yd(L,m,0,null),a=rs(a,m,f,null),b.return=u,a.return=u,b.sibling=a,u.child=b,u.child.memoizedState=Ey(f),u.memoizedState=xy,a):Ty(u,L));if(v=a.memoizedState,v!==null&&(H=v.dehydrated,H!==null))return nU(a,u,L,m,H,v,f);if(b){b=m.fallback,L=u.mode,v=a.child,H=v.sibling;var X={mode:"hidden",children:m.children};return(L&1)===0&&u.child!==v?(m=u.child,m.childLanes=0,m.pendingProps=X,u.deletions=null):(m=Yo(v,X),m.subtreeFlags=v.subtreeFlags&14680064),H!==null?b=Yo(H,b):(b=rs(b,L,f,null),b.flags|=2),b.return=u,m.return=u,m.sibling=b,u.child=m,m=b,b=u.child,L=a.child.memoizedState,L=L===null?Ey(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},b.memoizedState=L,b.childLanes=a.childLanes&~f,u.memoizedState=xy,m}return b=a.child,a=b.sibling,m=Yo(b,{mode:"visible",children:m.children}),(u.mode&1)===0&&(m.lanes=f),m.return=u,m.sibling=null,a!==null&&(f=u.deletions,f===null?(u.deletions=[a],u.flags|=16):f.push(a)),u.child=m,u.memoizedState=null,m}function Ty(a,u){return u=yd({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function id(a,u,f,m){return m!==null&&Yg(m),vu(u,a.child,null,f),a=Ty(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function nU(a,u,f,m,v,b,L){if(f)return u.flags&256?(u.flags&=-257,m=vy(Error(n(422))),id(a,u,L,m)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(b=m.fallback,v=u.mode,m=yd({mode:"visible",children:m.children},v,0,null),b=rs(b,v,L,null),b.flags|=2,m.return=u,b.return=u,m.sibling=b,u.child=m,(u.mode&1)!==0&&vu(u,a.child,null,L),u.child.memoizedState=Ey(L),u.memoizedState=xy,b);if((u.mode&1)===0)return id(a,u,L,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var H=m.dgst;return m=H,b=Error(n(419)),m=vy(b,m,void 0),id(a,u,L,m)}if(H=(L&a.childLanes)!==0,Gn||H){if(m=ln,m!==null){switch(L&-L){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|L))!==0?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,Qi(a,v),ti(m,a,v,-1))}return Uy(),m=vy(Error(n(421))),id(a,u,L,m)}return v.data==="$?"?(u.flags|=128,u.child=a.child,u=mU.bind(null,a),v._reactRetry=u,null):(a=b.treeContext,fr=Uo(v.nextSibling),cr=u,Ct=!0,Yr=null,a!==null&&(Er[Tr++]=Ki,Er[Tr++]=Xi,Er[Tr++]=Ka,Ki=a.id,Xi=a.overflow,Ka=u),u=Ty(u,m.children),u.flags|=4096,u)}function FS(a,u,f){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u),ty(a.return,u,f)}function Sy(a,u,f,m,v){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:v}:(b.isBackwards=u,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=f,b.tailMode=v)}function qS(a,u,f){var m=u.pendingProps,v=m.revealOrder,b=m.tail;if(jn(a,u,m.children,f),m=kt.current,(m&2)!==0)m=m&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FS(a,f,u);else if(a.tag===19)FS(a,f,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(Et(kt,m),(u.mode&1)===0)u.memoizedState=null;else switch(v){case"forwards":for(f=u.child,v=null;f!==null;)a=f.alternate,a!==null&&Yh(a)===null&&(v=f),f=f.sibling;f=v,f===null?(v=u.child,u.child=null):(v=f.sibling,f.sibling=null),Sy(u,!1,v,f,b);break;case"backwards":for(f=null,v=u.child,u.child=null;v!==null;){if(a=v.alternate,a!==null&&Yh(a)===null){u.child=v;break}a=v.sibling,v.sibling=f,f=v,v=a}Sy(u,!0,f,null,b);break;case"together":Sy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function od(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Ji(a,u,f){if(a!==null&&(u.dependencies=a.dependencies),Za|=u.lanes,(f&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,f=Yo(a,a.pendingProps),u.child=f,f.return=u;a.sibling!==null;)a=a.sibling,f=f.sibling=Yo(a,a.pendingProps),f.return=u;f.sibling=null}return u.child}function rU(a,u,f){switch(u.tag){case 3:$S(u),yu();break;case 5:nS(u);break;case 1:Wn(u.type)&&Fh(u);break;case 4:iy(u,u.stateNode.containerInfo);break;case 10:var m=u.type._context,v=u.memoizedProps.value;Et(Gh,m._currentValue),m._currentValue=v;break;case 13:if(m=u.memoizedState,m!==null)return m.dehydrated!==null?(Et(kt,kt.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?US(a,u,f):(Et(kt,kt.current&1),a=Ji(a,u,f),a!==null?a.sibling:null);Et(kt,kt.current&1);break;case 19:if(m=(f&u.childLanes)!==0,(a.flags&128)!==0){if(m)return qS(a,u,f);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Et(kt,kt.current),m)break;return null;case 22:case 23:return u.lanes=0,DS(a,u,f)}return Ji(a,u,f)}var BS,Ay,zS,HS;BS=function(a,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ay=function(){},zS=function(a,u,f,m){var v=a.memoizedProps;if(v!==m){a=u.stateNode,Ya(_i.current);var b=null;switch(f){case"input":v=He(a,v),m=He(a,m),b=[];break;case"select":v=Z({},v,{value:void 0}),m=Z({},m,{value:void 0}),b=[];break;case"textarea":v=or(a,v),m=or(a,m),b=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=$h)}Dl(f,m);var L;f=null;for(oe in v)if(!m.hasOwnProperty(oe)&&v.hasOwnProperty(oe)&&v[oe]!=null)if(oe==="style"){var H=v[oe];for(L in H)H.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?b||(b=[]):(b=b||[]).push(oe,null));for(oe in m){var X=m[oe];if(H=v!=null?v[oe]:void 0,m.hasOwnProperty(oe)&&X!==H&&(X!=null||H!=null))if(oe==="style")if(H){for(L in H)!H.hasOwnProperty(L)||X&&X.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in X)X.hasOwnProperty(L)&&H[L]!==X[L]&&(f||(f={}),f[L]=X[L])}else f||(b||(b=[]),b.push(oe,f)),f=X;else oe==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,H=H?H.__html:void 0,X!=null&&H!==X&&(b=b||[]).push(oe,X)):oe==="children"?typeof X!="string"&&typeof X!="number"||(b=b||[]).push(oe,""+X):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(X!=null&&oe==="onScroll"&&St("scroll",a),b||H===X||(b=[])):(b=b||[]).push(oe,X))}f&&(b=b||[]).push("style",f);var oe=b;(u.updateQueue=oe)&&(u.flags|=4)}},HS=function(a,u,f,m){f!==m&&(u.flags|=4)};function mc(a,u){if(!Ct)switch(a.tailMode){case"hidden":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Sn(a){var u=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(u)for(var v=a.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=f,u}function iU(a,u,f){var m=u.pendingProps;switch(Kg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(u),null;case 1:return Wn(u.type)&&Uh(),Sn(u),null;case 3:return m=u.stateNode,bu(),At(Hn),At(En),sy(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Hh(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Yr!==null&&(Ly(Yr),Yr=null))),Ay(a,u),Sn(u),null;case 5:oy(u);var v=Ya(cc.current);if(f=u.type,a!==null&&u.stateNode!=null)zS(a,u,f,m,v),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!m){if(u.stateNode===null)throw Error(n(166));return Sn(u),null}if(a=Ya(_i.current),Hh(u)){m=u.stateNode,f=u.type;var b=u.memoizedProps;switch(m[vi]=u,m[oc]=b,a=(u.mode&1)!==0,f){case"dialog":St("cancel",m),St("close",m);break;case"iframe":case"object":case"embed":St("load",m);break;case"video":case"audio":for(v=0;v<nc.length;v++)St(nc[v],m);break;case"source":St("error",m);break;case"img":case"image":case"link":St("error",m),St("load",m);break;case"details":St("toggle",m);break;case"input":Ye(m,b),St("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},St("invalid",m);break;case"textarea":ci(m,b),St("invalid",m)}Dl(f,b),v=null;for(var L in b)if(b.hasOwnProperty(L)){var H=b[L];L==="children"?typeof H=="string"?m.textContent!==H&&(b.suppressHydrationWarning!==!0&&Lh(m.textContent,H,a),v=["children",H]):typeof H=="number"&&m.textContent!==""+H&&(b.suppressHydrationWarning!==!0&&Lh(m.textContent,H,a),v=["children",""+H]):i.hasOwnProperty(L)&&H!=null&&L==="onScroll"&&St("scroll",m)}switch(f){case"input":Ne(m),rr(m,b,!0);break;case"textarea":Ne(m),Po(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=$h)}m=v,u.updateQueue=m,m!==null&&(u.flags|=4)}else{L=v.nodeType===9?v:v.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Xt(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=L.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=L.createElement(f,{is:m.is}):(a=L.createElement(f),f==="select"&&(L=a,m.multiple?L.multiple=!0:m.size&&(L.size=m.size))):a=L.createElementNS(a,f),a[vi]=u,a[oc]=m,BS(a,u,!1,!1),u.stateNode=a;e:{switch(L=Ml(f,m),f){case"dialog":St("cancel",a),St("close",a),v=m;break;case"iframe":case"object":case"embed":St("load",a),v=m;break;case"video":case"audio":for(v=0;v<nc.length;v++)St(nc[v],a);v=m;break;case"source":St("error",a),v=m;break;case"img":case"image":case"link":St("error",a),St("load",a),v=m;break;case"details":St("toggle",a),v=m;break;case"input":Ye(a,m),v=He(a,m),St("invalid",a);break;case"option":v=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},v=Z({},m,{value:void 0}),St("invalid",a);break;case"textarea":ci(a,m),v=or(a,m),St("invalid",a);break;default:v=m}Dl(f,v),H=v;for(b in H)if(H.hasOwnProperty(b)){var X=H[b];b==="style"?Nl(a,X):b==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Rl(a,X)):b==="children"?typeof X=="string"?(f!=="textarea"||X!=="")&&Oo(a,X):typeof X=="number"&&Oo(a,""+X):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?X!=null&&b==="onScroll"&&St("scroll",a):X!=null&&U(a,b,X,L))}switch(f){case"input":Ne(a),rr(a,m,!1);break;case"textarea":Ne(a),Po(a);break;case"option":m.value!=null&&a.setAttribute("value",""+Ie(m.value));break;case"select":a.multiple=!!m.multiple,b=m.value,b!=null?pn(a,!!m.multiple,b,!1):m.defaultValue!=null&&pn(a,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(a.onclick=$h)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Sn(u),null;case 6:if(a&&u.stateNode!=null)HS(a,u,a.memoizedProps,m);else{if(typeof m!="string"&&u.stateNode===null)throw Error(n(166));if(f=Ya(cc.current),Ya(_i.current),Hh(u)){if(m=u.stateNode,f=u.memoizedProps,m[vi]=u,(b=m.nodeValue!==f)&&(a=cr,a!==null))switch(a.tag){case 3:Lh(m.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Lh(m.nodeValue,f,(a.mode&1)!==0)}b&&(u.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[vi]=u,u.stateNode=m}return Sn(u),null;case 13:if(At(kt),m=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ct&&fr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)K1(),yu(),u.flags|=98560,b=!1;else if(b=Hh(u),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(n(318));if(b=u.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[vi]=u}else yu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Sn(u),b=!1}else Yr!==null&&(Ly(Yr),Yr=null),b=!0;if(!b)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(kt.current&1)!==0?Zt===0&&(Zt=3):Uy())),u.updateQueue!==null&&(u.flags|=4),Sn(u),null);case 4:return bu(),Ay(a,u),a===null&&rc(u.stateNode.containerInfo),Sn(u),null;case 10:return ey(u.type._context),Sn(u),null;case 17:return Wn(u.type)&&Uh(),Sn(u),null;case 19:if(At(kt),b=u.memoizedState,b===null)return Sn(u),null;if(m=(u.flags&128)!==0,L=b.rendering,L===null)if(m)mc(b,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(L=Yh(a),L!==null){for(u.flags|=128,mc(b,!1),m=L.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),u.subtreeFlags=0,m=f,f=u.child;f!==null;)b=f,a=m,b.flags&=14680066,L=b.alternate,L===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=L.childLanes,b.lanes=L.lanes,b.child=L.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=L.memoizedProps,b.memoizedState=L.memoizedState,b.updateQueue=L.updateQueue,b.type=L.type,a=L.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Et(kt,kt.current&1|2),u.child}a=a.sibling}b.tail!==null&&xt()>Su&&(u.flags|=128,m=!0,mc(b,!1),u.lanes=4194304)}else{if(!m)if(a=Yh(L),a!==null){if(u.flags|=128,m=!0,f=a.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),mc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!L.alternate&&!Ct)return Sn(u),null}else 2*xt()-b.renderingStartTime>Su&&f!==1073741824&&(u.flags|=128,m=!0,mc(b,!1),u.lanes=4194304);b.isBackwards?(L.sibling=u.child,u.child=L):(f=b.last,f!==null?f.sibling=L:u.child=L,b.last=L)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=xt(),u.sibling=null,f=kt.current,Et(kt,m?f&1|2:f&1),u):(Sn(u),null);case 22:case 23:return Vy(),m=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(u.flags|=8192),m&&(u.mode&1)!==0?(hr&1073741824)!==0&&(Sn(u),u.subtreeFlags&6&&(u.flags|=8192)):Sn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function oU(a,u){switch(Kg(u),u.tag){case 1:return Wn(u.type)&&Uh(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return bu(),At(Hn),At(En),sy(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return oy(u),null;case 13:if(At(kt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));yu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return At(kt),null;case 4:return bu(),null;case 10:return ey(u.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var ad=!1,An=!1,aU=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Eu(a,u){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){Mt(a,u,m)}else f.current=null}function Iy(a,u,f){try{f()}catch(m){Mt(a,u,m)}}var WS=!1;function sU(a,u){if(Vg=Lo,a=T1(),Rg(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var L=0,H=-1,X=-1,oe=0,me=0,ge=a,pe=null;t:for(;;){for(var be;ge!==f||v!==0&&ge.nodeType!==3||(H=L+v),ge!==b||m!==0&&ge.nodeType!==3||(X=L+m),ge.nodeType===3&&(L+=ge.nodeValue.length),(be=ge.firstChild)!==null;)pe=ge,ge=be;for(;;){if(ge===a)break t;if(pe===f&&++oe===v&&(H=L),pe===b&&++me===m&&(X=L),(be=ge.nextSibling)!==null)break;ge=pe,pe=ge.parentNode}ge=be}f=H===-1||X===-1?null:{start:H,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ug={focusedElem:a,selectionRange:f},Lo=!1,Te=u;Te!==null;)if(u=Te,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Te=a;else for(;Te!==null;){u=Te;try{var Pe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Re=Pe.memoizedProps,qt=Pe.memoizedState,te=u.stateNode,Q=te.getSnapshotBeforeUpdate(u.elementType===u.type?Re:Jr(u.type,Re),qt);te.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=u.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Mt(u,u.return,ye)}if(a=u.sibling,a!==null){a.return=u.return,Te=a;break}Te=u.return}return Pe=WS,WS=!1,Pe}function gc(a,u,f){var m=u.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&a)===a){var b=v.destroy;v.destroy=void 0,b!==void 0&&Iy(u,f,b)}v=v.next}while(v!==m)}}function sd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&a)===a){var m=f.create;f.destroy=m()}f=f.next}while(f!==u)}}function Py(a){var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof u=="function"?u(a):u.current=a}}function GS(a){var u=a.alternate;u!==null&&(a.alternate=null,GS(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[vi],delete u[oc],delete u[zg],delete u[BV],delete u[zV])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function KS(a){return a.tag===5||a.tag===3||a.tag===4}function XS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||KS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Oy(a,u,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(a,u):f.insertBefore(a,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(a,f)):(u=f,u.appendChild(a)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=$h));else if(m!==4&&(a=a.child,a!==null))for(Oy(a,u,f),a=a.sibling;a!==null;)Oy(a,u,f),a=a.sibling}function Cy(a,u,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?f.insertBefore(a,u):f.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(Cy(a,u,f),a=a.sibling;a!==null;)Cy(a,u,f),a=a.sibling}var yn=null,Zr=!1;function Wo(a,u,f){for(f=f.child;f!==null;)QS(a,u,f),f=f.sibling}function QS(a,u,f){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Va,f)}catch{}switch(f.tag){case 5:An||Eu(f,u);case 6:var m=yn,v=Zr;yn=null,Wo(a,u,f),yn=m,Zr=v,yn!==null&&(Zr?(a=yn,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):yn.removeChild(f.stateNode));break;case 18:yn!==null&&(Zr?(a=yn,f=f.stateNode,a.nodeType===8?Bg(a.parentNode,f):a.nodeType===1&&Bg(a,f),Kr(a)):Bg(yn,f.stateNode));break;case 4:m=yn,v=Zr,yn=f.stateNode.containerInfo,Zr=!0,Wo(a,u,f),yn=m,Zr=v;break;case 0:case 11:case 14:case 15:if(!An&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var b=v,L=b.destroy;b=b.tag,L!==void 0&&((b&2)!==0||(b&4)!==0)&&Iy(f,u,L),v=v.next}while(v!==m)}Wo(a,u,f);break;case 1:if(!An&&(Eu(f,u),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(H){Mt(f,u,H)}Wo(a,u,f);break;case 21:Wo(a,u,f);break;case 22:f.mode&1?(An=(m=An)||f.memoizedState!==null,Wo(a,u,f),An=m):Wo(a,u,f);break;default:Wo(a,u,f)}}function YS(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new aU),u.forEach(function(m){var v=gU.bind(null,a,m);f.has(m)||(f.add(m),m.then(v,v))})}}function ei(a,u){var f=u.deletions;if(f!==null)for(var m=0;m<f.length;m++){var v=f[m];try{var b=a,L=u,H=L;e:for(;H!==null;){switch(H.tag){case 5:yn=H.stateNode,Zr=!1;break e;case 3:yn=H.stateNode.containerInfo,Zr=!0;break e;case 4:yn=H.stateNode.containerInfo,Zr=!0;break e}H=H.return}if(yn===null)throw Error(n(160));QS(b,L,v),yn=null,Zr=!1;var X=v.alternate;X!==null&&(X.return=null),v.return=null}catch(oe){Mt(v,u,oe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)JS(u,a),u=u.sibling}function JS(a,u){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ei(u,a),bi(a),m&4){try{gc(3,a,a.return),sd(3,a)}catch(Re){Mt(a,a.return,Re)}try{gc(5,a,a.return)}catch(Re){Mt(a,a.return,Re)}}break;case 1:ei(u,a),bi(a),m&512&&f!==null&&Eu(f,f.return);break;case 5:if(ei(u,a),bi(a),m&512&&f!==null&&Eu(f,f.return),a.flags&32){var v=a.stateNode;try{Oo(v,"")}catch(Re){Mt(a,a.return,Re)}}if(m&4&&(v=a.stateNode,v!=null)){var b=a.memoizedProps,L=f!==null?f.memoizedProps:b,H=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{H==="input"&&b.type==="radio"&&b.name!=null&&Be(v,b),Ml(H,L);var oe=Ml(H,b);for(L=0;L<X.length;L+=2){var me=X[L],ge=X[L+1];me==="style"?Nl(v,ge):me==="dangerouslySetInnerHTML"?Rl(v,ge):me==="children"?Oo(v,ge):U(v,me,ge,oe)}switch(H){case"input":bt(v,b);break;case"textarea":$i(v,b);break;case"select":var pe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var be=b.value;be!=null?pn(v,!!b.multiple,be,!1):pe!==!!b.multiple&&(b.defaultValue!=null?pn(v,!!b.multiple,b.defaultValue,!0):pn(v,!!b.multiple,b.multiple?[]:"",!1))}v[oc]=b}catch(Re){Mt(a,a.return,Re)}}break;case 6:if(ei(u,a),bi(a),m&4){if(a.stateNode===null)throw Error(n(162));v=a.stateNode,b=a.memoizedProps;try{v.nodeValue=b}catch(Re){Mt(a,a.return,Re)}}break;case 3:if(ei(u,a),bi(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Kr(u.containerInfo)}catch(Re){Mt(a,a.return,Re)}break;case 4:ei(u,a),bi(a);break;case 13:ei(u,a),bi(a),v=a.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(Ny=xt())),m&4&&YS(a);break;case 22:if(me=f!==null&&f.memoizedState!==null,a.mode&1?(An=(oe=An)||me,ei(u,a),An=oe):ei(u,a),bi(a),m&8192){if(oe=a.memoizedState!==null,(a.stateNode.isHidden=oe)&&!me&&(a.mode&1)!==0)for(Te=a,me=a.child;me!==null;){for(ge=Te=me;Te!==null;){switch(pe=Te,be=pe.child,pe.tag){case 0:case 11:case 14:case 15:gc(4,pe,pe.return);break;case 1:Eu(pe,pe.return);var Pe=pe.stateNode;if(typeof Pe.componentWillUnmount=="function"){m=pe,f=pe.return;try{u=m,Pe.props=u.memoizedProps,Pe.state=u.memoizedState,Pe.componentWillUnmount()}catch(Re){Mt(m,f,Re)}}break;case 5:Eu(pe,pe.return);break;case 22:if(pe.memoizedState!==null){tA(ge);continue}}be!==null?(be.return=pe,Te=be):tA(ge)}me=me.sibling}e:for(me=null,ge=a;;){if(ge.tag===5){if(me===null){me=ge;try{v=ge.stateNode,oe?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(H=ge.stateNode,X=ge.memoizedProps.style,L=X!=null&&X.hasOwnProperty("display")?X.display:null,H.style.display=kl("display",L))}catch(Re){Mt(a,a.return,Re)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=oe?"":ge.memoizedProps}catch(Re){Mt(a,a.return,Re)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===a)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===a)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===a)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:ei(u,a),bi(a),m&4&&YS(a);break;case 21:break;default:ei(u,a),bi(a)}}function bi(a){var u=a.flags;if(u&2){try{e:{for(var f=a.return;f!==null;){if(KS(f)){var m=f;break e}f=f.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Oo(v,""),m.flags&=-33);var b=XS(a);Cy(a,b,v);break;case 3:case 4:var L=m.stateNode.containerInfo,H=XS(a);Oy(a,H,L);break;default:throw Error(n(161))}}catch(X){Mt(a,a.return,X)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function uU(a,u,f){Te=a,ZS(a)}function ZS(a,u,f){for(var m=(a.mode&1)!==0;Te!==null;){var v=Te,b=v.child;if(v.tag===22&&m){var L=v.memoizedState!==null||ad;if(!L){var H=v.alternate,X=H!==null&&H.memoizedState!==null||An;H=ad;var oe=An;if(ad=L,(An=X)&&!oe)for(Te=v;Te!==null;)L=Te,X=L.child,L.tag===22&&L.memoizedState!==null?nA(v):X!==null?(X.return=L,Te=X):nA(v);for(;b!==null;)Te=b,ZS(b),b=b.sibling;Te=v,ad=H,An=oe}eA(a)}else(v.subtreeFlags&8772)!==0&&b!==null?(b.return=v,Te=b):eA(a)}}function eA(a){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:An||sd(5,u);break;case 1:var m=u.stateNode;if(u.flags&4&&!An)if(f===null)m.componentDidMount();else{var v=u.elementType===u.type?f.memoizedProps:Jr(u.type,f.memoizedProps);m.componentDidUpdate(v,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;b!==null&&tS(u,b,m);break;case 3:var L=u.updateQueue;if(L!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}tS(u,L,f)}break;case 5:var H=u.stateNode;if(f===null&&u.flags&4){f=H;var X=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&f.focus();break;case"img":X.src&&(f.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var oe=u.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&Kr(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||u.flags&512&&Py(u)}catch(pe){Mt(u,u.return,pe)}}if(u===a){Te=null;break}if(f=u.sibling,f!==null){f.return=u.return,Te=f;break}Te=u.return}}function tA(a){for(;Te!==null;){var u=Te;if(u===a){Te=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Te=f;break}Te=u.return}}function nA(a){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{sd(4,u)}catch(X){Mt(u,f,X)}break;case 1:var m=u.stateNode;if(typeof m.componentDidMount=="function"){var v=u.return;try{m.componentDidMount()}catch(X){Mt(u,v,X)}}var b=u.return;try{Py(u)}catch(X){Mt(u,b,X)}break;case 5:var L=u.return;try{Py(u)}catch(X){Mt(u,L,X)}}}catch(X){Mt(u,u.return,X)}if(u===a){Te=null;break}var H=u.sibling;if(H!==null){H.return=u.return,Te=H;break}Te=u.return}}var lU=Math.ceil,ud=F.ReactCurrentDispatcher,Ry=F.ReactCurrentOwner,Ir=F.ReactCurrentBatchConfig,it=0,ln=null,Ht=null,vn=0,hr=0,Tu=Fo(0),Zt=0,yc=null,Za=0,ld=0,ky=0,vc=null,Kn=null,Ny=0,Su=1/0,Zi=null,cd=!1,jy=null,Go=null,fd=!1,Ko=null,hd=0,_c=0,Dy=null,dd=-1,pd=0;function Dn(){return(it&6)!==0?xt():dd!==-1?dd:dd=xt()}function Xo(a){return(a.mode&1)===0?1:(it&2)!==0&&vn!==0?vn&-vn:WV.transition!==null?(pd===0&&(pd=Fa()),pd):(a=tt,a!==0||(a=window.event,a=a===void 0?16:Gl(a.type)),a)}function ti(a,u,f,m){if(50<_c)throw _c=0,Dy=null,Error(n(185));No(a,f,m),((it&2)===0||a!==ln)&&(a===ln&&((it&2)===0&&(ld|=f),Zt===4&&Qo(a,vn)),Xn(a,m),f===1&&it===0&&(u.mode&1)===0&&(Su=xt()+500,qh&&Bo()))}function Xn(a,u){var f=a.callbackNode;Fi(a,u);var m=Ua(a,a===ln?vn:0);if(m===0)f!==null&&ql(f),a.callbackNode=null,a.callbackPriority=0;else if(u=m&-m,a.callbackPriority!==u){if(f!=null&&ql(f),u===1)a.tag===0?HV(iA.bind(null,a)):B1(iA.bind(null,a)),FV(function(){(it&6)===0&&Bo()}),f=null;else{switch(Do(m)){case 1:f=$a;break;case 4:f=Co;break;case 16:f=wr;break;case 536870912:f=ph;break;default:f=wr}f=hA(f,rA.bind(null,a))}a.callbackPriority=u,a.callbackNode=f}}function rA(a,u){if(dd=-1,pd=0,(it&6)!==0)throw Error(n(327));var f=a.callbackNode;if(Au()&&a.callbackNode!==f)return null;var m=Ua(a,a===ln?vn:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||u)u=md(a,m);else{u=m;var v=it;it|=2;var b=aA();(ln!==a||vn!==u)&&(Zi=null,Su=xt()+500,ts(a,u));do try{hU();break}catch(H){oA(a,H)}while(!0);Zg(),ud.current=b,it=v,Ht!==null?u=0:(ln=null,vn=0,u=Zt)}if(u!==0){if(u===2&&(v=sr(a),v!==0&&(m=v,u=My(a,v))),u===1)throw f=yc,ts(a,0),Qo(a,m),Xn(a,xt()),f;if(u===6)Qo(a,m);else{if(v=a.current.alternate,(m&30)===0&&!cU(v)&&(u=md(a,m),u===2&&(b=sr(a),b!==0&&(m=b,u=My(a,b))),u===1))throw f=yc,ts(a,0),Qo(a,m),Xn(a,xt()),f;switch(a.finishedWork=v,a.finishedLanes=m,u){case 0:case 1:throw Error(n(345));case 2:ns(a,Kn,Zi);break;case 3:if(Qo(a,m),(m&130023424)===m&&(u=Ny+500-xt(),10<u)){if(Ua(a,0)!==0)break;if(v=a.suspendedLanes,(v&m)!==m){Dn(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=qg(ns.bind(null,a,Kn,Zi),u);break}ns(a,Kn,Zi);break;case 4:if(Qo(a,m),(m&4194240)===m)break;for(u=a.eventTimes,v=-1;0<m;){var L=31-kn(m);b=1<<L,L=u[L],L>v&&(v=L),m&=~b}if(m=v,m=xt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*lU(m/1960))-m,10<m){a.timeoutHandle=qg(ns.bind(null,a,Kn,Zi),m);break}ns(a,Kn,Zi);break;case 5:ns(a,Kn,Zi);break;default:throw Error(n(329))}}}return Xn(a,xt()),a.callbackNode===f?rA.bind(null,a):null}function My(a,u){var f=vc;return a.current.memoizedState.isDehydrated&&(ts(a,u).flags|=256),a=md(a,u),a!==2&&(u=Kn,Kn=f,u!==null&&Ly(u)),a}function Ly(a){Kn===null?Kn=a:Kn.push.apply(Kn,a)}function cU(a){for(var u=a;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var v=f[m],b=v.getSnapshot;v=v.value;try{if(!Qr(b(),v))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Qo(a,u){for(u&=~ky,u&=~ld,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var f=31-kn(u),m=1<<f;a[f]=-1,u&=~m}}function iA(a){if((it&6)!==0)throw Error(n(327));Au();var u=Ua(a,0);if((u&1)===0)return Xn(a,xt()),null;var f=md(a,u);if(a.tag!==0&&f===2){var m=sr(a);m!==0&&(u=m,f=My(a,m))}if(f===1)throw f=yc,ts(a,0),Qo(a,u),Xn(a,xt()),f;if(f===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,ns(a,Kn,Zi),Xn(a,xt()),null}function $y(a,u){var f=it;it|=1;try{return a(u)}finally{it=f,it===0&&(Su=xt()+500,qh&&Bo())}}function es(a){Ko!==null&&Ko.tag===0&&(it&6)===0&&Au();var u=it;it|=1;var f=Ir.transition,m=tt;try{if(Ir.transition=null,tt=1,a)return a()}finally{tt=m,Ir.transition=f,it=u,(it&6)===0&&Bo()}}function Vy(){hr=Tu.current,At(Tu)}function ts(a,u){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,UV(f)),Ht!==null)for(f=Ht.return;f!==null;){var m=f;switch(Kg(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Uh();break;case 3:bu(),At(Hn),At(En),sy();break;case 5:oy(m);break;case 4:bu();break;case 13:At(kt);break;case 19:At(kt);break;case 10:ey(m.type._context);break;case 22:case 23:Vy()}f=f.return}if(ln=a,Ht=a=Yo(a.current,null),vn=hr=u,Zt=0,yc=null,ky=ld=Za=0,Kn=vc=null,Qa!==null){for(u=0;u<Qa.length;u++)if(f=Qa[u],m=f.interleaved,m!==null){f.interleaved=null;var v=m.next,b=f.pending;if(b!==null){var L=b.next;b.next=v,m.next=L}f.pending=m}Qa=null}return a}function oA(a,u){do{var f=Ht;try{if(Zg(),Jh.current=nd,Zh){for(var m=Nt.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Zh=!1}if(Ja=0,un=Jt=Nt=null,fc=!1,hc=0,Ry.current=null,f===null||f.return===null){Zt=1,yc=u,Ht=null;break}e:{var b=a,L=f.return,H=f,X=u;if(u=vn,H.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var oe=X,me=H,ge=me.tag;if((me.mode&1)===0&&(ge===0||ge===11||ge===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var be=CS(L);if(be!==null){be.flags&=-257,RS(be,L,H,b,u),be.mode&1&&OS(b,oe,u),u=be,X=oe;var Pe=u.updateQueue;if(Pe===null){var Re=new Set;Re.add(X),u.updateQueue=Re}else Pe.add(X);break e}else{if((u&1)===0){OS(b,oe,u),Uy();break e}X=Error(n(426))}}else if(Ct&&H.mode&1){var qt=CS(L);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),RS(qt,L,H,b,u),Yg(xu(X,H));break e}}b=X=xu(X,H),Zt!==4&&(Zt=2),vc===null?vc=[b]:vc.push(b),b=L;do{switch(b.tag){case 3:b.flags|=65536,u&=-u,b.lanes|=u;var te=IS(b,X,u);eS(b,te);break e;case 1:H=X;var Q=b.type,re=b.stateNode;if((b.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Go===null||!Go.has(re)))){b.flags|=65536,u&=-u,b.lanes|=u;var ye=PS(b,H,u);eS(b,ye);break e}}b=b.return}while(b!==null)}uA(f)}catch(ke){u=ke,Ht===f&&f!==null&&(Ht=f=f.return);continue}break}while(!0)}function aA(){var a=ud.current;return ud.current=nd,a===null?nd:a}function Uy(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),ln===null||(Za&268435455)===0&&(ld&268435455)===0||Qo(ln,vn)}function md(a,u){var f=it;it|=2;var m=aA();(ln!==a||vn!==u)&&(Zi=null,ts(a,u));do try{fU();break}catch(v){oA(a,v)}while(!0);if(Zg(),it=f,ud.current=m,Ht!==null)throw Error(n(261));return ln=null,vn=0,Zt}function fU(){for(;Ht!==null;)sA(Ht)}function hU(){for(;Ht!==null&&!hh();)sA(Ht)}function sA(a){var u=fA(a.alternate,a,hr);a.memoizedProps=a.pendingProps,u===null?uA(a):Ht=u,Ry.current=null}function uA(a){var u=a;do{var f=u.alternate;if(a=u.return,(u.flags&32768)===0){if(f=iU(f,u,hr),f!==null){Ht=f;return}}else{if(f=oU(f,u),f!==null){f.flags&=32767,Ht=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Zt=6,Ht=null;return}}if(u=u.sibling,u!==null){Ht=u;return}Ht=u=a}while(u!==null);Zt===0&&(Zt=5)}function ns(a,u,f){var m=tt,v=Ir.transition;try{Ir.transition=null,tt=1,dU(a,u,f,m)}finally{Ir.transition=v,tt=m}return null}function dU(a,u,f,m){do Au();while(Ko!==null);if((it&6)!==0)throw Error(n(327));f=a.finishedWork;var v=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var b=f.lanes|f.childLanes;if(yt(a,b),a===ln&&(Ht=ln=null,vn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||fd||(fd=!0,hA(wr,function(){return Au(),null})),b=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||b){b=Ir.transition,Ir.transition=null;var L=tt;tt=1;var H=it;it|=4,Ry.current=null,sU(a,f),JS(f,a),NV(Ug),Lo=!!Vg,Ug=Vg=null,a.current=f,uU(f),Eg(),it=H,tt=L,Ir.transition=b}else a.current=f;if(fd&&(fd=!1,Ko=a,hd=v),b=a.pendingLanes,b===0&&(Go=null),mh(f.stateNode),Xn(a,xt()),u!==null)for(m=a.onRecoverableError,f=0;f<u.length;f++)v=u[f],m(v.value,{componentStack:v.stack,digest:v.digest});if(cd)throw cd=!1,a=jy,jy=null,a;return(hd&1)!==0&&a.tag!==0&&Au(),b=a.pendingLanes,(b&1)!==0?a===Dy?_c++:(_c=0,Dy=a):_c=0,Bo(),null}function Au(){if(Ko!==null){var a=Do(hd),u=Ir.transition,f=tt;try{if(Ir.transition=null,tt=16>a?16:a,Ko===null)var m=!1;else{if(a=Ko,Ko=null,hd=0,(it&6)!==0)throw Error(n(331));var v=it;for(it|=4,Te=a.current;Te!==null;){var b=Te,L=b.child;if((Te.flags&16)!==0){var H=b.deletions;if(H!==null){for(var X=0;X<H.length;X++){var oe=H[X];for(Te=oe;Te!==null;){var me=Te;switch(me.tag){case 0:case 11:case 15:gc(8,me,b)}var ge=me.child;if(ge!==null)ge.return=me,Te=ge;else for(;Te!==null;){me=Te;var pe=me.sibling,be=me.return;if(GS(me),me===oe){Te=null;break}if(pe!==null){pe.return=be,Te=pe;break}Te=be}}}var Pe=b.alternate;if(Pe!==null){var Re=Pe.child;if(Re!==null){Pe.child=null;do{var qt=Re.sibling;Re.sibling=null,Re=qt}while(Re!==null)}}Te=b}}if((b.subtreeFlags&2064)!==0&&L!==null)L.return=b,Te=L;else e:for(;Te!==null;){if(b=Te,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:gc(9,b,b.return)}var te=b.sibling;if(te!==null){te.return=b.return,Te=te;break e}Te=b.return}}var Q=a.current;for(Te=Q;Te!==null;){L=Te;var re=L.child;if((L.subtreeFlags&2064)!==0&&re!==null)re.return=L,Te=re;else e:for(L=Q;Te!==null;){if(H=Te,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:sd(9,H)}}catch(ke){Mt(H,H.return,ke)}if(H===L){Te=null;break e}var ye=H.sibling;if(ye!==null){ye.return=H.return,Te=ye;break e}Te=H.return}}if(it=v,Bo(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Va,a)}catch{}m=!0}return m}finally{tt=f,Ir.transition=u}}return!1}function lA(a,u,f){u=xu(f,u),u=IS(a,u,1),a=Ho(a,u,1),u=Dn(),a!==null&&(No(a,1,u),Xn(a,u))}function Mt(a,u,f){if(a.tag===3)lA(a,a,f);else for(;u!==null;){if(u.tag===3){lA(u,a,f);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Go===null||!Go.has(m))){a=xu(f,a),a=PS(u,a,1),u=Ho(u,a,1),a=Dn(),u!==null&&(No(u,1,a),Xn(u,a));break}}u=u.return}}function pU(a,u,f){var m=a.pingCache;m!==null&&m.delete(u),u=Dn(),a.pingedLanes|=a.suspendedLanes&f,ln===a&&(vn&f)===f&&(Zt===4||Zt===3&&(vn&130023424)===vn&&500>xt()-Ny?ts(a,0):ky|=f),Xn(a,u)}function cA(a,u){u===0&&((a.mode&1)===0?u=1:(u=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var f=Dn();a=Qi(a,u),a!==null&&(No(a,u,f),Xn(a,f))}function mU(a){var u=a.memoizedState,f=0;u!==null&&(f=u.retryLane),cA(a,f)}function gU(a,u){var f=0;switch(a.tag){case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(f=v.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(u),cA(a,f)}var fA;fA=function(a,u,f){if(a!==null)if(a.memoizedProps!==u.pendingProps||Hn.current)Gn=!0;else{if((a.lanes&f)===0&&(u.flags&128)===0)return Gn=!1,rU(a,u,f);Gn=(a.flags&131072)!==0}else Gn=!1,Ct&&(u.flags&1048576)!==0&&z1(u,zh,u.index);switch(u.lanes=0,u.tag){case 2:var m=u.type;od(a,u),a=u.pendingProps;var v=pu(u,En.current);wu(u,f),v=cy(null,u,m,a,v,f);var b=fy();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Wn(m)?(b=!0,Fh(u)):b=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,ry(u),v.updater=rd,u.stateNode=v,v._reactInternals=u,yy(u,m,a,f),u=by(null,u,m,!0,b,f)):(u.tag=0,Ct&&b&&Gg(u),jn(null,u,v,f),u=u.child),u;case 16:m=u.elementType;e:{switch(od(a,u),a=u.pendingProps,v=m._init,m=v(m._payload),u.type=m,v=u.tag=vU(m),a=Jr(m,a),v){case 0:u=wy(null,u,m,a,f);break e;case 1:u=LS(null,u,m,a,f);break e;case 11:u=kS(null,u,m,a,f);break e;case 14:u=NS(null,u,m,Jr(m.type,a),f);break e}throw Error(n(306,m,""))}return u;case 0:return m=u.type,v=u.pendingProps,v=u.elementType===m?v:Jr(m,v),wy(a,u,m,v,f);case 1:return m=u.type,v=u.pendingProps,v=u.elementType===m?v:Jr(m,v),LS(a,u,m,v,f);case 3:e:{if($S(u),a===null)throw Error(n(387));m=u.pendingProps,b=u.memoizedState,v=b.element,Z1(a,u),Qh(u,m,null,f);var L=u.memoizedState;if(m=L.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){v=xu(Error(n(423)),u),u=VS(a,u,m,f,v);break e}else if(m!==v){v=xu(Error(n(424)),u),u=VS(a,u,m,f,v);break e}else for(fr=Uo(u.stateNode.containerInfo.firstChild),cr=u,Ct=!0,Yr=null,f=Y1(u,null,m,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(yu(),m===v){u=Ji(a,u,f);break e}jn(a,u,m,f)}u=u.child}return u;case 5:return nS(u),a===null&&Qg(u),m=u.type,v=u.pendingProps,b=a!==null?a.memoizedProps:null,L=v.children,Fg(m,v)?L=null:b!==null&&Fg(m,b)&&(u.flags|=32),MS(a,u),jn(a,u,L,f),u.child;case 6:return a===null&&Qg(u),null;case 13:return US(a,u,f);case 4:return iy(u,u.stateNode.containerInfo),m=u.pendingProps,a===null?u.child=vu(u,null,m,f):jn(a,u,m,f),u.child;case 11:return m=u.type,v=u.pendingProps,v=u.elementType===m?v:Jr(m,v),kS(a,u,m,v,f);case 7:return jn(a,u,u.pendingProps,f),u.child;case 8:return jn(a,u,u.pendingProps.children,f),u.child;case 12:return jn(a,u,u.pendingProps.children,f),u.child;case 10:e:{if(m=u.type._context,v=u.pendingProps,b=u.memoizedProps,L=v.value,Et(Gh,m._currentValue),m._currentValue=L,b!==null)if(Qr(b.value,L)){if(b.children===v.children&&!Hn.current){u=Ji(a,u,f);break e}}else for(b=u.child,b!==null&&(b.return=u);b!==null;){var H=b.dependencies;if(H!==null){L=b.child;for(var X=H.firstContext;X!==null;){if(X.context===m){if(b.tag===1){X=Yi(-1,f&-f),X.tag=2;var oe=b.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?X.next=X:(X.next=me.next,me.next=X),oe.pending=X}}b.lanes|=f,X=b.alternate,X!==null&&(X.lanes|=f),ty(b.return,f,u),H.lanes|=f;break}X=X.next}}else if(b.tag===10)L=b.type===u.type?null:b.child;else if(b.tag===18){if(L=b.return,L===null)throw Error(n(341));L.lanes|=f,H=L.alternate,H!==null&&(H.lanes|=f),ty(L,f,u),L=b.sibling}else L=b.child;if(L!==null)L.return=b;else for(L=b;L!==null;){if(L===u){L=null;break}if(b=L.sibling,b!==null){b.return=L.return,L=b;break}L=L.return}b=L}jn(a,u,v.children,f),u=u.child}return u;case 9:return v=u.type,m=u.pendingProps.children,wu(u,f),v=Sr(v),m=m(v),u.flags|=1,jn(a,u,m,f),u.child;case 14:return m=u.type,v=Jr(m,u.pendingProps),v=Jr(m.type,v),NS(a,u,m,v,f);case 15:return jS(a,u,u.type,u.pendingProps,f);case 17:return m=u.type,v=u.pendingProps,v=u.elementType===m?v:Jr(m,v),od(a,u),u.tag=1,Wn(m)?(a=!0,Fh(u)):a=!1,wu(u,f),SS(u,m,v),yy(u,m,v,f),by(null,u,m,!0,a,f);case 19:return qS(a,u,f);case 22:return DS(a,u,f)}throw Error(n(156,u.tag))};function hA(a,u){return Gs(a,u)}function yU(a,u,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(a,u,f,m){return new yU(a,u,f,m)}function Fy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function vU(a){if(typeof a=="function")return Fy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===W)return 14}return 2}function Yo(a,u){var f=a.alternate;return f===null?(f=Pr(a.tag,u,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=u,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,u=a.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function gd(a,u,f,m,v,b){var L=2;if(m=a,typeof a=="function")Fy(a)&&(L=1);else if(typeof a=="string")L=5;else e:switch(a){case I:return rs(f.children,v,b,u);case O:L=8,v|=8;break;case S:return a=Pr(12,f,u,v|2),a.elementType=S,a.lanes=b,a;case j:return a=Pr(13,f,u,v),a.elementType=j,a.lanes=b,a;case M:return a=Pr(19,f,u,v),a.elementType=M,a.lanes=b,a;case J:return yd(f,v,b,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:L=10;break e;case R:L=9;break e;case V:L=11;break e;case W:L=14;break e;case G:L=16,m=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Pr(L,f,u,v),u.elementType=a,u.type=m,u.lanes=b,u}function rs(a,u,f,m){return a=Pr(7,a,m,u),a.lanes=f,a}function yd(a,u,f,m){return a=Pr(22,a,m,u),a.elementType=J,a.lanes=f,a.stateNode={isHidden:!1},a}function qy(a,u,f){return a=Pr(6,a,null,u),a.lanes=f,a}function By(a,u,f){return u=Pr(4,a.children!==null?a.children:[],a.key,u),u.lanes=f,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function _U(a,u,f,m,v){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function zy(a,u,f,m,v,b,L,H,X){return a=new _U(a,u,f,H,X),u===1?(u=1,b===!0&&(u|=8)):u=0,b=Pr(3,null,null,u),a.current=b,b.stateNode=a,b.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ry(b),a}function wU(a,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:m==null?null:""+m,children:a,containerInfo:u,implementation:f}}function dA(a){if(!a)return qo;a=a._reactInternals;e:{if(Br(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Wn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var f=a.type;if(Wn(f))return F1(a,f,u)}return u}function pA(a,u,f,m,v,b,L,H,X){return a=zy(f,m,!0,a,v,b,L,H,X),a.context=dA(null),f=a.current,m=Dn(),v=Xo(f),b=Yi(m,v),b.callback=u??null,Ho(f,b,v),a.current.lanes=v,No(a,v,m),Xn(a,m),a}function vd(a,u,f,m){var v=u.current,b=Dn(),L=Xo(v);return f=dA(f),u.context===null?u.context=f:u.pendingContext=f,u=Yi(b,L),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Ho(v,u,L),a!==null&&(ti(a,v,L,b),Xh(a,v,L)),L}function _d(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function mA(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<u?f:u}}function Hy(a,u){mA(a,u),(a=a.alternate)&&mA(a,u)}function bU(){return null}var gA=typeof reportError=="function"?reportError:function(a){console.error(a)};function Wy(a){this._internalRoot=a}wd.prototype.render=Wy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));vd(a,u,null,null)},wd.prototype.unmount=Wy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;es(function(){vd(null,a,null,null)}),u[Wi]=null}};function wd(a){this._internalRoot=a}wd.prototype.unstable_scheduleHydration=function(a){if(a){var u=wh();a={blockedOn:null,target:a,priority:u};for(var f=0;f<pi.length&&u!==0&&u<pi[f].priority;f++);pi.splice(f,0,a),f===0&&Eh(a)}};function Gy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function bd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function yA(){}function xU(a,u,f,m,v){if(v){if(typeof m=="function"){var b=m;m=function(){var oe=_d(L);b.call(oe)}}var L=pA(u,m,a,0,null,!1,!1,"",yA);return a._reactRootContainer=L,a[Wi]=L.current,rc(a.nodeType===8?a.parentNode:a),es(),L}for(;v=a.lastChild;)a.removeChild(v);if(typeof m=="function"){var H=m;m=function(){var oe=_d(X);H.call(oe)}}var X=zy(a,0,!1,null,null,!1,!1,"",yA);return a._reactRootContainer=X,a[Wi]=X.current,rc(a.nodeType===8?a.parentNode:a),es(function(){vd(u,X,f,m)}),X}function xd(a,u,f,m,v){var b=f._reactRootContainer;if(b){var L=b;if(typeof v=="function"){var H=v;v=function(){var X=_d(L);H.call(X)}}vd(u,L,a,v)}else L=xU(f,u,a,v,m);return _d(L)}vh=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var f=Ro(u.pendingLanes);f!==0&&(jo(u,f|1),Xn(u,xt()),(it&6)===0&&(Su=xt()+500,Bo()))}break;case 13:es(function(){var m=Qi(a,1);if(m!==null){var v=Dn();ti(m,a,1,v)}}),Hy(a,1)}},Qs=function(a){if(a.tag===13){var u=Qi(a,134217728);if(u!==null){var f=Dn();ti(u,a,134217728,f)}Hy(a,134217728)}},_h=function(a){if(a.tag===13){var u=Xo(a),f=Qi(a,u);if(f!==null){var m=Dn();ti(f,a,u,m)}Hy(a,u)}},wh=function(){return tt},bh=function(a,u){var f=tt;try{return tt=a,u()}finally{tt=f}},Fs=function(a,u,f){switch(u){case"input":if(bt(a,f),u=f.name,f.type==="radio"&&u!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var m=f[u];if(m!==a&&m.form===a.form){var v=Vh(m);if(!v)throw Error(n(90));he(m),bt(m,v)}}}break;case"textarea":$i(a,f);break;case"select":u=f.value,u!=null&&pn(a,!!f.multiple,u,!1)}},ja=$y,$l=es;var EU={usingClientEntryPoint:!1,Events:[ac,hu,Vh,hi,Ll,$y]},wc={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TU={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Fl(a),a===null?null:a.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance||bU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Va=Ed.inject(TU),ar=Ed}catch{}}return Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EU,Qn.createPortal=function(a,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(u))throw Error(n(200));return wU(a,u,null,f)},Qn.createRoot=function(a,u){if(!Gy(a))throw Error(n(299));var f=!1,m="",v=gA;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onRecoverableError!==void 0&&(v=u.onRecoverableError)),u=zy(a,1,!1,null,null,f,!1,m,v),a[Wi]=u.current,rc(a.nodeType===8?a.parentNode:a),new Wy(u)},Qn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Fl(u),a=a===null?null:a.stateNode,a},Qn.flushSync=function(a){return es(a)},Qn.hydrate=function(a,u,f){if(!bd(u))throw Error(n(200));return xd(null,a,u,!0,f)},Qn.hydrateRoot=function(a,u,f){if(!Gy(a))throw Error(n(405));var m=f!=null&&f.hydratedSources||null,v=!1,b="",L=gA;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),u=pA(u,null,a,1,f??null,v,!1,b,L),a[Wi]=u.current,rc(a),m)for(a=0;a<m.length;a++)f=m[a],v=f._getVersion,v=v(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,v]:u.mutableSourceEagerHydrationData.push(f,v);return new wd(u)},Qn.render=function(a,u,f){if(!bd(u))throw Error(n(200));return xd(null,a,u,!1,f)},Qn.unmountComponentAtNode=function(a){if(!bd(a))throw Error(n(40));return a._reactRootContainer?(es(function(){xd(null,null,a,!1,function(){a._reactRootContainer=null,a[Wi]=null})}),!0):!1},Qn.unstable_batchedUpdates=$y,Qn.unstable_renderSubtreeIntoContainer=function(a,u,f,m){if(!bd(f))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return xd(a,u,f,!1,m)},Qn.version="18.3.1-next-f1338f8080-20240426",Qn}var SA;function kU(){if(SA)return Qy.exports;SA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qy.exports=RU(),Qy.exports}var AA;function NU(){if(AA)return Sd;AA=1;var t=kU();return Sd.createRoot=t.createRoot,Sd.hydrateRoot=t.hydrateRoot,Sd}var jU=NU();const DU=gt(jU);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=ie.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},c)=>ie.createElement("svg",{ref:c,...LU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tj("lucide",i),...l},[...s.map(([h,p])=>ie.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(t,e)=>{const n=ie.forwardRef(({className:r,...i},o)=>ie.createElement($U,{ref:o,iconNode:e,className:tj(`lucide-${MU(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=Dt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Dt("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Dt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Dt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=Dt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Dt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Dt("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=Dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Dt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Dt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sE=({note:t,onDelete:e})=>E.jsxs("div",{className:"bg-gray-800/50 p-2 rounded flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm",children:t.text}),E.jsx("p",{className:"text-xs text-gray-400",children:new Date(t.timestamp).toLocaleString()})]}),E.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-600 rounded",children:E.jsx(mr,{className:"w-4 h-4"})})]}),oj=({milestone:t,onToggle:e,onUpdate:n,onDelete:r})=>E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("input",{type:"checkbox",checked:t.completed,onChange:e,className:"w-4 h-4 rounded"}),E.jsx("input",{type:"text",value:t.name,onChange:i=>n(i.target.value),className:`bg-transparent text-sm outline-none flex-1 ${t.completed?"line-through text-gray-400":""}`}),E.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-600 rounded",children:E.jsx(mr,{className:"w-4 h-4"})})]}),ZU=()=>{};var IA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,p=o>>2,g=(o&3)<<4|l>>4;let y=(l&15)<<2|h>>6,w=h&63;c||(w=64,s||(y=64)),r.push(n[p],n[g],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||g==null)throw new tF;const y=o<<2|l>>4;if(r.push(y),h!==64){const w=l<<4&240|h>>2;if(r.push(w),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nF=function(t){const e=aj(t);return sj.encodeByteArray(e,!0)},up=function(t){return nF(t).replace(/\./g,"")},uj=function(t){try{return sj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=()=>rF().__FIREBASE_DEFAULTS__,oF=()=>{if(typeof process>"u"||typeof IA>"u")return;const t=IA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uj(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return ZU()||iF()||oF()||aF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lj=t=>{var e,n;return(n=(e=gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cj=t=>{const e=lj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fj=()=>{var t;return(t=gm())===null||t===void 0?void 0:t.config},hj=t=>{var e;return(e=gm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[up(JSON.stringify(n)),up(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function lF(){var t;const e=(t=gm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hF(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dF(){return!lF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mj(){try{return typeof indexedDB=="object"}catch{return!1}}function gj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function pF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mF,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rs.prototype.create)}}class Rs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gF(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Vr(i,l,r)}}function gF(t,e){return t.replace(yF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yF=/\{\$([^}]+)}/g;function vF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function da(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(PA(o)&&PA(s)){if(!da(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _F(t,e){const n=new wF(t,e);return n.subscribe.bind(n)}class wF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zy),i.error===void 0&&(i.error=Zy),i.complete===void 0&&(i.complete=Zy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=1e3,EF=2,TF=4*60*60*1e3,SF=.5;function OA(t,e=xF,n=EF){const r=e*Math.pow(n,t),i=Math.round(SF*r*(Math.random()-.5)*2);return Math.min(TF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PF(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IF(t){return t===ss?void 0:t}function PF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const CF={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},RF=Ze.INFO,kF={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},NF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=RF,this._logHandler=NF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const jF=(t,e)=>e.some(n=>t instanceof n);let CA,RA;function DF(){return CA||(CA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MF(){return RA||(RA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yj=new WeakMap,yb=new WeakMap,vj=new WeakMap,ev=new WeakMap,uE=new WeakMap;function LF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ua(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&yj.set(n,t)}).catch(()=>{}),uE.set(e,t),e}function $F(t){if(yb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yb.set(t,e)}let vb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VF(t){vb=t(vb)}function UF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tv(this),e,...n);return vj.set(r,e.sort?e.sort():[e]),ua(r)}:MF().includes(t)?function(...e){return t.apply(tv(this),e),ua(yj.get(this))}:function(...e){return ua(t.apply(tv(this),e))}}function FF(t){return typeof t=="function"?UF(t):(t instanceof IDBTransaction&&$F(t),jF(t,DF())?new Proxy(t,vb):t)}function ua(t){if(t instanceof IDBRequest)return LF(t);if(ev.has(t))return ev.get(t);const e=FF(t);return e!==t&&(ev.set(t,e),uE.set(e,t)),e}const tv=t=>uE.get(t);function _j(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=ua(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ua(s.result),c.oldVersion,c.newVersion,ua(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const qF=["get","getKey","getAll","getAllKeys","count"],BF=["put","add","delete","clear"],nv=new Map;function kA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nv.get(e))return nv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qF.includes(n)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return nv.set(e,o),o}VF(t=>({...t,get:(e,n,r)=>kA(e,n)||t.get(e,n,r),has:(e,n)=>!!kA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _b="@firebase/app",NA="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new ym("@firebase/app"),WF="@firebase/app-compat",GF="@firebase/analytics-compat",KF="@firebase/analytics",XF="@firebase/app-check-compat",QF="@firebase/app-check",YF="@firebase/auth",JF="@firebase/auth-compat",ZF="@firebase/database",e3="@firebase/data-connect",t3="@firebase/database-compat",n3="@firebase/functions",r3="@firebase/functions-compat",i3="@firebase/installations",o3="@firebase/installations-compat",a3="@firebase/messaging",s3="@firebase/messaging-compat",u3="@firebase/performance",l3="@firebase/performance-compat",c3="@firebase/remote-config",f3="@firebase/remote-config-compat",h3="@firebase/storage",d3="@firebase/storage-compat",p3="@firebase/firestore",m3="@firebase/vertexai",g3="@firebase/firestore-compat",y3="firebase",v3="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="[DEFAULT]",_3={[_b]:"fire-core",[WF]:"fire-core-compat",[KF]:"fire-analytics",[GF]:"fire-analytics-compat",[QF]:"fire-app-check",[XF]:"fire-app-check-compat",[YF]:"fire-auth",[JF]:"fire-auth-compat",[ZF]:"fire-rtdb",[e3]:"fire-data-connect",[t3]:"fire-rtdb-compat",[n3]:"fire-fn",[r3]:"fire-fn-compat",[i3]:"fire-iid",[o3]:"fire-iid-compat",[a3]:"fire-fcm",[s3]:"fire-fcm-compat",[u3]:"fire-perf",[l3]:"fire-perf-compat",[c3]:"fire-rc",[f3]:"fire-rc-compat",[h3]:"fire-gcs",[d3]:"fire-gcs-compat",[p3]:"fire-fst",[g3]:"fire-fst-compat",[m3]:"fire-vertex","fire-js":"fire-js",[y3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Map,w3=new Map,bb=new Map;function jA(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ai(t){const e=t.name;if(bb.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;bb.set(e,t);for(const n of lp.values())jA(n,t);for(const n of w3.values())jA(n,t);return!0}function xa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Rs("app","Firebase",b3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=v3;function wj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw la.create("bad-app-name",{appName:String(i)});if(n||(n=fj()),!n)throw la.create("no-options");const o=lp.get(i);if(o){if(da(n,o.options)&&da(r,o.config))return o;throw la.create("duplicate-app",{appName:i})}const s=new OF(i);for(const c of bb.values())s.addComponent(c);const l=new x3(n,r,s);return lp.set(i,l),l}function vm(t=wb){const e=lp.get(t);if(!e&&t===wb&&fj())return wj();if(!e)throw la.create("no-app",{appName:t});return e}function er(t,e,n){var r;let i=(r=_3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(l.join(" "));return}ai(new Mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="firebase-heartbeat-database",T3=1,Zc="firebase-heartbeat-store";let rv=null;function bj(){return rv||(rv=_j(E3,T3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw la.create("idb-open",{originalErrorMessage:t.message})})),rv}async function S3(t){try{const n=(await bj()).transaction(Zc),r=await n.objectStore(Zc).get(xj(t));return await n.done,r}catch(e){if(e instanceof Vr)go.warn(e.message);else{const n=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});go.warn(n.message)}}}async function DA(t,e){try{const r=(await bj()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,xj(t)),await r.done}catch(n){if(n instanceof Vr)go.warn(n.message);else{const r=la.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});go.warn(r.message)}}}function xj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=1024,I3=30;class P3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>I3){const s=R3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){go.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MA(),{heartbeatsToSend:r,unsentEntries:i}=O3(this._heartbeatsCache.heartbeats),o=up(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return go.warn(n),""}}}function MA(){return new Date().toISOString().substring(0,10)}function O3(t,e=A3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),LA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mj()?gj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LA(t){return up(JSON.stringify({version:2,heartbeats:t})).length}function R3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){ai(new Mr("platform-logger",e=>new zF(e),"PRIVATE")),ai(new Mr("heartbeat",e=>new P3(e),"PRIVATE")),er(_b,NA,t),er(_b,NA,"esm2017"),er("fire-js","")}k3("");var $A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,Ej;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,O){function S(){}S.prototype=O.prototype,I.D=O.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(N,R,V){for(var j=Array(arguments.length-2),M=2;M<arguments.length;M++)j[M-2]=arguments[M];return O.prototype[R].apply(N,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,O,S){S||(S=0);var N=Array(16);if(typeof O=="string")for(var R=0;16>R;++R)N[R]=O.charCodeAt(S++)|O.charCodeAt(S++)<<8|O.charCodeAt(S++)<<16|O.charCodeAt(S++)<<24;else for(R=0;16>R;++R)N[R]=O[S++]|O[S++]<<8|O[S++]<<16|O[S++]<<24;O=I.g[0],S=I.g[1],R=I.g[2];var V=I.g[3],j=O+(V^S&(R^V))+N[0]+3614090360&4294967295;O=S+(j<<7&4294967295|j>>>25),j=V+(R^O&(S^R))+N[1]+3905402710&4294967295,V=O+(j<<12&4294967295|j>>>20),j=R+(S^V&(O^S))+N[2]+606105819&4294967295,R=V+(j<<17&4294967295|j>>>15),j=S+(O^R&(V^O))+N[3]+3250441966&4294967295,S=R+(j<<22&4294967295|j>>>10),j=O+(V^S&(R^V))+N[4]+4118548399&4294967295,O=S+(j<<7&4294967295|j>>>25),j=V+(R^O&(S^R))+N[5]+1200080426&4294967295,V=O+(j<<12&4294967295|j>>>20),j=R+(S^V&(O^S))+N[6]+2821735955&4294967295,R=V+(j<<17&4294967295|j>>>15),j=S+(O^R&(V^O))+N[7]+4249261313&4294967295,S=R+(j<<22&4294967295|j>>>10),j=O+(V^S&(R^V))+N[8]+1770035416&4294967295,O=S+(j<<7&4294967295|j>>>25),j=V+(R^O&(S^R))+N[9]+2336552879&4294967295,V=O+(j<<12&4294967295|j>>>20),j=R+(S^V&(O^S))+N[10]+4294925233&4294967295,R=V+(j<<17&4294967295|j>>>15),j=S+(O^R&(V^O))+N[11]+2304563134&4294967295,S=R+(j<<22&4294967295|j>>>10),j=O+(V^S&(R^V))+N[12]+1804603682&4294967295,O=S+(j<<7&4294967295|j>>>25),j=V+(R^O&(S^R))+N[13]+4254626195&4294967295,V=O+(j<<12&4294967295|j>>>20),j=R+(S^V&(O^S))+N[14]+2792965006&4294967295,R=V+(j<<17&4294967295|j>>>15),j=S+(O^R&(V^O))+N[15]+1236535329&4294967295,S=R+(j<<22&4294967295|j>>>10),j=O+(R^V&(S^R))+N[1]+4129170786&4294967295,O=S+(j<<5&4294967295|j>>>27),j=V+(S^R&(O^S))+N[6]+3225465664&4294967295,V=O+(j<<9&4294967295|j>>>23),j=R+(O^S&(V^O))+N[11]+643717713&4294967295,R=V+(j<<14&4294967295|j>>>18),j=S+(V^O&(R^V))+N[0]+3921069994&4294967295,S=R+(j<<20&4294967295|j>>>12),j=O+(R^V&(S^R))+N[5]+3593408605&4294967295,O=S+(j<<5&4294967295|j>>>27),j=V+(S^R&(O^S))+N[10]+38016083&4294967295,V=O+(j<<9&4294967295|j>>>23),j=R+(O^S&(V^O))+N[15]+3634488961&4294967295,R=V+(j<<14&4294967295|j>>>18),j=S+(V^O&(R^V))+N[4]+3889429448&4294967295,S=R+(j<<20&4294967295|j>>>12),j=O+(R^V&(S^R))+N[9]+568446438&4294967295,O=S+(j<<5&4294967295|j>>>27),j=V+(S^R&(O^S))+N[14]+3275163606&4294967295,V=O+(j<<9&4294967295|j>>>23),j=R+(O^S&(V^O))+N[3]+4107603335&4294967295,R=V+(j<<14&4294967295|j>>>18),j=S+(V^O&(R^V))+N[8]+1163531501&4294967295,S=R+(j<<20&4294967295|j>>>12),j=O+(R^V&(S^R))+N[13]+2850285829&4294967295,O=S+(j<<5&4294967295|j>>>27),j=V+(S^R&(O^S))+N[2]+4243563512&4294967295,V=O+(j<<9&4294967295|j>>>23),j=R+(O^S&(V^O))+N[7]+1735328473&4294967295,R=V+(j<<14&4294967295|j>>>18),j=S+(V^O&(R^V))+N[12]+2368359562&4294967295,S=R+(j<<20&4294967295|j>>>12),j=O+(S^R^V)+N[5]+4294588738&4294967295,O=S+(j<<4&4294967295|j>>>28),j=V+(O^S^R)+N[8]+2272392833&4294967295,V=O+(j<<11&4294967295|j>>>21),j=R+(V^O^S)+N[11]+1839030562&4294967295,R=V+(j<<16&4294967295|j>>>16),j=S+(R^V^O)+N[14]+4259657740&4294967295,S=R+(j<<23&4294967295|j>>>9),j=O+(S^R^V)+N[1]+2763975236&4294967295,O=S+(j<<4&4294967295|j>>>28),j=V+(O^S^R)+N[4]+1272893353&4294967295,V=O+(j<<11&4294967295|j>>>21),j=R+(V^O^S)+N[7]+4139469664&4294967295,R=V+(j<<16&4294967295|j>>>16),j=S+(R^V^O)+N[10]+3200236656&4294967295,S=R+(j<<23&4294967295|j>>>9),j=O+(S^R^V)+N[13]+681279174&4294967295,O=S+(j<<4&4294967295|j>>>28),j=V+(O^S^R)+N[0]+3936430074&4294967295,V=O+(j<<11&4294967295|j>>>21),j=R+(V^O^S)+N[3]+3572445317&4294967295,R=V+(j<<16&4294967295|j>>>16),j=S+(R^V^O)+N[6]+76029189&4294967295,S=R+(j<<23&4294967295|j>>>9),j=O+(S^R^V)+N[9]+3654602809&4294967295,O=S+(j<<4&4294967295|j>>>28),j=V+(O^S^R)+N[12]+3873151461&4294967295,V=O+(j<<11&4294967295|j>>>21),j=R+(V^O^S)+N[15]+530742520&4294967295,R=V+(j<<16&4294967295|j>>>16),j=S+(R^V^O)+N[2]+3299628645&4294967295,S=R+(j<<23&4294967295|j>>>9),j=O+(R^(S|~V))+N[0]+4096336452&4294967295,O=S+(j<<6&4294967295|j>>>26),j=V+(S^(O|~R))+N[7]+1126891415&4294967295,V=O+(j<<10&4294967295|j>>>22),j=R+(O^(V|~S))+N[14]+2878612391&4294967295,R=V+(j<<15&4294967295|j>>>17),j=S+(V^(R|~O))+N[5]+4237533241&4294967295,S=R+(j<<21&4294967295|j>>>11),j=O+(R^(S|~V))+N[12]+1700485571&4294967295,O=S+(j<<6&4294967295|j>>>26),j=V+(S^(O|~R))+N[3]+2399980690&4294967295,V=O+(j<<10&4294967295|j>>>22),j=R+(O^(V|~S))+N[10]+4293915773&4294967295,R=V+(j<<15&4294967295|j>>>17),j=S+(V^(R|~O))+N[1]+2240044497&4294967295,S=R+(j<<21&4294967295|j>>>11),j=O+(R^(S|~V))+N[8]+1873313359&4294967295,O=S+(j<<6&4294967295|j>>>26),j=V+(S^(O|~R))+N[15]+4264355552&4294967295,V=O+(j<<10&4294967295|j>>>22),j=R+(O^(V|~S))+N[6]+2734768916&4294967295,R=V+(j<<15&4294967295|j>>>17),j=S+(V^(R|~O))+N[13]+1309151649&4294967295,S=R+(j<<21&4294967295|j>>>11),j=O+(R^(S|~V))+N[4]+4149444226&4294967295,O=S+(j<<6&4294967295|j>>>26),j=V+(S^(O|~R))+N[11]+3174756917&4294967295,V=O+(j<<10&4294967295|j>>>22),j=R+(O^(V|~S))+N[2]+718787259&4294967295,R=V+(j<<15&4294967295|j>>>17),j=S+(V^(R|~O))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+O&4294967295,I.g[1]=I.g[1]+(R+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.u=function(I,O){O===void 0&&(O=I.length);for(var S=O-this.blockSize,N=this.B,R=this.h,V=0;V<O;){if(R==0)for(;V<=S;)i(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<O;)if(N[R++]=I.charCodeAt(V++),R==this.blockSize){i(this,N),R=0;break}}else for(;V<O;)if(N[R++]=I[V++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=O},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var O=1;O<I.length-8;++O)I[O]=0;var S=8*this.o;for(O=I.length-8;O<I.length;++O)I[O]=S&255,S/=256;for(this.u(I),I=Array(16),O=S=0;4>O;++O)for(var N=0;32>N;N+=8)I[S++]=this.g[O]>>>N&255;return I};function o(I,O){var S=l;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=O(I)}function s(I,O){this.h=O;for(var S=[],N=!0,R=I.length-1;0<=R;R--){var V=I[R]|0;N&&V==O||(S[R]=V,N=!1)}this.g=S}var l={};function c(I){return-128<=I&&128>I?o(I,function(O){return new s([O|0],0>O?-1:0)}):new s([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return x(h(-I));for(var O=[],S=1,N=0;I>=S;N++)O[N]=I/S|0,S*=4294967296;return new s(O,0)}function p(I,O){if(I.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I.charAt(0)=="-")return x(p(I.substring(1),O));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=h(Math.pow(O,8)),N=g,R=0;R<I.length;R+=8){var V=Math.min(8,I.length-R),j=parseInt(I.substring(R,R+V),O);8>V?(V=h(Math.pow(O,V)),N=N.j(V).add(h(j))):(N=N.j(S),N=N.add(h(j)))}return N}var g=c(0),y=c(1),w=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-x(this).m();for(var I=0,O=1,S=0;S<this.g.length;S++){var N=this.i(S);I+=(0<=N?N:4294967296+N)*O,O*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(T(this))return"-"+x(this).toString(I);for(var O=h(Math.pow(I,6)),S=this,N="";;){var R=F(S,O).g;S=D(S,R.j(O));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=R,A(S))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var O=0;O<I.g.length;O++)if(I.g[O]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=D(this,I),T(I)?-1:A(I)?0:1};function x(I){for(var O=I.g.length,S=[],N=0;N<O;N++)S[N]=~I.g[N];return new s(S,~I.h).add(y)}t.abs=function(){return T(this)?x(this):this},t.add=function(I){for(var O=Math.max(this.g.length,I.g.length),S=[],N=0,R=0;R<=O;R++){var V=N+(this.i(R)&65535)+(I.i(R)&65535),j=(V>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);N=j>>>16,V&=65535,j&=65535,S[R]=j<<16|V}return new s(S,S[S.length-1]&-2147483648?-1:0)};function D(I,O){return I.add(x(O))}t.j=function(I){if(A(this)||A(I))return g;if(T(this))return T(I)?x(this).j(x(I)):x(x(this).j(I));if(T(I))return x(this.j(x(I)));if(0>this.l(w)&&0>I.l(w))return h(this.m()*I.m());for(var O=this.g.length+I.g.length,S=[],N=0;N<2*O;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<I.g.length;R++){var V=this.i(N)>>>16,j=this.i(N)&65535,M=I.i(R)>>>16,W=I.i(R)&65535;S[2*N+2*R]+=j*W,$(S,2*N+2*R),S[2*N+2*R+1]+=V*W,$(S,2*N+2*R+1),S[2*N+2*R+1]+=j*M,$(S,2*N+2*R+1),S[2*N+2*R+2]+=V*M,$(S,2*N+2*R+2)}for(N=0;N<O;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=O;N<2*O;N++)S[N]=0;return new s(S,0)};function $(I,O){for(;(I[O]&65535)!=I[O];)I[O+1]+=I[O]>>>16,I[O]&=65535,O++}function U(I,O){this.g=I,this.h=O}function F(I,O){if(A(O))throw Error("division by zero");if(A(I))return new U(g,g);if(T(I))return O=F(x(I),O),new U(x(O.g),x(O.h));if(T(O))return O=F(I,x(O)),new U(x(O.g),O.h);if(30<I.g.length){if(T(I)||T(O))throw Error("slowDivide_ only works with positive integers.");for(var S=y,N=O;0>=N.l(I);)S=k(S),N=k(N);var R=C(S,1),V=C(N,1);for(N=C(N,2),S=C(S,2);!A(N);){var j=V.add(N);0>=j.l(I)&&(R=R.add(S),V=j),N=C(N,1),S=C(S,1)}return O=D(I,R.j(O)),new U(R,O)}for(R=g;0<=I.l(O);){for(S=Math.max(1,Math.floor(I.m()/O.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=h(S),j=V.j(O);T(j)||0<j.l(I);)S-=N,V=h(S),j=V.j(O);A(V)&&(V=y),R=R.add(V),I=D(I,j)}return new U(R,I)}t.A=function(I){return F(this,I).h},t.and=function(I){for(var O=Math.max(this.g.length,I.g.length),S=[],N=0;N<O;N++)S[N]=this.i(N)&I.i(N);return new s(S,this.h&I.h)},t.or=function(I){for(var O=Math.max(this.g.length,I.g.length),S=[],N=0;N<O;N++)S[N]=this.i(N)|I.i(N);return new s(S,this.h|I.h)},t.xor=function(I){for(var O=Math.max(this.g.length,I.g.length),S=[],N=0;N<O;N++)S[N]=this.i(N)^I.i(N);return new s(S,this.h^I.h)};function k(I){for(var O=I.g.length+1,S=[],N=0;N<O;N++)S[N]=I.i(N)<<1|I.i(N-1)>>>31;return new s(S,I.h)}function C(I,O){var S=O>>5;O%=32;for(var N=I.g.length-S,R=[],V=0;V<N;V++)R[V]=0<O?I.i(V+S)>>>O|I.i(V+S+1)<<32-O:I.i(V+S);return new s(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ej=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,ca=s}).apply(typeof $A<"u"?$A:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tj,Nc,Sj,Jd,xb,Aj,Ij,Pj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,P){return d==Array.prototype||d==Object.prototype||(d[_]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var _=0;_<d.length;++_){var P=d[_];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var P=r;d=d.split(".");for(var q=0;q<d.length-1;q++){var ee=d[q];if(!(ee in P))break e;P=P[ee]}d=d[d.length-1],q=P[d],_=_(q),_!=q&&_!=null&&e(P,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var P=0,q=!1,ee={next:function(){if(!q&&P<d.length){var se=P++;return{value:_(se,d[se]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function p(d,_,P){return d.call.apply(d.bind,arguments)}function g(d,_,P){if(!d)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,q),d.apply(_,ee)}}return function(){return d.apply(_,arguments)}}function y(d,_,P){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function w(d,_){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),d.apply(this,q)}}function A(d,_){function P(){}P.prototype=_.prototype,d.aa=_.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(q,ee,se){for(var ve=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ve[dt-2]=arguments[dt];return _.prototype[ee].apply(q,ve)}}function T(d){const _=d.length;if(0<_){const P=Array(_);for(let q=0;q<_;q++)P[q]=d[q];return P}return[]}function x(d,_){for(let P=1;P<arguments.length;P++){const q=arguments[P];if(c(q)){const ee=d.length||0,se=q.length||0;d.length=ee+se;for(let ve=0;ve<se;ve++)d[ee+ve]=q[ve]}else d.push(q)}}class D{constructor(_,P){this.i=_,this.j=P,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function $(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var k=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function C(d,_,P){for(const q in d)_.call(P,d[q],q,d)}function I(d,_){for(const P in d)_.call(void 0,d[P],P,d)}function O(d){const _={};for(const P in d)_[P]=d[P];return _}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,_){let P,q;for(let ee=1;ee<arguments.length;ee++){q=arguments[ee];for(P in q)d[P]=q[P];for(let se=0;se<S.length;se++)P=S[se],Object.prototype.hasOwnProperty.call(q,P)&&(d[P]=q[P])}}function R(d){var _=1;d=d.split(":");const P=[];for(;0<_&&d.length;)P.push(d.shift()),_--;return d.length&&P.push(d.join(":")),P}function V(d){l.setTimeout(()=>{throw d},0)}function j(){var d=K;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class M{constructor(){this.h=this.g=null}add(_,P){const q=W.get();q.set(_,P),this.h?this.h.next=q:this.g=q,this.h=q}}var W=new D(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(_,P){this.h=_,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let J,B=!1,K=new M,Z=()=>{const d=l.Promise.resolve(void 0);J=()=>{d.then(z)}};var z=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(P){V(P)}var _=W;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}B=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};l.addEventListener("test",P,_),l.removeEventListener("test",P,_)}catch{}return d}();function ae(d,_){if(de.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,q=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(k){e:{try{F(_.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(_=null)}}else P=="mouseover"?_=d.fromElement:P=="mouseout"&&(_=d.toElement);this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ae.aa.h.call(this)}}A(ae,de);var _e={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function le(d,_,P,q,ee){this.listener=d,this.proxy=null,this.src=_,this.type=P,this.capture=!!q,this.ha=ee,this.key=++Ie,this.da=this.fa=!1}function we(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ne(d){this.src=d,this.g={},this.h=0}Ne.prototype.add=function(d,_,P,q,ee){var se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);var ve=Ge(d,_,q,ee);return-1<ve?(_=d[ve],P||(_.fa=!1)):(_=new le(_,this.src,se,!!q,ee),_.fa=P,d.push(_)),_};function he(d,_){var P=_.type;if(P in d.g){var q=d.g[P],ee=Array.prototype.indexOf.call(q,_,void 0),se;(se=0<=ee)&&Array.prototype.splice.call(q,ee,1),se&&(we(_),d.g[P].length==0&&(delete d.g[P],d.h--))}}function Ge(d,_,P,q){for(var ee=0;ee<d.length;++ee){var se=d[ee];if(!se.da&&se.listener==_&&se.capture==!!P&&se.ha==q)return ee}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Ye={};function Be(d,_,P,q,ee){if(Array.isArray(_)){for(var se=0;se<_.length;se++)Be(d,_[se],P,q,ee);return null}return P=Po(P),d&&d[xe]?d.K(_,P,h(q)?!!q.capture:!1,ee):bt(d,_,P,!1,q,ee)}function bt(d,_,P,q,ee,se){if(!_)throw Error("Invalid event type");var ve=h(ee)?!!ee.capture:!!ee,dt=ci(d);if(dt||(d[He]=dt=new Ne(d)),P=dt.add(_,P,q,ve,se),P.proxy)return P;if(q=rr(),P.proxy=q,q.src=d,q.listener=P,d.addEventListener)Ce||(ee=ve),ee===void 0&&(ee=!1),d.addEventListener(_.toString(),q,ee);else if(d.attachEvent)d.attachEvent(pn(_.toString()),q);else if(d.addListener&&d.removeListener)d.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function rr(){function d(P){return _.call(d.src,d.listener,P)}const _=or;return d}function ir(d,_,P,q,ee){if(Array.isArray(_))for(var se=0;se<_.length;se++)ir(d,_[se],P,q,ee);else q=h(q)?!!q.capture:!!q,P=Po(P),d&&d[xe]?(d=d.i,_=String(_).toString(),_ in d.g&&(se=d.g[_],P=Ge(se,P,q,ee),-1<P&&(we(se[P]),Array.prototype.splice.call(se,P,1),se.length==0&&(delete d.g[_],d.h--)))):d&&(d=ci(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ge(_,P,q,ee)),(P=-1<d?_[d]:null)&&qn(P))}function qn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[xe])he(_.i,d);else{var P=d.type,q=d.proxy;_.removeEventListener?_.removeEventListener(P,q,d.capture):_.detachEvent?_.detachEvent(pn(P),q):_.addListener&&_.removeListener&&_.removeListener(q),(P=ci(_))?(he(P,d),P.h==0&&(P.src=null,_[He]=null)):we(d)}}}function pn(d){return d in Ye?Ye[d]:Ye[d]="on"+d}function or(d,_){if(d.da)d=!0;else{_=new ae(_,this);var P=d.listener,q=d.ha||d.src;d.fa&&qn(d),d=P.call(q,_)}return d}function ci(d){return d=d[He],d instanceof Ne?d:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(d){return typeof d=="function"?d:(d[$i]||(d[$i]=function(_){return d.handleEvent(_)}),d[$i])}function Xt(){Y.call(this),this.i=new Ne(this),this.M=this,this.F=null}A(Xt,Y),Xt.prototype[xe]=!0,Xt.prototype.removeEventListener=function(d,_,P,q){ir(this,d,_,P,q)};function Qt(d,_){var P,q=d.F;if(q)for(P=[];q;q=q.F)P.push(q);if(d=d.M,q=_.type||_,typeof _=="string")_=new de(_,d);else if(_ instanceof de)_.target=_.target||d;else{var ee=_;_=new de(q,d),N(_,ee)}if(ee=!0,P)for(var se=P.length-1;0<=se;se--){var ve=_.g=P[se];ee=Vi(ve,q,!0,_)&&ee}if(ve=_.g=d,ee=Vi(ve,q,!0,_)&&ee,ee=Vi(ve,q,!1,_)&&ee,P)for(se=0;se<P.length;se++)ve=_.g=P[se],ee=Vi(ve,q,!1,_)&&ee}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var P=d.g[_],q=0;q<P.length;q++)we(P[q]);delete d.g[_],d.h--}}this.F=null},Xt.prototype.K=function(d,_,P,q){return this.i.add(String(d),_,!1,P,q)},Xt.prototype.L=function(d,_,P,q){return this.i.add(String(d),_,!0,P,q)};function Vi(d,_,P,q){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var ee=!0,se=0;se<_.length;++se){var ve=_[se];if(ve&&!ve.da&&ve.capture==P){var dt=ve.listener,Yt=ve.ha||ve.src;ve.fa&&he(d.i,ve),ee=dt.call(Yt,q)!==!1&&ee}}return ee&&!q.defaultPrevented}function Rl(d,_,P){if(typeof d=="function")P&&(d=y(d,P));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(d,_||0)}function Oo(d){d.g=Rl(()=>{d.g=null,d.i&&(d.i=!1,Oo(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Ra extends Y{constructor(_,P){super(),this.m=_,this.l=P,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(d){Y.call(this),this.h=d,this.g={}}A(ka,Y);var kl=[];function Nl(d){C(d.g,function(_,P){this.g.hasOwnProperty(P)&&qn(_)},d),d.g={}}ka.prototype.N=function(){ka.aa.N.call(this),Nl(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jl=l.JSON.stringify,Dl=l.JSON.parse,Ml=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Na(){}Na.prototype.h=null;function Us(d){return d.h||(d.h=d.i())}function Fs(){}var _r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){de.call(this,"d")}A(fi,de);function qs(){de.call(this,"c")}A(qs,de);var hi={},Ll=null;function ja(){return Ll=Ll||new Xt}hi.La="serverreachability";function $l(d){de.call(this,hi.La,d)}A($l,de);function Ui(d){const _=ja();Qt(_,new $l(_))}hi.STAT_EVENT="statevent";function Vl(d,_){de.call(this,hi.STAT_EVENT,d),this.stat=_}A(Vl,de);function Ft(d){const _=ja();Qt(_,new Vl(_,d))}hi.Ma="timingevent";function Bs(d,_){de.call(this,hi.Ma,d),this.size=_}A(Bs,de);function Fr(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function Ma(d,_,P,q,ee,se){d.info(function(){if(d.g)if(se)for(var ve="",dt=se.split("&"),Yt=0;Yt<dt.length;Yt++){var nt=dt[Yt].split("=");if(1<nt.length){var sn=nt[0];nt=nt[1];var zt=sn.split("_");ve=2<=zt.length&&zt[1]=="type"?ve+(sn+"="+nt+"&"):ve+(sn+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+q+") [attempt "+ee+"]: "+_+`
`+P+`
`+ve})}function zs(d,_,P,q,ee,se,ve){d.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ee+"]: "+_+`
`+P+`
`+se+" "+ve})}function qr(d,_,P,q){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+xg(d,P)+(q?" "+q:"")})}function Ul(d,_){d.info(function(){return"TIMEOUT: "+_})}Da.prototype.info=function(){};function xg(d,_){if(!d.g)return _;if(!_)return null;try{var P=JSON.parse(_);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var q=P[d];if(!(2>q.length)){var ee=q[1];if(Array.isArray(ee)&&!(1>ee.length)){var se=ee[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<ee.length;ve++)ee[ve]=""}}}}return jl(P)}catch{return _}}var Hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ch={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function La(){}A(La,Na),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Br=new La;function zr(d,_,P,q){this.j=d,this.i=_,this.l=P,this.R=q||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fh}function fh(){this.i=null,this.g="",this.h=!1}var Fl={},Ws={};function Gs(d,_,P){d.L=1,d.v=jo(sr(_)),d.m=P,d.P=!0,ql(d,null)}function ql(d,_){d.F=Date.now(),xt(d),d.A=sr(d.v);var P=d.A,q=d.R;Array.isArray(q)||(q=[String(q)]),Mo(P.i,"t",q),d.C=0,P=d.j.J,d.h=new fh,d.g=Oh(d.j,P?_:null,!d.m),0<d.O&&(d.M=new Ra(y(d.Y,d,d.g),d.O)),_=d.U,P=d.g,q=d.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(kl[0]=ee.toString()),ee=kl);for(var se=0;se<ee.length;se++){var ve=Be(P,ee[se],q||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=d.H?O(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ui(),Ma(d.i,d.u,d.A,d.l,d.R,d.m)}zr.prototype.ca=function(d){d=d.target;const _=this.M;_&&zn(d)==3?_.j():this.Y(d)},zr.prototype.Y=function(d){try{if(d==this.g)e:{const zt=zn(this.g);var _=this.g.Ba();const xr=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Kl(this.g)))){this.J||zt!=4||_==7||(_==8||0>=xr?Ui(3):Ui(2)),$a(this);var P=this.g.Z();this.X=P;t:if(hh(this)){var q=Kl(this.g);d="";var ee=q.length,se=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),Co(this);var ve="";break t}this.h.i=new l.TextDecoder}for(_=0;_<ee;_++)this.h.h=!0,d+=this.h.i.decode(q[_],{stream:!(se&&_==ee-1)});q.length=0,this.h.g+=d,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=P==200,zs(this.i,this.u,this.A,this.l,this.R,zt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Yt=this.g;if((dt=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(dt)){var nt=dt;break t}}nt=null}if(P=nt)qr(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bl(this,P);else{this.o=!1,this.s=3,Ft(12),wr(this),Co(this);break e}}if(this.P){P=!0;let lr;for(;!this.J&&this.C<ve.length;)if(lr=Eg(this,ve),lr==Ws){zt==4&&(this.s=4,Ft(14),P=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==Fl){this.s=4,Ft(15),qr(this.i,this.l,ve,"[Invalid Chunk]"),P=!1;break}else qr(this.i,this.l,lr,null),Bl(this,lr);if(hh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||ve.length!=0||this.h.h||(this.s=1,Ft(16),P=!1),this.o=this.o&&P,!P)qr(this.i,this.l,ve,"[Invalid Chunked Response]"),wr(this),Co(this);else if(0<ve.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ql(sn),sn.M=!0,Ft(11))}}else qr(this.i,this.l,ve,null),Bl(this,ve);zt==4&&wr(this),this.o&&!this.J&&(zt==4?iu(this.j,this):(this.o=!1,xt(this)))}else Zs(this.g),P==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),wr(this),Co(this)}}}catch{}finally{}};function hh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Eg(d,_){var P=d.C,q=_.indexOf(`
`,P);return q==-1?Ws:(P=Number(_.substring(P,q)),isNaN(P)?Fl:(q+=1,q+P>_.length?Ws:(_=_.slice(q,q+P),d.C=q+P,_)))}zr.prototype.cancel=function(){this.J=!0,wr(this)};function xt(d){d.S=Date.now()+d.I,dh(d,d.I)}function dh(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Fr(y(d.ba,d),_)}function $a(d){d.B&&(l.clearTimeout(d.B),d.B=null)}zr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ul(this.i,this.A),this.L!=2&&(Ui(),Ft(17)),wr(this),this.s=2,Co(this)):dh(this,this.S-d)};function Co(d){d.j.G==0||d.J||iu(d.j,d)}function wr(d){$a(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Nl(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Bl(d,_){try{var P=d.j;if(P.G!=0&&(P.g==d||kn(P.h,d))){if(!d.K&&kn(P.h,d)&&P.G==3){try{var q=P.Da.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ee=q;if(ee[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)ru(P),Xr(P);else break e;nu(P),Ft(18)}}else P.za=ee[1],0<P.za-P.T&&37500>ee[2]&&P.F&&P.v==0&&!P.C&&(P.C=Fr(y(P.Za,P),6e3));if(1>=mh(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Hi(P,11)}else if((d.K||P.g==d)&&ru(P),!$(_))for(ee=P.Da.g.parse(_),_=0;_<ee.length;_++){let nt=ee[_];if(P.T=nt[0],nt=nt[1],P.G==2)if(nt[0]=="c"){P.K=nt[1],P.ia=nt[2];const sn=nt[3];sn!=null&&(P.la=sn,P.j.info("VER="+P.la));const zt=nt[4];zt!=null&&(P.Aa=zt,P.j.info("SVER="+P.Aa));const xr=nt[5];xr!=null&&typeof xr=="number"&&0<xr&&(q=1.5*xr,P.L=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const lr=d.g;if(lr){const Ha=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var se=q.h;se.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(zl(se,se.h),se.h=null))}if(q.D){const au=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(q.ya=au,yt(q.I,q.D,au))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),q=P;var ve=d;if(q.qa=Ph(q,q.J?q.ia:null,q.W),ve.K){gh(q.h,ve);var dt=ve,Yt=q.L;Yt&&(dt.I=Yt),dt.B&&($a(dt),xt(dt)),q.g=ve}else za(q);0<P.i.length&&gi(P)}else nt[0]!="stop"&&nt[0]!="close"||Hi(P,7);else P.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Hi(P,7):gn(P):nt[0]!="noop"&&P.l&&P.l.ta(nt),P.v=0)}}Ui(4)}catch{}}var ph=class{constructor(d,_){this.g=d,this.map=_}};function Va(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ar(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function mh(d){return d.h?1:d.g?d.g.size:0}function kn(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function zl(d,_){d.g?d.g.add(_):d.h=_}function gh(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Va.prototype.cancel=function(){if(this.i=yh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yh(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const P of d.g.values())_=_.concat(P.D);return _}return T(d.i)}function Ks(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var _=[],P=d.length,q=0;q<P;q++)_.push(d[q]);return _}_=[],P=0;for(q in d)_[P++]=d[q];return _}function Xs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var _=[];d=d.length;for(var P=0;P<d;P++)_.push(P);return _}_=[],P=0;for(const q in d)_[P++]=q;return _}}}function Ro(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var P=Xs(d),q=Ks(d),ee=q.length,se=0;se<ee;se++)_.call(void 0,q[se],P&&P[se],d)}var Ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tg(d,_){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var q=d[P].indexOf("="),ee=null;if(0<=q){var se=d[P].substring(0,q);ee=d[P].substring(q+1)}else se=d[P];_(se,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Fi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Fi){this.h=d.h,Fa(this,d.j),this.o=d.o,this.g=d.g,ko(this,d.s),this.l=d.l;var _=d.i,P=new di;P.i=_.i,_.g&&(P.g=new Map(_.g),P.h=_.h),No(this,P),this.m=d.m}else d&&(_=String(d).match(Ua))?(this.h=!1,Fa(this,_[1]||"",!0),this.o=tt(_[2]||""),this.g=tt(_[3]||"",!0),ko(this,_[4]),this.l=tt(_[5]||"",!0),No(this,_[6]||"",!0),this.m=tt(_[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Fi.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Do(_,Qs,!0),":");var P=this.g;return(P||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Do(_,Qs,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(Do(P,P.charAt(0)=="/"?wh:_h,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",Do(P,Hl)),d.join("")};function sr(d){return new Fi(d)}function Fa(d,_,P){d.j=P?tt(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ko(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function No(d,_,P){_ instanceof di?(d.i=_,pi(d.i,d.h)):(P||(_=Do(_,bh)),d.i=new di(_,d.h))}function yt(d,_,P){d.i.set(_,P)}function jo(d){return yt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function tt(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Do(d,_,P){return typeof d=="string"?(d=encodeURI(d).replace(_,vh),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qs=/[#\/\?@]/g,_h=/[#\?:]/g,wh=/[#\?]/g,bh=/[#\?@]/g,Hl=/#/g;function di(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function mn(d){d.g||(d.g=new Map,d.h=0,d.i&&Tg(d.i,function(_,P){d.add(decodeURIComponent(_.replace(/\+/g," ")),P)}))}t=di.prototype,t.add=function(d,_){mn(this),this.i=null,d=br(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(_),this.h+=1,this};function Hr(d,_){mn(d),_=br(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Wr(d,_){return mn(d),_=br(d,_),d.g.has(_)}t.forEach=function(d,_){mn(this),this.g.forEach(function(P,q){P.forEach(function(ee){d.call(_,ee,q,this)},this)},this)},t.na=function(){mn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),P=[];for(let q=0;q<_.length;q++){const ee=d[q];for(let se=0;se<ee.length;se++)P.push(_[q])}return P},t.V=function(d){mn(this);let _=[];if(typeof d=="string")Wr(this,d)&&(_=_.concat(this.g.get(br(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)_=_.concat(d[P])}return _},t.set=function(d,_){return mn(this),this.i=null,d=br(this,d),Wr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Mo(d,_,P){Hr(d,_),0<P.length&&(d.i=null,d.g.set(br(d,_),T(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var P=0;P<_.length;P++){var q=_[P];const se=encodeURIComponent(String(q)),ve=this.V(q);for(q=0;q<ve.length;q++){var ee=se;ve[q]!==""&&(ee+="="+encodeURIComponent(String(ve[q]))),d.push(ee)}}return this.i=d.join("&")};function br(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function pi(d,_){_&&!d.j&&(mn(d),d.i=null,d.g.forEach(function(P,q){var ee=q.toLowerCase();q!=ee&&(Hr(this,q),Mo(this,ee,P))},d)),d.j=_}function Sg(d,_){const P=new Da;if(l.Image){const q=new Image;q.onload=w(Bn,P,"TestLoadImage: loaded",!0,_,q),q.onerror=w(Bn,P,"TestLoadImage: error",!1,_,q),q.onabort=w(Bn,P,"TestLoadImage: abort",!1,_,q),q.ontimeout=w(Bn,P,"TestLoadImage: timeout",!1,_,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=d}else _(!1)}function xh(d,_){const P=new Da,q=new AbortController,ee=setTimeout(()=>{q.abort(),Bn(P,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:q.signal}).then(se=>{clearTimeout(ee),se.ok?Bn(P,"TestPingServer: ok",!0,_):Bn(P,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ee),Bn(P,"TestPingServer: error",!1,_)})}function Bn(d,_,P,q,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),q(P)}catch{}}function Ag(){this.g=new Ml}function Eh(d,_,P){const q=P||"";try{Ro(d,function(ee,se){let ve=ee;h(ee)&&(ve=jl(ee)),_.push(q+se+"="+encodeURIComponent(ve))})}catch(ee){throw _.push(q+"type="+encodeURIComponent("_badmap")),ee}}function qi(d){this.l=d.Ub||null,this.j=d.eb||!1}A(qi,Na),qi.prototype.g=function(){return new qa(this.l,this.j)},qi.prototype.i=function(d){return function(){return d}}({});function qa(d,_){Xt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(qa,Xt),t=qa.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Kr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Th(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Th(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Gr(this):Kr(this),this.readyState==3&&Th(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Gr(this))},t.Qa=function(d){this.g&&(this.response=d,Gr(this))},t.ga=function(){this.g&&Gr(this)};function Gr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Kr(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var P=_.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=_.next();return d.join(`\r
`)};function Kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bi(d){let _="";return C(d,function(P,q){_+=q,_+=":",_+=P,_+=`\r
`}),_}function Lo(d,_,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=Bi(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):yt(d,_,P))}function Ot(d){Xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ot,Xt);var Ig=/^https?$/i,Wl=["POST","PUT"];t=Ot.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?Us(this.o):Us(Br),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(se){Ba(this,se);return}if(d=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ee in q)P.set(ee,q[ee]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const se of q.keys())P.set(se,q.get(se));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(se=>se.toLowerCase()=="content-type"),ee=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Wl,_,void 0))||q||ee||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of P)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(d),this.u=!1}catch(se){Ba(this,se)}};function Ba(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ys(d),ur(d)}function Ys(d){d.A||(d.A=!0,Qt(d,"complete"),Qt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Qt(this,"complete"),Qt(this,"abort"),ur(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gl(this):this.bb())},t.bb=function(){Gl(this)};function Gl(d){if(d.h&&typeof s<"u"&&(!d.v[1]||zn(d)!=4||d.Z()!=2)){if(d.u&&zn(d)==4)Rl(d.Ea,0,d);else if(Qt(d,"readystatechange"),zn(d)==4){d.h=!1;try{const ve=d.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var P;if(!(P=_)){var q;if(q=ve===0){var ee=String(d.D).match(Ua)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),q=!Ig.test(ee?ee.toLowerCase():"")}P=q}if(P)Qt(d,"complete"),Qt(d,"success");else{d.m=6;try{var se=2<zn(d)?d.g.statusText:""}catch{se=""}d.l=se+" ["+d.Z()+"]",Ys(d)}}finally{ur(d)}}}}function ur(d,_){if(d.g){Js(d);const P=d.g,q=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Qt(d,"ready");try{P.onreadystatechange=q}catch{}}}function Js(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function zn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Dl(_)}};function Kl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(d){const _={};d=(d.g&&2<=zn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<d.length;q++){if($(d[q]))continue;var P=R(d[q]);const ee=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const se=_[ee]||[];_[ee]=se,se.push(P)}I(_,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(d,_,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||_}function Xl(d){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,d),this.cb=mi("retryDelaySeedMs",1e4,d),this.Wa=mi("forwardChannelMaxRetries",2,d),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Va(d&&d.concurrentRequestLimit),this.Da=new Ag,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xl.prototype,t.la=8,t.G=1,t.connect=function(d,_,P,q){Ft(0),this.W=d,this.H=_||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.I=Ph(this,null,this.W),gi(this)};function gn(d){if(eu(d),d.G==3){var _=d.U++,P=sr(d.I);if(yt(P,"SID",d.K),yt(P,"RID",_),yt(P,"TYPE","terminate"),zi(d,P),_=new zr(d,d.j,_),_.L=2,_.v=jo(sr(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!P&&l.Image&&(new Image().src=_.v,P=!0),P||(_.g=Oh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),xt(_)}Ih(d)}function Xr(d){d.g&&(Ql(d),d.g.cancel(),d.g=null)}function eu(d){Xr(d),d.u&&(l.clearTimeout(d.u),d.u=null),ru(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function gi(d){if(!ar(d.h)&&!d.s){d.s=!0;var _=d.Ga;J||Z(),B||(J(),B=!0),K.add(_,d),d.B=0}}function Pg(d,_){return mh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Fr(y(d.Ga,d,_),Ah(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ee=new zr(this,this.j,d);let se=this.o;if(this.S&&(se?(se=O(se),N(se,this.S)):se=this.S),this.m!==null||this.O||(ee.H=se,se=null),this.P)e:{for(var _=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,4096<_){_=P;break e}if(_===4096||P===this.i.length-1){_=P+1;break e}}_=1e3}else _=1e3;_=$o(this,ee,_),P=sr(this.I),yt(P,"RID",d),yt(P,"CVER",22),this.D&&yt(P,"X-HTTP-Session-Id",this.D),zi(this,P),se&&(this.O?_="headers="+encodeURIComponent(String(Bi(se)))+"&"+_:this.m&&Lo(P,this.m,se)),zl(this.h,ee),this.Ua&&yt(P,"TYPE","init"),this.P?(yt(P,"$req",_),yt(P,"SID","null"),ee.T=!0,Gs(ee,P,null)):Gs(ee,P,_),this.G=2}}else this.G==3&&(d?tu(this,d):this.i.length==0||ar(this.h)||tu(this))};function tu(d,_){var P;_?P=_.l:P=d.U++;const q=sr(d.I);yt(q,"SID",d.K),yt(q,"RID",P),yt(q,"AID",d.T),zi(d,q),d.m&&d.o&&Lo(q,d.m,d.o),P=new zr(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),_&&(d.i=_.D.concat(d.i)),_=$o(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zl(d.h,P),Gs(P,q,_)}function zi(d,_){d.H&&C(d.H,function(P,q){yt(_,q,P)}),d.l&&Ro({},function(P,q){yt(_,q,P)})}function $o(d,_,P){P=Math.min(d.i.length,P);var q=d.l?y(d.l.Na,d.l,d):null;e:{var ee=d.i;let se=-1;for(;;){const ve=["count="+P];se==-1?0<P?(se=ee[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let dt=!0;for(let Yt=0;Yt<P;Yt++){let nt=ee[Yt].g;const sn=ee[Yt].map;if(nt-=se,0>nt)se=Math.max(0,ee[Yt].g-100),dt=!1;else try{Eh(sn,ve,"req"+nt+"_")}catch{q&&q(sn)}}if(dt){q=ve.join("&");break e}}}return d=d.i.splice(0,P),_.D=d,q}function za(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;J||Z(),B||(J(),B=!0),K.add(_,d),d.v=0}}function nu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Fr(y(d.Fa,d),Ah(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Fr(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Xr(this),Sh(this))};function Ql(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function Sh(d){d.g=new zr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=sr(d.qa);yt(_,"RID","rpc"),yt(_,"SID",d.K),yt(_,"AID",d.T),yt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&yt(_,"TO",d.ja),yt(_,"TYPE","xmlhttp"),zi(d,_),d.m&&d.o&&Lo(_,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=jo(sr(_)),P.m=null,P.P=!0,ql(P,d)}t.Za=function(){this.C!=null&&(this.C=null,Xr(this),nu(this),Ft(19))};function ru(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function iu(d,_){var P=null;if(d.g==_){ru(d),Ql(d),d.g=null;var q=2}else if(kn(d.h,_))P=_.D,gh(d.h,_),q=1;else return;if(d.G!=0){if(_.o)if(q==1){P=_.m?_.m.length:0,_=Date.now()-_.F;var ee=d.B;q=ja(),Qt(q,new Bs(q,P)),gi(d)}else za(d);else if(ee=_.s,ee==3||ee==0&&0<_.X||!(q==1&&Pg(d,_)||q==2&&nu(d)))switch(P&&0<P.length&&(_=d.h,_.i=_.i.concat(P)),ee){case 1:Hi(d,5);break;case 4:Hi(d,10);break;case 3:Hi(d,6);break;default:Hi(d,2)}}}function Ah(d,_){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*_}function Hi(d,_){if(d.j.info("Error code "+_),_==2){var P=y(d.fb,d),q=d.Xa;const ee=!q;q=new Fi(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fa(q,"https"),jo(q),ee?Sg(q.toString(),P):xh(q.toString(),P)}else Ft(2);d.G=0,d.l&&d.l.sa(_),Ih(d),eu(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Ih(d){if(d.G=0,d.ka=[],d.l){const _=yh(d.h);(_.length!=0||d.i.length!=0)&&(x(d.ka,_),x(d.ka,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.ra()}}function Ph(d,_,P){var q=P instanceof Fi?sr(P):new Fi(P);if(q.g!="")_&&(q.g=_+"."+q.g),ko(q,q.s);else{var ee=l.location;q=ee.protocol,_=_?_+"."+ee.hostname:ee.hostname,ee=+ee.port;var se=new Fi(null);q&&Fa(se,q),_&&(se.g=_),ee&&ko(se,ee),P&&(se.l=P),q=se}return P=d.D,_=d.ya,P&&_&&yt(q,P,_),yt(q,"VER",d.la),zi(d,q),q}function Oh(d,_,P){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Ot(new qi({eb:P})):new Ot(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yl(){}t=Yl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ou(){}ou.prototype.g=function(d,_){return new Nn(d,_)};function Nn(d,_){Xt.call(this),this.g=new Xl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!$(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!$(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new yi(this)}A(Nn,Xt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){gn(this.g)},Nn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=jl(d),d=P);_.i.push(new ph(_.Ya++,d)),_.G==3&&gi(_)},Nn.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,Nn.aa.N.call(this)};function Ch(d){fi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const P in _){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(Ch,fi);function Rh(){qs.call(this),this.status=1}A(Rh,qs);function yi(d){this.g=d}A(yi,Yl),yi.prototype.ua=function(){Qt(this.g,"a")},yi.prototype.ta=function(d){Qt(this.g,new Ch(d))},yi.prototype.sa=function(d){Qt(this.g,new Rh)},yi.prototype.ra=function(){Qt(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Pj=function(){return new ou},Ij=function(){return ja()},Aj=hi,xb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Jd=Hs,ch.COMPLETE="complete",Sj=ch,Fs.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,Nc=Fs,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Tj=Ot}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});const VA="@firebase/firestore",UA="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new ym("@firebase/firestore");function Ou(){return xs.logLevel}function Ee(t,...e){if(xs.logLevel<=Ze.DEBUG){const n=e.map(lE);xs.debug(`Firestore (${_l}): ${t}`,...n)}}function yo(t,...e){if(xs.logLevel<=Ze.ERROR){const n=e.map(lE);xs.error(`Firestore (${_l}): ${t}`,...n)}}function zu(t,...e){if(xs.logLevel<=Ze.WARN){const n=e.map(lE);xs.warn(`Firestore (${_l}): ${t}`,...n)}}function lE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+t;throw yo(e),new Error(e)}function ht(t,e){t||Ue()}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class j3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class D3{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new Oj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new Pn(e)}}class M3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class L3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new M3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $3{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0);const r=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new FA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string"),this.R=n.token,new FA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=V3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Eb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Xe(r,i);{const o=Cj(),s=U3(o.encode(qA(t,n)),o.encode(qA(e,n)));return s!==0?s:Xe(r,i)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function qA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function U3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function Hu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=-62135596800,zA=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zA);return new nn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BA)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zA}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-BA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new nn(0,0))}static max(){return new ze(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="__name__";class xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(),r===void 0?r=e.length-n:r>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=xi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const r=xi.isNumericId(e),i=xi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Eb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ca.fromString(e.substring(4,e.length-2))}}class Pt extends xi{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const F3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends xi{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return F3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HA}static keyField(){return new bn([HA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Se(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new Se(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Pt.fromString(e))}static fromName(e){return new De(Pt.fromString(e).popFirst(5))}static empty(){return new De(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=-1;function q3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new pa(i,De.empty(),e)}function B3(t){return new pa(t.readTime,t.key,ef)}class pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pa(ze.min(),De.empty(),ef)}static max(){return new pa(ze.max(),De.empty(),ef)}}function z3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==H3)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const h=c;n(e[h]).next(p=>{s[h]=p,++l,l===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new ce((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function G3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_m.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=-1;function wm(t){return t==null}function cp(t){return t===0&&1/t==-1/0}function K3(t){return typeof t=="number"&&Number.isInteger(t)&&!cp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="";function X3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WA(e)),e=Q3(t.get(n),e);return WA(e)}function Q3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case kj:n+="";break;default:n+=o}}return n}function WA(t){return t+kj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KA(this.data.getIterator())}getIteratorFrom(e){return new KA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class KA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new rn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jj("Invalid base64 string: "+o):o}}(e);return new xn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const Y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(t){if(ht(!!t),typeof t=="string"){let e=0;const n=Y3.exec(t);if(ht(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="server_timestamp",Mj="__type__",Lj="__previous_value__",$j="__local_write_time__";function fE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mj])===null||n===void 0?void 0:n.stringValue)===Dj}function bm(t){const e=t.mapValue.fields[Lj];return fE(e)?bm(e):e}function tf(t){const e=ma(t.mapValue.fields[$j].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i,o,s,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}const fp="(default)";class nf{constructor(e,n){this.projectId=e,this.database=n||fp}static empty(){return new nf("","")}get isDefaultDatabase(){return this.database===fp}isEqual(e){return e instanceof nf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="__type__",Z3="__max__",Rd={mapValue:{}},Uj="__vector__",hp="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fE(t)?4:tq(t)?9007199254740991:eq(t)?10:11:Ue()}function Ni(t,e){if(t===e)return!0;const n=ya(t);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tf(t).isEqual(tf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ma(i.timestampValue),l=ma(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ga(i.bytesValue).isEqual(ga(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Bt(i.doubleValue),l=Bt(o.doubleValue);return s===l?cp(s)===cp(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Hu(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(GA(s)!==GA(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ni(s[c],l[c])))return!1;return!0}(t,e);default:return Ue()}}function rf(t,e){return(t.values||[]).find(n=>Ni(n,e))!==void 0}function Wu(t,e){if(t===e)return 0;const n=ya(t),r=ya(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Bt(o.integerValue||o.doubleValue),c=Bt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return XA(t.timestampValue,e.timestampValue);case 4:return XA(tf(t),tf(e));case 5:return Eb(t.stringValue,e.stringValue);case 6:return function(o,s){const l=ga(o),c=ga(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let h=0;h<l.length&&h<c.length;h++){const p=Xe(l[h],c[h]);if(p!==0)return p}return Xe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Xe(Bt(o.latitude),Bt(s.latitude));return l!==0?l:Xe(Bt(o.longitude),Bt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,h,p;const g=o.fields||{},y=s.fields||{},w=(l=g[hp])===null||l===void 0?void 0:l.arrayValue,A=(c=y[hp])===null||c===void 0?void 0:c.arrayValue,T=Xe(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return T!==0?T:QA(w,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Rd.mapValue&&s===Rd.mapValue)return 0;if(o===Rd.mapValue)return 1;if(s===Rd.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const y=Eb(c[g],p[g]);if(y!==0)return y;const w=Wu(l[c[g]],h[p[g]]);if(w!==0)return w}return Xe(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function XA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=ma(t),r=ma(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function QA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Wu(n[i],r[i]);if(o)return o}return Xe(n.length,r.length)}function Gu(t){return Tb(t)}function Tb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ma(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ga(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Tb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Tb(n.fields[s])}`;return i+"}"}(t.mapValue):Ue()}function Zd(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(t);return e?16+Zd(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Zd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ea(r.fields,(o,s)=>{i+=o.length+Zd(s)}),i}(t.mapValue);default:throw Ue()}}function YA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sb(t){return!!t&&"integerValue"in t}function hE(t){return!!t&&"arrayValue"in t}function JA(t){return!!t&&"nullValue"in t}function ZA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ep(t){return!!t&&"mapValue"in t}function eq(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vj])===null||n===void 0?void 0:n.stringValue)===Uj}function Fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Z3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Fc(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ea(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Jn(Fc(this.value))}}function Fj(t){const e=[];return Ea(t.fields,(n,r)=>{const i=new bn([n]);if(ep(r)){const o=Fj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new On(e,0,ze.min(),ze.min(),ze.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,i){return new On(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new On(e,2,n,ze.min(),ze.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,ze.min(),ze.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.position=e,this.inclusive=n}}function eI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=De.comparator(De.fromName(s.referenceValue),n.key):r=Wu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n="asc"){this.field=e,this.dir=n}}function nq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{}class Gt extends qj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iq(e,n,r):n==="array-contains"?new sq(e,r):n==="in"?new uq(e,r):n==="not-in"?new lq(e,r):n==="array-contains-any"?new cq(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oq(e,r):new aq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wu(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Wu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends qj{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new si(e,n)}matches(e){return Bj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Bj(t){return t.op==="and"}function zj(t){return rq(t)&&Bj(t)}function rq(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function Ab(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+Gu(t.value);if(zj(t))return t.filters.map(e=>Ab(e)).join(",");{const e=t.filters.map(n=>Ab(n)).join(",");return`${t.op}(${e})`}}function Hj(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&Ni(r.value,i.value)}(t,e):t instanceof si?function(r,i){return i instanceof si&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&Hj(s,i.filters[l]),!0):!1}(t,e):void Ue()}function Wj(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gu(n.value)}`}(t):t instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(Wj).join(" ,")+"}"}(t):"Filter"}class iq extends Gt{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class oq extends Gt{constructor(e,n){super(e,"in",n),this.keys=Gj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aq extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=Gj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Gj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class sq extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hE(n)&&rf(n.arrayValue,this.value)}}class uq extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rf(this.value.arrayValue,n)}}class lq extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rf(this.value.arrayValue,n)}}class cq extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.le=null}}function nI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new fq(t,e,n,r,i,o,s)}function dE(t){const e=We(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ab(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gu(r)).join(",")),e.le=n}return e.le}function pE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tI(t.startAt,e.startAt)&&tI(t.endAt,e.endAt)}function Ib(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hq(t,e,n,r,i,o,s,l){return new Bf(t,e,n,r,i,o,s,l)}function mE(t){return new Bf(t)}function rI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kj(t){return t.collectionGroup!==null}function qc(t){const e=We(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new rn(bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new pp(o,r))}),n.has(bn.keyField().canonicalString())||e.he.push(new pp(bn.keyField(),r))}return e.he}function Ai(t){const e=We(t);return e.Pe||(e.Pe=dq(e,qc(t))),e.Pe}function dq(t,e){if(t.limitType==="F")return nI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new pp(i.field,o)});const n=t.endAt?new dp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dp(t.startAt.position,t.startAt.inclusive):null;return nI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pb(t,e){const n=t.filters.concat([e]);return new Bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ob(t,e,n){return new Bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xm(t,e){return pE(Ai(t),Ai(e))&&t.limitType===e.limitType}function Xj(t){return`${dE(Ai(t))}|lt:${t.limitType}`}function Cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Wj(i)).join(", ")}]`),wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gu(i)).join(",")),`Target(${r})`}(Ai(t))}; limitType=${t.limitType})`}function Em(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of qc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,c){const h=eI(s,l,c);return s.inclusive?h<=0:h<0}(r.startAt,qc(r),i)||r.endAt&&!function(s,l,c){const h=eI(s,l,c);return s.inclusive?h>=0:h>0}(r.endAt,qc(r),i))}(t,e)}function pq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Qj(t){return(e,n)=>{let r=!1;for(const i of qc(t)){const o=mq(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mq(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(o,s,l){const c=s.data.field(o),h=l.data.field(o);return c!==null&&h!==null?Wu(c,h):Ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Nj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=new jt(De.comparator);function vo(){return gq}const Yj=new jt(De.comparator);function jc(...t){let e=Yj;for(const n of t)e=e.insert(n.key,n);return e}function Jj(t){let e=Yj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return Bc()}function Zj(){return Bc()}function Bc(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const yq=new jt(De.comparator),vq=new rn(De.comparator);function et(...t){let e=vq;for(const n of t)e=e.add(n);return e}const _q=new rn(Xe);function wq(){return _q}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cp(e)?"-0":e}}function eD(t){return{integerValue:""+t}}function bq(t,e){return K3(e)?eD(e):gE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this._=void 0}}function xq(t,e,n){return t instanceof mp?function(i,o){const s={fields:{[Mj]:{stringValue:Dj},[$j]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fE(o)&&(o=bm(o)),o&&(s.fields[Lj]=o),{mapValue:s}}(n,e):t instanceof of?nD(t,e):t instanceof af?rD(t,e):function(i,o){const s=tD(i,o),l=iI(s)+iI(i.Ie);return Sb(s)&&Sb(i.Ie)?eD(l):gE(i.serializer,l)}(t,e)}function Eq(t,e,n){return t instanceof of?nD(t,e):t instanceof af?rD(t,e):n}function tD(t,e){return t instanceof gp?function(r){return Sb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class mp extends Tm{}class of extends Tm{constructor(e){super(),this.elements=e}}function nD(t,e){const n=iD(e);for(const r of t.elements)n.some(i=>Ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class af extends Tm{constructor(e){super(),this.elements=e}}function rD(t,e){let n=iD(e);for(const r of t.elements)n=n.filter(i=>!Ni(i,r));return{arrayValue:{values:n}}}class gp extends Tm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function iI(t){return Bt(t.integerValue||t.doubleValue)}function iD(t){return hE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Tq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof of&&i instanceof of||r instanceof af&&i instanceof af?Hu(r.elements,i.elements,Ni):r instanceof gp&&i instanceof gp?Ni(r.Ie,i.Ie):r instanceof mp&&i instanceof mp}(t.transform,e.transform)}class Sq{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sm{}function oD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yE(t.key,Dr.none()):new zf(t.key,t.data,Dr.none());{const n=t.data,r=Jn.empty();let i=new rn(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ta(t.key,r,new gr(i.toArray()),Dr.none())}}function Aq(t,e,n){t instanceof zf?function(i,o,s){const l=i.value.clone(),c=aI(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ta?function(i,o,s){if(!tp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=aI(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(aD(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function zc(t,e,n,r){return t instanceof zf?function(o,s,l,c){if(!tp(o.precondition,s))return l;const h=o.value.clone(),p=sI(o.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ta?function(o,s,l,c){if(!tp(o.precondition,s))return l;const h=sI(o.fieldTransforms,c,s),p=s.data;return p.setAll(aD(o)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,l){return tp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function Iq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tD(r.transform,i||null);o!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,o))}return n||null}function oI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hu(r,i,(o,s)=>Tq(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zf extends Sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ta extends Sm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aI(t,e,n){const r=new Map;ht(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,Eq(s,l,n[i]))}return r}function sI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,xq(o,s,e))}return r}class yE extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pq extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Aq(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Zj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const c=oD(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&Hu(this.mutations,e.mutations,(n,r)=>oI(n,r))&&Hu(this.baseMutations,e.baseMutations,(n,r)=>oI(n,r))}}class vE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length);let i=function(){return yq}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new vE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,rt;function kq(t){switch(t){case fe.OK:return Ue();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Ue()}}function sD(t){if(t===void 0)return yo("GRPC error has no .code"),fe.UNKNOWN;switch(t){case Wt.OK:return fe.OK;case Wt.CANCELLED:return fe.CANCELLED;case Wt.UNKNOWN:return fe.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return fe.INTERNAL;case Wt.UNAVAILABLE:return fe.UNAVAILABLE;case Wt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Wt.NOT_FOUND:return fe.NOT_FOUND;case Wt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Wt.ABORTED:return fe.ABORTED;case Wt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Wt.DATA_LOSS:return fe.DATA_LOSS;default:return Ue()}}(rt=Wt||(Wt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=new ca([4294967295,4294967295],0);function uI(t){const e=Cj().encode(t),n=new Ej;return n.update(e),new Uint8Array(n.digest())}function lI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ca([n,r],0),new ca([i,o],0)]}class _E{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(r<0)throw new Dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ca.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(ca.fromNumber(r)));return i.compare(Nq)===1&&(i=new ca([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=uI(e),[r,i]=lI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new _E(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ee===0)return;const n=uI(e),[r,i]=lI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Am(ze.min(),i,new jt(Xe),vo(),et())}}class Hf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hf(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class uD{constructor(e,n){this.targetId=e,this.ge=n}}class lD{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cI{constructor(){this.pe=0,this.ye=fI(),this.we=xn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=et(),n=et(),r=et();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new Hf(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=fI()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jq{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vo(),this.$e=kd(),this.Ue=kd(),this.Ke=new jt(Xe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(Ib(o))if(r===0){const s=new De(o.path);this.ze(n,s,On.newNoDocument(s,ze.min()))}else ht(r===1);else{const s=this.et(n);if(s!==r){const l=this.tt(e),c=l?this.nt(l,e,s):1;if(c!==0){this.Ye(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=ga(r).toUint8Array()}catch(c){if(c instanceof jj)return zu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new _E(s,i,o)}catch(c){return zu(c instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const l=this.Xe(s);if(l){if(o.current&&Ib(l.target)){const c=new De(l.target.path);this._t(c).has(s)||this.ut(s,c)||this.ze(s,c,On.newNoDocument(c,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=et();this.Ue.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new Am(e,n,this.Ke,this.Qe,r);return this.Qe=vo(),this.$e=kd(),this.Ue=kd(),this.Ke=new jt(Xe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new cI,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new rn(Xe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new rn(Xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cI),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function kd(){return new jt(De.comparator)}function fI(){return new jt(De.comparator)}const Dq={asc:"ASCENDING",desc:"DESCENDING"},Mq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lq={and:"AND",or:"OR"};class $q{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cb(t,e){return t.useProto3Json||wm(e)?e:{value:e}}function yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vq(t,e){return yp(t,e.toTimestamp())}function Ii(t){return ht(!!t),ze.fromTimestamp(function(n){const r=ma(n);return new nn(r.seconds,r.nanos)}(t))}function wE(t,e){return Rb(t,e).canonicalString()}function Rb(t,e){const n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fD(t){const e=Pt.fromString(t);return ht(gD(e)),e}function kb(t,e){return wE(t.databaseId,e.path)}function iv(t,e){const n=fD(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(dD(n))}function hD(t,e){return wE(t.databaseId,e)}function Uq(t){const e=fD(t);return e.length===4?Pt.emptyPath():dD(e)}function Nb(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dD(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hI(t,e,n){return{name:kb(t,e),fields:n.value.mapValue.fields}}function Fq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(ht(p===void 0||typeof p=="string"),xn.fromBase64String(p||"")):(ht(p===void 0||p instanceof Buffer||p instanceof Uint8Array),xn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const p=h.code===void 0?fe.UNKNOWN:sD(h.code);return new Se(p,h.message||"")}(s);n=new lD(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=iv(t,r.document.name),o=Ii(r.document.updateTime),s=r.document.createTime?Ii(r.document.createTime):ze.min(),l=new Jn({mapValue:{fields:r.document.fields}}),c=On.newFoundDocument(i,o,s,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new np(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=iv(t,r.document),o=r.readTime?Ii(r.readTime):ze.min(),s=On.newNoDocument(i,o),l=r.removedTargetIds||[];n=new np([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=iv(t,r.document),o=r.removedTargetIds||[];n=new np([],o,i,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Rq(i,o),l=r.targetId;n=new uD(l,s)}}return n}function qq(t,e){let n;if(e instanceof zf)n={update:hI(t,e.key,e.value)};else if(e instanceof yE)n={delete:kb(t,e.key)};else if(e instanceof Ta)n={update:hI(t,e.key,e.data),updateMask:Yq(e.fieldMask)};else{if(!(e instanceof Pq))return Ue();n={verify:kb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof mp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof of)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof af)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gp)return{fieldPath:s.field.canonicalString(),increment:l.Ie};throw Ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Vq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue()}(t,e.precondition)),n}function Bq(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ii(i.updateTime):Ii(o);return s.isEqual(ze.min())&&(s=Ii(o)),new Sq(s,i.transformResults||[])}(n,e))):[]}function zq(t,e){return{documents:[hD(t,e.path)]}}function Hq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hD(t,i);const o=function(h){if(h.length!==0)return mD(si.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Ru(y.field),direction:Kq(y.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Cb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:n,parent:i}}function Wq(t){let e=Uq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(g){const y=pD(g);return y instanceof si&&zj(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(y=>function(A){return new pp(ku(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,wm(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(g){const y=!!g.before,w=g.values||[];return new dp(w,y)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const y=!g.before,w=g.values||[];return new dp(w,y)}(n.endAt)),hq(e,i,s,o,l,"F",c,h)}function Gq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ku(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ku(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ku(n.unaryFilter.field);return Gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ku(n.unaryFilter.field);return Gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(ku(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(r=>pD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(n.compositeFilter.op))}(t):Ue()}function Kq(t){return Dq[t]}function Xq(t){return Mq[t]}function Qq(t){return Lq[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function ku(t){return bn.fromServerFormat(t.fieldPath)}function mD(t){return t instanceof Gt?function(n){if(n.op==="=="){if(ZA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(JA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(JA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:Xq(n.op),value:n.value}}}(t):t instanceof si?function(n){const r=n.getFilters().map(i=>mD(i));return r.length===1?r[0]:{compositeFilter:{op:Qq(n.op),filters:r}}}(t):Ue()}function Yq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r,i,o=ze.min(),s=ze.min(),l=xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.Tt=e}}function Zq(t){const e=Wq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ob(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.Tn=new tB}addToCollectionParentIndex(e,n){return this.Tn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(pa.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class tB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(Pt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yD=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(yD,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ku(0)}static Kn(){return new Ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="LruGarbageCollector",nB=1048576;function mI([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class rB{constructor(e){this.Hn=e,this.buffer=new rn(mI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(pI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?Ee(pI,"Ignoring IndexedDB error during garbage collection: ",n):await wl(n)}await this.er(3e5)})}}class oB{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(_m.ae);const r=new rB(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(dI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dI):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,l,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,l=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Ou()<=Ze.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function aB(t,e){return new oB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zc(r.mutation,i,gr.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=jc();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=vo();const s=Bc(),l=function(){return Bc()}();return n.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ta)?o=o.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),zc(p.mutation,h,p.mutation.getFieldMask(),nn.now())):s.set(h.key,gr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((h,p)=>s.set(h,p)),n.forEach((h,p)=>{var g;return l.set(h,new uB(p,(g=s.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Bc();let i=new jt((s,l)=>s-l),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let p=r.get(c)||gr.empty();p=l.applyToLocalView(h,p),r.set(c,p);const g=(i.get(l.batchId)||et()).add(c);i=i.insert(l.batchId,g)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,p=c.value,g=Zj();p.forEach(y=>{if(!o.has(y)){const w=oD(n.get(y),r.get(y));w!==null&&g.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ce.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return De.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(fs());let l=ef,c=o;return s.next(h=>ce.forEach(h,(p,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),o.get(p)?ce.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,c,h,et())).next(p=>({batchId:l,changes:Jj(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let i=jc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=jc();return this.indexManager.getCollectionParents(e,o).next(l=>ce.forEach(l,c=>{const h=function(g,y){return new Bf(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,On.newInvalidDocument(p)))});let l=jc();return s.forEach((c,h)=>{const p=o.get(c);p!==void 0&&zc(p.mutation,h,gr.empty(),nn.now()),Em(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ce.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:Zq(i.bundledQuery),readTime:Ii(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.overlays=new jt(De.comparator),this.Rr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return ce.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),o=n.length+1,s=new De(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new jt((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=fs(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=fs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return ce.resolve(l)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Cq(n,r));let o=this.Rr.get(n);o===void 0&&(o=et(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.Vr=new rn(fn.mr),this.gr=new rn(fn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new fn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new De(new Pt([])),r=new fn(n,e),i=new fn(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new De(new Pt([])),r=new fn(n,e),i=new fn(n,e+1);let o=et();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new fn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return De.comparator(e.key,n.key)||Xe(e.Cr,n.Cr)}static pr(e,n){return Xe(e.Cr,n.Cr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new rn(fn.mr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Oq(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Mr=this.Mr.add(new fn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?cE:this.Fr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),i=new fn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const l=this.Or(s.Cr);o.push(l)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(Xe);return n.forEach(i=>{const o=new fn(i,0),s=new fn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],l=>{r=r.add(l.Cr)})}),ce.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const s=new fn(new De(o),0);let l=new rn(Xe);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Cr)),!0)},s),ce.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ce.forEach(n.mutations,i=>{const o=new fn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new fn(n,0),i=this.Mr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.kr=e,this.docs=function(){return new jt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=vo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():On.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vo();const s=n.path,l=new De(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||z3(B3(p),r)<=0||(i.has(p.key)||Em(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ue()}qr(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mB(this)}getSize(e){return ce.resolve(this.size)}}class mB extends sB{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.persistence=e,this.Qr=new Ns(n=>dE(n),pE),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new bE,this.targetCount=0,this.Kr=Ku.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ce.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ku(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.zn(n),ce.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new _m(0),this.zr=!1,this.zr=!0,this.jr=new hB,this.referenceDelegate=e(this),this.Hr=new gB(this),this.indexManager=new eB,this.remoteDocumentCache=function(i){return new pB(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Jq(n),this.Yr=new cB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new dB(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new yB(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return ce.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class yB extends W3{constructor(e){super(),this.currentSequenceNumber=e}}class xE{constructor(e){this.persistence=e,this.ti=new bE,this.ni=null}static ri(e){return new xE(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ce.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.ii,r=>{const i=De.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,ze.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ce.or([()=>ce.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vp{constructor(e,n){this.persistence=e,this.oi=new Ns(r=>X3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aB(this,n)}static ri(e,n){return new vp(e,n)}Zr(){}Xr(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ce.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?ce.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(l=>{l||(r++,o.removeEntry(s,ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ce.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zd(e.data.value)),n}ar(e,n,r){return ce.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=et(),i=et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new EE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dF()?8:G3(Rn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new vB;return this._s(e,n,s).next(l=>{if(o.result=l,this.Xi)return this.us(e,n,s,l.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Ou()<=Ze.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ce.resolve()):(Ou()<=Ze.DEBUG&&Ee("QueryEngine","Query:",Cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ou()<=Ze.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):ce.resolve())}rs(e,n){if(rI(n))return ce.resolve(null);let r=Ai(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ob(n,null,"F"),r=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=et(...o);return this.ns.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.cs(n,l);return this.ls(n,h,s,c.readTime)?this.rs(e,Ob(n,null,"F")):this.hs(e,h,n,c)}))})))}ss(e,n,r,i){return rI(n)||i.isEqual(ze.min())?ce.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?ce.resolve(null):(Ou()<=Ze.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cu(n)),this.hs(e,s,n,q3(i,ef)).next(l=>l))})}cs(e,n){let r=new rn(Qj(e));return n.forEach((i,o)=>{Em(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return Ou()<=Ze.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Cu(n)),this.ns.getDocumentsMatchingQuery(e,n,pa.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="LocalStore",wB=3e8;class bB{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new jt(Xe),this.Is=new Ns(o=>dE(o),pE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function xB(t,e,n,r){return new bB(t,e,n,r)}async function _D(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let c=et();for(const h of i){s.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of o){l.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Rs:h,removedBatchIds:s,addedBatchIds:l}))})})}function EB(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,c,h,p){const g=h.batch,y=g.keys();let w=ce.resolve();return y.forEach(A=>{w=w.next(()=>p.getEntry(c,A)).next(T=>{const x=h.docVersions.get(A);ht(x!==null),T.version.compareTo(x)<0&&(g.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),p.addEntry(T)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=et();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wD(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function TB(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const l=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;l.push(n.Hr.removeMatchingKeys(o,p.removedDocuments,g).next(()=>n.Hr.addMatchingKeys(o,p.addedDocuments,g)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(xn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(g,w),function(T,x,D){return T.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=wB?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(y,w,p)&&l.push(n.Hr.updateTargetData(o,w))});let c=vo(),h=et();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),l.push(SB(o,s,e.documentUpdates).next(p=>{c=p.Vs,h=p.fs})),!r.isEqual(ze.min())){const p=n.Hr.getLastRemoteSnapshotVersion(o).next(g=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(p)}return ce.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,h)).next(()=>c)}).then(o=>(n.Ts=i,o))}function SB(t,e,n){let r=et(),i=et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=vo();return n.forEach((l,c)=>{const h=o.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ze.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Ee(TE,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Vs:s,fs:i}})}function AB(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IB(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,ce.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new aa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function jb(t,e,n){const r=We(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!bl(s))throw s;Ee(TE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function gI(t,e,n){const r=We(t);let i=ze.min(),o=et();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,p){const g=We(c),y=g.Is.get(p);return y!==void 0?ce.resolve(g.Ts.get(y)):g.Hr.getTargetData(h,p)}(r,s,Ai(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:ze.min(),n?o:et())).next(l=>(PB(r,pq(e),l),{documents:l,gs:o})))}function PB(t,e,n){let r=t.Es.get(e)||ze.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class yI{constructor(){this.activeTargetIds=wq()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OB{constructor(){this.ho=new yI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="ConnectivityMonitor";class _I{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(vI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(vI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd=null;function Db(){return Nd===null?Nd=function(){return 268435456+Math.round(2147483648*Math.random())}():Nd++,"0x"+Nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="RestConnection",RB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===fp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=Db(),l=this.bo(e,n.toUriEncodedString());Ee(ov,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,o),this.vo(e,l,c,r).then(h=>(Ee(ov,`Received RPC '${e}' ${s}: `,h),h),h=>{throw zu(ov,`RPC '${e}' ${s} failed with error: `,h,"url: ",l,"request:",r),h})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=RB[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class jB extends kB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=Db();return new Promise((s,l)=>{const c=new Tj;c.setWithCredentials(!0),c.listenOnce(Sj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jd.NO_ERROR:const p=c.getResponseJson();Ee(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Jd.TIMEOUT:Ee(In,`RPC '${e}' ${o} timed out`),l(new Se(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Jd.HTTP_ERROR:const g=c.getStatus();if(Ee(In,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const A=function(x){const D=x.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(D)>=0?D:fe.UNKNOWN}(w.status);l(new Se(A,w.message))}else l(new Se(fe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Se(fe.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Ee(In,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Ee(In,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}Wo(e,n,r){const i=Db(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pj(),l=Ij(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=o.join("");Ee(In,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=s.createWebChannel(p,c);let y=!1,w=!1;const A=new NB({Fo:x=>{w?Ee(In,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(Ee(In,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),Ee(In,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},Mo:()=>g.close()}),T=(x,D,$)=>{x.listen(D,U=>{try{$(U)}catch(F){setTimeout(()=>{throw F},0)}})};return T(g,Nc.EventType.OPEN,()=>{w||(Ee(In,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),T(g,Nc.EventType.CLOSE,()=>{w||(w=!0,Ee(In,`RPC '${e}' stream ${i} transport closed`),A.Uo())}),T(g,Nc.EventType.ERROR,x=>{w||(w=!0,zu(In,`RPC '${e}' stream ${i} transport errored:`,x),A.Uo(new Se(fe.UNAVAILABLE,"The operation could not be completed")))}),T(g,Nc.EventType.MESSAGE,x=>{var D;if(!w){const $=x.data[0];ht(!!$);const U=$,F=(U==null?void 0:U.error)||((D=U[0])===null||D===void 0?void 0:D.error);if(F){Ee(In,`RPC '${e}' stream ${i} received error:`,F);const k=F.status;let C=function(S){const N=Wt[S];if(N!==void 0)return sD(N)}(k),I=F.message;C===void 0&&(C=fe.INTERNAL,I="Unknown error status: "+k+" with message "+F.message),w=!0,A.Uo(new Se(C,I)),g.close()}else Ee(In,`RPC '${e}' stream ${i} received:`,$),A.Ko($)}}),T(l,Aj.STAT_EVENT,x=>{x.stat===xb.PROXY?Ee(In,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===xb.NOPROXY&&Ee(In,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){return new $q(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="PersistentStream";class xD{constructor(e,n,r,i,o,s,l,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bD(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(yo(n.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Se(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(wI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ee(wI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DB extends xD{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Fq(this.serializer,e),r=function(o){if(!("targetChange"in o))return ze.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ze.min():s.readTime?Ii(s.readTime):ze.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Nb(this.serializer),n.addTarget=function(o,s){let l;const c=s.target;if(l=Ib(c)?{documents:zq(o,c)}:{query:Hq(o,c).ht},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=cD(o,s.resumeToken);const h=Cb(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(ze.min())>0){l.readTime=yp(o,s.snapshotVersion.toTimestamp());const h=Cb(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=Gq(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Nb(this.serializer),n.removeTarget=e,this.I_(n)}}class MB extends xD{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Bq(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Nb(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qq(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{}class $B extends LB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Rb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(fe.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Co(e,Rb(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(fe.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yo(n),this.N_=!1):Ee("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class UB{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{js(this)&&(Ee(Es,"Restarting streams for network reachability change."),await async function(c){const h=We(c);h.W_.add(4),await Wf(h),h.j_.set("Unknown"),h.W_.delete(4),await Pm(h)}(this))})}),this.j_=new VB(r,i)}}async function Pm(t){if(js(t))for(const e of t.G_)await e(!0)}async function Wf(t){for(const e of t.G_)await e(!1)}function ED(t,e){const n=We(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),PE(n)?IE(n):xl(n).c_()&&AE(n,e))}function SE(t,e){const n=We(t),r=xl(n);n.K_.delete(e),r.c_()&&TD(n,e),n.K_.size===0&&(r.c_()?r.P_():js(n)&&n.j_.set("Unknown"))}function AE(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).y_(e)}function TD(t,e){t.H_.Ne(e),xl(t).w_(e)}function IE(t){t.H_=new jq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.j_.B_()}function PE(t){return js(t)&&!xl(t).u_()&&t.K_.size>0}function js(t){return We(t).W_.size===0}function SD(t){t.H_=void 0}async function FB(t){t.j_.set("Online")}async function qB(t){t.K_.forEach((e,n)=>{AE(t,e)})}async function BB(t,e){SD(t),PE(t)?(t.j_.q_(e),IE(t)):t.j_.set("Unknown")}async function zB(t,e,n){if(t.j_.set("Online"),e instanceof lD&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.K_.delete(l),i.H_.removeTarget(l))}(t,e)}catch(r){Ee(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _p(t,r)}else if(e instanceof np?t.H_.We(e):e instanceof uD?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ze.min()))try{const r=await wD(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.H_.ot(s);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=o.K_.get(h);p&&o.K_.set(h,p.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,h)=>{const p=o.K_.get(c);if(!p)return;o.K_.set(c,p.withResumeToken(xn.EMPTY_BYTE_STRING,p.snapshotVersion)),TD(o,c);const g=new aa(p.target,c,h,p.sequenceNumber);AE(o,g)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ee(Es,"Failed to raise snapshot:",r),await _p(t,r)}}async function _p(t,e,n){if(!bl(e))throw e;t.W_.add(1),await Wf(t),t.j_.set("Offline"),n||(n=()=>wD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(Es,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Pm(t)})}function AD(t,e){return e().catch(n=>_p(t,n,e))}async function Om(t){const e=We(t),n=va(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:cE;for(;HB(e);)try{const i=await AB(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,WB(e,i)}catch(i){await _p(e,i)}ID(e)&&PD(e)}function HB(t){return js(t)&&t.U_.length<10}function WB(t,e){t.U_.push(e);const n=va(t);n.c_()&&n.S_&&n.b_(e.mutations)}function ID(t){return js(t)&&!va(t).u_()&&t.U_.length>0}function PD(t){va(t).start()}async function GB(t){va(t).C_()}async function KB(t){const e=va(t);for(const n of t.U_)e.b_(n.mutations)}async function XB(t,e,n){const r=t.U_.shift(),i=vE.from(r,e,n);await AD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Om(t)}async function QB(t,e){e&&va(t).S_&&await async function(r,i){if(function(s){return kq(s)&&s!==fe.ABORTED}(i.code)){const o=r.U_.shift();va(r).h_(),await AD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Om(r)}}(t,e),ID(t)&&PD(t)}async function bI(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Ee(Es,"RemoteStore received new credentials");const r=js(n);n.W_.add(3),await Wf(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Pm(n)}async function YB(t,e){const n=We(t);e?(n.W_.delete(2),await Pm(n)):e||(n.W_.add(2),await Wf(n),n.j_.set("Unknown"))}function xl(t){return t.J_||(t.J_=function(n,r,i){const o=We(n);return o.M_(),new DB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:FB.bind(null,t),No:qB.bind(null,t),Lo:BB.bind(null,t),p_:zB.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),PE(t)?IE(t):t.j_.set("Unknown")):(await t.J_.stop(),SD(t))})),t.J_}function va(t){return t.Y_||(t.Y_=function(n,r,i){const o=We(n);return o.M_(),new MB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:GB.bind(null,t),Lo:QB.bind(null,t),D_:KB.bind(null,t),v_:XB.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Om(t)):(await t.Y_.stop(),t.U_.length>0&&(Ee(Es,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new OE(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CE(t,e){if(yo("AsyncQueue",`${e}: ${t}`),bl(t))return new Se(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{static emptySet(e){return new Lu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=jc(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.Z_=new jt(De.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xu{constructor(e,n,r,i,o,s,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Xu(e,n,Lu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ZB{constructor(){this.queries=EI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=We(n),o=i.queries;i.queries=EI(),o.forEach((s,l)=>{for(const c of l.ta)c.onError(r)})})(this,new Se(fe.ABORTED,"Firestore shutting down"))}}function EI(){return new Ns(t=>Xj(t),xm)}async function OD(t,e){const n=We(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new JB,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=CE(s,`Initialization of query '${Cu(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&RE(n)}async function CD(t,e){const n=We(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function e5(t,e){const n=We(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.ta)l.oa(i)&&(r=!0);s.ea=i}}r&&RE(n)}function t5(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function RE(t){t.ia.forEach(e=>{e.next()})}var Mb,TI;(TI=Mb||(Mb={}))._a="default",TI.Cache="cache";class RD{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Mb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.key=e}}class ND{constructor(e){this.key=e}}class n5{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=et(),this.mutatedKeys=et(),this.ya=Qj(e),this.wa=new Lu(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new xI,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),w=Em(this.query,g)?g:null,A=!!y&&this.mutatedKeys.has(y.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;y&&w?y.data.isEqual(w.data)?A!==T&&(r.track({type:3,doc:w}),x=!0):this.va(y,w)||(r.track({type:2,doc:w}),x=!0,(c&&this.ya(w,c)>0||h&&this.ya(w,h)<0)&&(l=!0)):!y&&w?(r.track({type:0,doc:w}),x=!0):y&&!w&&(r.track({type:1,doc:y}),x=!0,(c||h)&&(l=!0)),x&&(w?(s=s.add(w),o=T?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{wa:s,Da:r,ls:l,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((p,g)=>function(w,A){const T=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return T(w)-T(A)}(p.type,g.type)||this.ya(p.doc,g.doc)),this.Ca(r),i=i!=null&&i;const l=n&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,h=c!==this.ga;return this.ga=c,s.length!==0||h?{snapshot:new Xu(this.query,e.wa,o,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=et(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new ND(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new kD(r))}),n}Oa(e){this.fa=e.gs,this.pa=et();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Xu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const kE="SyncEngine";class r5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class i5{constructor(e){this.key=e,this.Ba=!1}}class o5{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Ns(l=>Xj(l),xm),this.qa=new Map,this.Qa=new Set,this.$a=new jt(De.comparator),this.Ua=new Map,this.Ka=new bE,this.Wa={},this.Ga=new Map,this.za=Ku.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function a5(t,e,n=!0){const r=VD(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await jD(r,e,n,!0),i}async function s5(t,e){const n=VD(t);await jD(n,e,!0,!1)}async function jD(t,e,n,r){const i=await IB(t.localStore,Ai(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await u5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ED(t.remoteStore,i),l}async function u5(t,e,n,r,i){t.Ha=(g,y,w)=>async function(T,x,D,$){let U=x.view.ba(D);U.ls&&(U=await gI(T.localStore,x.query,!1).then(({documents:I})=>x.view.ba(I,U)));const F=$&&$.targetChanges.get(x.targetId),k=$&&$.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(U,T.isPrimaryClient,F,k);return AI(T,x.targetId,C.Ma),C.snapshot}(t,g,y,w);const o=await gI(t.localStore,e,!0),s=new n5(e,o.gs),l=s.ba(o.documents),c=Hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,c);AI(t,n,h.Ma);const p=new r5(e,n,s);return t.ka.set(e,p),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),h.snapshot}async function l5(t,e,n){const r=We(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!xm(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&SE(r.remoteStore,i.targetId),Lb(r,i.targetId)}).catch(wl)):(Lb(r,i.targetId),await jb(r.localStore,i.targetId,!0))}async function c5(t,e){const n=We(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),SE(n.remoteStore,r.targetId))}async function f5(t,e,n){const r=v5(t);try{const i=await function(s,l){const c=We(s),h=nn.now(),p=l.reduce((w,A)=>w.add(A.key),et());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=vo(),T=et();return c.ds.getEntries(w,p).next(x=>{A=x,A.forEach((D,$)=>{$.isValidDocument()||(T=T.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,A)).next(x=>{g=x;const D=[];for(const $ of l){const U=Iq($,g.get($.key).overlayedDocument);U!=null&&D.push(new Ta($.key,U,Fj(U.value.mapValue),Dr.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,D,l)}).next(x=>{y=x;const D=x.applyToLocalDocumentSet(g,T);return c.documentOverlayCache.saveOverlays(w,x.batchId,D)})}).then(()=>({batchId:y.batchId,changes:Jj(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let h=s.Wa[s.currentUser.toKey()];h||(h=new jt(Xe)),h=h.insert(l,c),s.Wa[s.currentUser.toKey()]=h}(r,i.batchId,n),await Gf(r,i.changes),await Om(r.remoteStore)}catch(i){const o=CE(i,"Failed to persist write");n.reject(o)}}async function DD(t,e){const n=We(t);try{const r=await TB(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?ht(s.Ba):i.removedDocuments.size>0&&(ht(s.Ba),s.Ba=!1))}),await Gf(n,r,e)}catch(r){await wl(r)}}function SI(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const l=s.view.sa(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=We(s);c.onlineState=l;let h=!1;c.queries.forEach((p,g)=>{for(const y of g.ta)y.sa(l)&&(h=!0)}),h&&RE(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function h5(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new jt(De.comparator);s=s.insert(o,On.newNoDocument(o,ze.min()));const l=et().add(o),c=new Am(ze.min(),new Map,new jt(Xe),s,l);await DD(r,c),r.$a=r.$a.remove(o),r.Ua.delete(e),NE(r)}else await jb(r.localStore,e,!1).then(()=>Lb(r,e,n)).catch(wl)}async function d5(t,e){const n=We(t),r=e.batch.batchId;try{const i=await EB(n.localStore,e);LD(n,r,null),MD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gf(n,i)}catch(i){await wl(i)}}async function p5(t,e,n){const r=We(t);try{const i=await function(s,l){const c=We(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,l).next(g=>(ht(g!==null),p=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);LD(r,e,n),MD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gf(r,i)}catch(i){await wl(i)}}function MD(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function LD(t,e,n){const r=We(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Lb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||$D(t,r)})}function $D(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(SE(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),NE(t))}function AI(t,e,n){for(const r of n)r instanceof kD?(t.Ka.addReference(r.key,e),m5(t,r)):r instanceof ND?(Ee(kE,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||$D(t,r.key)):Ue()}function m5(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ee(kE,"New document in limbo: "+n),t.Qa.add(r),NE(t))}function NE(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new De(Pt.fromString(e)),r=t.za.next();t.Ua.set(r,new i5(n)),t.$a=t.$a.insert(n,r),ED(t.remoteStore,new aa(Ai(mE(n.path)),r,"TargetPurposeLimboResolution",_m.ae))}}async function Gf(t,e,n){const r=We(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((l,c)=>{s.push(r.Ha(c,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);const g=EE.Yi(c.targetId,h);o.push(g)}}))}),await Promise.all(s),r.La.p_(i),await async function(c,h){const p=We(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ce.forEach(h,y=>ce.forEach(y.Hi,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>ce.forEach(y.Ji,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!bl(g))throw g;Ee(TE,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.Ts.get(y),A=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(A);p.Ts=p.Ts.insert(y,T)}}}(r.localStore,o))}async function g5(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Ee(kE,"User change. New user:",e.toKey());const r=await _D(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(l=>{l.forEach(c=>{c.reject(new Se(fe.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gf(n,r.Rs)}}function y5(t,e){const n=We(t),r=n.Ua.get(e);if(r&&r.Ba)return et().add(r.key);{let i=et();const o=n.qa.get(e);if(!o)return i;for(const s of o){const l=n.ka.get(s);i=i.unionWith(l.view.Sa)}return i}}function VD(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h5.bind(null,e),e.La.p_=e5.bind(null,e.eventManager),e.La.Ja=t5.bind(null,e.eventManager),e}function v5(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p5.bind(null,e),e}class wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Im(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return xB(this.persistence,new _B,e.initialUser,this.serializer)}Xa(e){return new vD(xE.ri,this.serializer)}Za(e){return new OB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wp.provider={build:()=>new wp};class _5 extends wp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ht(this.persistence.referenceDelegate instanceof vp);const r=this.persistence.referenceDelegate.garbageCollector;return new iB(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new vD(r=>vp.ri(r,n),this.serializer)}}class $b{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g5.bind(null,this.syncEngine),await YB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZB}()}createDatastore(e){const n=Im(e.databaseInfo.databaseId),r=function(o){return new jB(o)}(e.databaseInfo);return function(o,s,l,c){return new $B(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new UB(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>SI(this.syncEngine,n,0),function(){return _I.D()?new _I:new CB}())}createSyncEngine(e,n){return function(i,o,s,l,c,h,p){const g=new o5(i,o,s,l,c,h);return p&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=We(i);Ee(Es,"RemoteStore shutting down."),o.W_.add(5),await Wf(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$b.provider={build:()=>new $b};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class w5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=Rj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ee(_a,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ee(_a,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sv(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(_a,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _D(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function II(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b5(t);Ee(_a,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bI(e.remoteStore,i)),t._onlineComponents=e}async function b5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(_a,"Using user provided OfflineComponentProvider");try{await sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zu("Error using user provided cache. Falling back to memory cache: "+n),await sv(t,new wp)}}else Ee(_a,"Using default OfflineComponentProvider"),await sv(t,new _5(void 0));return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(_a,"Using user provided OnlineComponentProvider"),await II(t,t._uninitializedComponentsProvider._online)):(Ee(_a,"Using default OnlineComponentProvider"),await II(t,new $b))),t._onlineComponents}function x5(t){return FD(t).then(e=>e.syncEngine)}async function qD(t){const e=await FD(t),n=e.eventManager;return n.onListen=a5.bind(null,e.syncEngine),n.onUnlisten=l5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c5.bind(null,e.syncEngine),n}function E5(t,e,n={}){const r=new fo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,h){const p=new UD({next:y=>{p.su(),s.enqueueAndForget(()=>CD(o,g));const w=y.docs.has(l);!w&&y.fromCache?h.reject(new Se(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&c&&c.source==="server"?h.reject(new Se(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new RD(mE(l.path),p,{includeMetadataChanges:!0,Ta:!0});return OD(o,g)}(await qD(t),t.asyncQueue,e,n,r)),r.promise}function T5(t,e,n={}){const r=new fo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,h){const p=new UD({next:y=>{p.su(),s.enqueueAndForget(()=>CD(o,g)),y.fromCache&&c.source==="server"?h.reject(new Se(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new RD(l,p,{includeMetadataChanges:!0,Ta:!0});return OD(o,g)}(await qD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e,n){if(!n)throw new Se(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S5(t,e,n,r){if(e===!0&&r===!0)throw new Se(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OI(t){if(!De.isDocumentKey(t))throw new Se(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CI(t){if(De.isDocumentKey(t))throw new Se(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new Se(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firestore.googleapis.com",RI=!0;class kI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HD,this.ssl=RI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nB)throw new Se(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new N3;switch(r.type){case"firstParty":return new L3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PI.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),PI.delete(n),r.terminate())}(this),Promise.resolve()}}function A5(t,e,n,r={}){var i;const o=(t=ui(t,Rm))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==HD&&o.host!==l&&zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:!1,emulatorOptions:r});if(!da(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Pn.MOCK_USER;else{h=dj(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Se(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Pn(g)}t._authCredentials=new j3(new Oj(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class Fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class fa extends El{constructor(e,n,r){super(e,n,mE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new De(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function vt(t,e,...n){if(t=wt(t),zD("collection","path",e),t instanceof Rm){const r=Pt.fromString(e,...n);return CI(r),new fa(t,null,r)}{if(!(t instanceof Fn||t instanceof fa))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return CI(r),new fa(t.firestore,null,r)}}function ot(t,e,...n){if(t=wt(t),arguments.length===1&&(e=Rj.newId()),zD("doc","path",e),t instanceof Rm){const r=Pt.fromString(e,...n);return OI(r),new Fn(t,null,new De(r))}{if(!(t instanceof Fn||t instanceof fa))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return OI(r),new Fn(t.firestore,t instanceof fa?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="AsyncQueue";class jI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bD(this,"async_queue_retry"),this.Su=()=>{const r=av();r&&Ee(NI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new fo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bl(e))throw e;Ee(NI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw yo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=OE.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ds extends Rm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jI(e),this._firestoreClient=void 0,await e}}}function I5(t,e){const n=typeof t=="object"?t:vm(),r=typeof t=="string"?t:fp,i=xa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=cj("firestore");o&&A5(i,...o)}return i}function jE(t){if(t._terminated)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P5(t),t._firestoreClient}function P5(t){var e,n,r;const i=t._freezeSettings(),o=function(l,c,h,p){return new J3(l,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BD(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new w5(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(xn.fromBase64String(e))}catch(n){throw new Se(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qu(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=/^__.*__$/;class C5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new zf(e,this.data,n,this.fieldTransforms)}}class WD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class $E{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $E(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GD(this.Lu)&&O5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class R5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Im(e)}ju(e,n,r,i=!1){return new $E({Lu:e,methodName:n,zu:r,path:bn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(t){const e=t._freezeSettings(),n=Im(t._databaseId);return new R5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KD(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);VE("Data must be an object, but it was:",s,r);const l=XD(r,s);let c,h;if(o.merge)c=new gr(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const p=[];for(const g of o.mergeFields){const y=Vb(e,g,n);if(!s.contains(y))throw new Se(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);YD(p,y)||p.push(y)}c=new gr(p),h=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=s.fieldTransforms;return new C5(new Jn(l),c,h)}class jm extends DE{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jm}}function k5(t,e,n,r){const i=t.ju(1,e,n);VE("Data must be an object, but it was:",i,r);const o=[],s=Jn.empty();Ea(r,(c,h)=>{const p=UE(e,c,n);h=wt(h);const g=i.Uu(p);if(h instanceof jm)o.push(p);else{const y=Kf(h,g);y!=null&&(o.push(p),s.set(p,y))}});const l=new gr(o);return new WD(s,l,i.fieldTransforms)}function N5(t,e,n,r,i,o){const s=t.ju(1,e,n),l=[Vb(e,r,n)],c=[i];if(o.length%2!=0)throw new Se(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(Vb(e,o[y])),c.push(o[y+1]);const h=[],p=Jn.empty();for(let y=l.length-1;y>=0;--y)if(!YD(h,l[y])){const w=l[y];let A=c[y];A=wt(A);const T=s.Uu(w);if(A instanceof jm)h.push(w);else{const x=Kf(A,T);x!=null&&(h.push(w),p.set(w,x))}}const g=new gr(h);return new WD(p,g,s.fieldTransforms)}function j5(t,e,n,r=!1){return Kf(n,t.ju(r?4:3,e))}function Kf(t,e){if(QD(t=wt(t)))return VE("Unsupported field value:",e,t),XD(t,e);if(t instanceof DE)return function(r,i){if(!GD(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let c=Kf(l,i.Ku(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nn.fromDate(r);return{timestampValue:yp(i.serializer,o)}}if(r instanceof nn){const o=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yp(i.serializer,o)}}if(r instanceof ME)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qu)return{bytesValue:cD(i.serializer,r._byteString)};if(r instanceof Fn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof LE)return function(s,l){return{mapValue:{fields:{[Vj]:{stringValue:Uj},[hp]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw l.Wu("VectorValues must only contain numeric values.");return gE(l.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Cm(r)}`)}(t,e)}function XD(t,e){const n={};return Nj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,(r,i)=>{const o=Kf(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof ME||t instanceof Qu||t instanceof Fn||t instanceof DE||t instanceof LE)}function VE(t,e,n){if(!QD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cm(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Vb(t,e,n){if((e=wt(e))instanceof km)return e._internalPath;if(typeof e=="string")return UE(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const D5=new RegExp("[~\\*/\\[\\]]");function UE(t,e,n){if(e.search(D5)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Se(fe.INVALID_ARGUMENT,l+t+c)}function YD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M5 extends JD{data(){return super.data()}}function FE(t,e){return typeof e=="string"?UE(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qE{}class $5 extends qE{}function wa(t,e,...n){let r=[];e instanceof qE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof BE).length,l=o.filter(c=>c instanceof Dm).length;if(s>1||s>0&&l>0)throw new Se(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Dm extends $5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dm(e,n,r)}_apply(e){const n=this._parse(e);return ZD(e._query,n),new El(e.firestore,e.converter,Pb(e._query,n))}_parse(e){const n=Nm(e.firestore);return function(o,s,l,c,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){MI(g,p);const A=[];for(const T of g)A.push(DI(c,o,T));y={arrayValue:{values:A}}}else y=DI(c,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||MI(g,p),y=j5(l,s,g,p==="in"||p==="not-in");return Gt.create(h,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ba(t,e,n){const r=e,i=FE("where",t);return Dm._create(i,r,n)}class BE extends qE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new BE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const c of l)ZD(s,c),s=Pb(s,c)}(e._query,n),new El(e.firestore,e.converter,Pb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DI(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new Se(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kj(e)&&n.indexOf("/")!==-1)throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!De.isDocumentKey(r))throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YA(t,new De(r))}if(n instanceof Fn)return YA(t,n._key);throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function MI(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZD(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V5{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ea(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[hp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Bt(s.doubleValue));return new LE(o)}convertGeoPoint(e){return new ME(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const n=ma(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);ht(gD(r));const i=new nf(r.get(1),r.get(3)),o=new De(r.popFirst(5));return i.isEqual(n)||yo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tM extends JD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rp extends tM{data(e={}){return super.data(e)}}class U5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rp(this._firestore,this._userDataWriter,r.key,r,new Mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const c=new rp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Mc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new rp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Mc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),p=s.indexOf(l.doc.key)),{type:F5(l.type),doc:c,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){t=ui(t,Fn);const e=ui(t.firestore,Ds);return E5(jE(e),t._key).then(n=>z5(e,t,n))}class nM extends V5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function Nr(t){t=ui(t,El);const e=ui(t.firestore,Ds),n=jE(e),r=new nM(e);return L5(t._query),T5(n,t._query).then(i=>new U5(e,r,t,i))}function B5(t,e,n){t=ui(t,Fn);const r=ui(t.firestore,Ds),i=eM(t.converter,e);return Mm(r,[KD(Nm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function Lt(t,e,n,...r){t=ui(t,Fn);const i=ui(t.firestore,Ds),o=Nm(i);let s;return s=typeof(e=wt(e))=="string"||e instanceof km?N5(o,"updateDoc",t._key,e,n,r):k5(o,"updateDoc",t._key,e),Mm(i,[s.toMutation(t._key,Dr.exists(!0))])}function oo(t){return Mm(ui(t.firestore,Ds),[new yE(t._key,Dr.none())])}function $n(t,e){const n=ui(t.firestore,Ds),r=ot(t),i=eM(t.converter,e);return Mm(n,[KD(Nm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function Mm(t,e){return function(r,i){const o=new fo;return r.asyncQueue.enqueueAndForget(async()=>f5(await x5(r),i,o)),o.promise}(jE(t),e)}function z5(t,e,n){const r=n.docs.get(e._key),i=new nM(t);return new tM(t,i,e._key,r,new Mc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_l=i})(ks),ai(new Mr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Ds(new D3(r.getProvider("auth-internal")),new $3(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(h.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),er(VA,UA,e),er(VA,UA,"esm2017")})();var H5="firebase",W5="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(H5,W5,"app");const rM="@firebase/installations",zE="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=1e4,oM=`w:${zE}`,aM="FIS_v2",G5="https://firebaseinstallations.googleapis.com/v1",K5=60*60*1e3,X5="installations",Q5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ts=new Rs(X5,Q5,Y5);function sM(t){return t instanceof Vr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM({projectId:t}){return`${G5}/projects/${t}/installations`}function lM(t){return{token:t.token,requestStatus:2,expiresIn:Z5(t.expiresIn),creationTime:Date.now()}}async function cM(t,e){const r=(await e.json()).error;return Ts.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function J5(t,{refreshToken:e}){const n=fM(t);return n.append("Authorization",e6(e)),n}async function hM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Z5(t){return Number(t.replace("s","000"))}function e6(t){return`${aM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uM(t),i=fM(t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const s={fid:n,authVersion:aM,appId:t.appId,sdkVersion:oM},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await hM(()=>fetch(r,l));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:lM(h.authToken)}}else throw await cM("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=/^[cdef][\w-]{21}$/,Ub="";function i6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=o6(t);return r6.test(n)?n:Ub}catch{return Ub}}function o6(t){return n6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Map;function mM(t,e){const n=Lm(t);gM(n,e),a6(n,e)}function gM(t,e){const n=pM.get(t);if(n)for(const r of n)r(e)}function a6(t,e){const n=s6();n&&n.postMessage({key:t,fid:e}),u6()}let hs=null;function s6(){return!hs&&"BroadcastChannel"in self&&(hs=new BroadcastChannel("[Firebase] FID Change"),hs.onmessage=t=>{gM(t.data.key,t.data.fid)}),hs}function u6(){pM.size===0&&hs&&(hs.close(),hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="firebase-installations-database",c6=1,Ss="firebase-installations-store";let uv=null;function HE(){return uv||(uv=_j(l6,c6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ss)}}})),uv}async function xp(t,e){const n=Lm(t),i=(await HE()).transaction(Ss,"readwrite"),o=i.objectStore(Ss),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&mM(t,e.fid),e}async function yM(t){const e=Lm(t),r=(await HE()).transaction(Ss,"readwrite");await r.objectStore(Ss).delete(e),await r.done}async function $m(t,e){const n=Lm(t),i=(await HE()).transaction(Ss,"readwrite"),o=i.objectStore(Ss),s=await o.get(n),l=e(s);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&mM(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(t){let e;const n=await $m(t.appConfig,r=>{const i=f6(r),o=h6(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Ub?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function f6(t){const e=t||{fid:i6(),registrationStatus:0};return vM(e)}function h6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ts.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=d6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p6(t)}:{installationEntry:e}}async function d6(t,e){try{const n=await t6(t,e);return xp(t.appConfig,n)}catch(n){throw sM(n)&&n.customData.serverCode===409?await yM(t.appConfig):await xp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function p6(t){let e=await LI(t.appConfig);for(;e.registrationStatus===1;)await dM(100),e=await LI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await WE(t);return r||n}return e}function LI(t){return $m(t,e=>{if(!e)throw Ts.create("installation-not-found");return vM(e)})}function vM(t){return m6(t)?{fid:t.fid,registrationStatus:0}:t}function m6(t){return t.registrationStatus===1&&t.registrationTime+iM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6({appConfig:t,heartbeatServiceProvider:e},n){const r=y6(t,n),i=J5(t,n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const s={installation:{sdkVersion:oM,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await hM(()=>fetch(r,l));if(c.ok){const h=await c.json();return lM(h)}else throw await cM("Generate Auth Token",c)}function y6(t,{fid:e}){return`${uM(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(t,e=!1){let n;const r=await $m(t.appConfig,o=>{if(!_M(o))throw Ts.create("not-registered");const s=o.authToken;if(!e&&w6(s))return o;if(s.requestStatus===1)return n=v6(t,e),o;{if(!navigator.onLine)throw Ts.create("app-offline");const l=x6(o);return n=_6(t,l),l}});return n?await n:r.authToken}async function v6(t,e){let n=await $I(t.appConfig);for(;n.authToken.requestStatus===1;)await dM(100),n=await $I(t.appConfig);const r=n.authToken;return r.requestStatus===0?GE(t,e):r}function $I(t){return $m(t,e=>{if(!_M(e))throw Ts.create("not-registered");const n=e.authToken;return E6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _6(t,e){try{const n=await g6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xp(t.appConfig,r),n}catch(n){if(sM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yM(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xp(t.appConfig,r)}throw n}}function _M(t){return t!==void 0&&t.registrationStatus===2}function w6(t){return t.requestStatus===2&&!b6(t)}function b6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+K5}function x6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function E6(t){return t.requestStatus===1&&t.requestTime+iM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t){const e=t,{installationEntry:n,registrationPromise:r}=await WE(e);return r?r.catch(console.error):GE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e=!1){const n=t;return await A6(n),(await GE(n,e)).token}async function A6(t){const{registrationPromise:e}=await WE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){if(!t||!t.options)throw lv("App Configuration");if(!t.name)throw lv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lv(t){return Ts.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="installations",P6="installations-internal",O6=t=>{const e=t.getProvider("app").getImmediate(),n=I6(e),r=xa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},C6=t=>{const e=t.getProvider("app").getImmediate(),n=xa(e,wM).getImmediate();return{getId:()=>T6(n),getToken:i=>S6(n,i)}};function R6(){ai(new Mr(wM,O6,"PUBLIC")),ai(new Mr(P6,C6,"PRIVATE"))}R6();er(rM,zE);er(rM,zE,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="analytics",k6="firebase_id",N6="origin",j6=60*1e3,D6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new ym("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vr=new Rs("analytics","Analytics",M6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){if(!t.startsWith(KE)){const e=vr.create("invalid-gtag-resource",{gtagURL:t});return tr.warn(e.message),""}return t}function bM(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function V6(t,e){const n=$6("firebase-js-sdk-policy",{createScriptURL:L6}),r=document.createElement("script"),i=`${KE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function U6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function F6(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const c=(await bM(n)).find(h=>h.measurementId===i);c&&await e[c.appId]}}catch(l){tr.error(l)}t("config",i,o)}async function q6(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await bM(n);for(const c of s){const h=l.find(g=>g.measurementId===c),p=h&&e[h.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){tr.error(o)}}function B6(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[l,c]=s;await q6(t,e,n,l,c)}else if(o==="config"){const[l,c]=s;await F6(t,e,n,r,l,c)}else if(o==="consent"){const[l,c]=s;t("consent",l,c)}else if(o==="get"){const[l,c,h]=s;t("get",l,c,h)}else if(o==="set"){const[l]=s;t("set",l)}else t(o,...s)}catch(l){tr.error(l)}}return i}function z6(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=B6(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function H6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(KE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=30,G6=1e3;class K6{constructor(e={},n=G6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xM=new K6;function X6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Q6(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:X6(r)},o=D6.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let l="";try{const c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function Y6(t,e=xM,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw vr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw vr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new e9;return setTimeout(async()=>{l.abort()},j6),EM({appId:r,apiKey:i,measurementId:o},s,l,e)}async function EM(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xM){var o;const{appId:s,measurementId:l}=t;try{await J6(r,e)}catch(c){if(l)return tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:l};throw c}try{const c=await Q6(t);return i.deleteThrottleMetadata(s),c}catch(c){const h=c;if(!Z6(h)){if(i.deleteThrottleMetadata(s),l)return tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:l};throw c}const p=Number((o=h==null?void 0:h.customData)===null||o===void 0?void 0:o.httpStatus)===503?OA(n,i.intervalMillis,W6):OA(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(s,g),tr.debug(`Calling attemptFetch again in ${p} millis`),EM(t,g,r,i)}}function J6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Z6(t){if(!(t instanceof Vr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class e9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function t9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(){if(mj())try{await gj()}catch(t){return tr.warn(vr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return tr.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function r9(t,e,n,r,i,o,s){var l;const c=Y6(t);c.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&tr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>tr.error(w)),e.push(c);const h=n9().then(w=>{if(w)return r.getId()}),[p,g]=await Promise.all([c,h]);H6(o)||V6(o,p.measurementId),i("js",new Date);const y=(l=s==null?void 0:s.config)!==null&&l!==void 0?l:{};return y[N6]="firebase",y.update=!0,g!=null&&(y[k6]=g),i("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.app=e}_delete(){return delete Hc[this.app.options.appId],Promise.resolve()}}let Hc={},VI=[];const UI={};let cv="dataLayer",o9="gtag",FI,TM,qI=!1;function a9(){const t=[];if(pj()&&t.push("This is a browser extension environment."),pF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vr.create("invalid-analytics-context",{errorInfo:e});tr.warn(n.message)}}function s9(t,e,n){a9();const r=t.options.appId;if(!r)throw vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vr.create("no-api-key");if(Hc[r]!=null)throw vr.create("already-exists",{id:r});if(!qI){U6(cv);const{wrappedGtag:o,gtagCore:s}=z6(Hc,VI,UI,cv,o9);TM=o,FI=s,qI=!0}return Hc[r]=r9(t,VI,UI,e,FI,cv,n),new i9(t)}function u9(t=vm()){t=wt(t);const e=xa(t,Ep);return e.isInitialized()?e.getImmediate():l9(t)}function l9(t,e={}){const n=xa(t,Ep);if(n.isInitialized()){const i=n.getImmediate();if(da(e,n.getOptions()))return i;throw vr.create("already-initialized")}return n.initialize({options:e})}function c9(t,e,n,r){t=wt(t),t9(TM,Hc[t.app.options.appId],e,n,r).catch(i=>tr.error(i))}const BI="@firebase/analytics",zI="0.10.12";function f9(){ai(new Mr(Ep,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return s9(r,i,n)},"PUBLIC")),ai(new Mr("analytics-internal",t,"PRIVATE")),er(BI,zI),er(BI,zI,"esm2017");function t(e){try{const n=e.getProvider(Ep).getImmediate();return{logEvent:(r,i,o)=>c9(n,r,i,o)}}catch(n){throw vr.create("interop-component-reg-failed",{reason:n})}}}f9();function XE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h9=SM,AM=new Rs("auth","Firebase",SM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new ym("@firebase/auth");function d9(t,...e){Tp.logLevel<=Ze.WARN&&Tp.warn(`Auth (${ks}): ${t}`,...e)}function ip(t,...e){Tp.logLevel<=Ze.ERROR&&Tp.error(`Auth (${ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw YE(t,...e)}function oi(t,...e){return YE(t,...e)}function QE(t,e,n){const r=Object.assign(Object.assign({},h9()),{[e]:n});return new Rs("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return QE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Lr(t,"argument-error"),QE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function YE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AM.create(t,...e)}function Ve(t,e,...n){if(!t)throw YE(e,...n)}function ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ip(e),new Error(e)}function _o(t,e){t||ao(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m9(){return HI()==="http:"||HI()==="https:"}function HI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m9()||pj()||"connection"in navigator)?navigator.onLine:!0}function y9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,_o(n>e,"Short delay should be less than long delay!"),this.isMobile=uF()||fF()}get(){return g9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){_o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=new Xf(3e4,6e4);function Sa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return PM(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=qf(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},o);return cF()||(h.referrerPolicy="no-referrer"),IM.fetch()(OM(t,t.config.apiHost,n,l),h)})}async function PM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},v9),e);try{const i=new b9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw jd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw jd(t,"user-disabled",s);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw QE(t,p,h);Lr(t,p)}}catch(i){if(i instanceof Vr)throw i;Lr(t,"network-request-failed",{message:String(i)})}}async function Qf(t,e,n,r,i={}){const o=await Di(t,e,n,r,i);return"mfaPendingCredential"in o&&Lr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function OM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?JE(t.config,i):`${t.config.apiScheme}://${i}`}function w9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),_9.get())})}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oi(t,e,r);return i.customData._tokenResponse=n,i}function WI(t){return t!==void 0&&t.enterprise!==void 0}class x9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E9(t,e){return Di(t,"GET","/v2/recaptchaConfig",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function CM(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S9(t,e=!1){const n=wt(t),r=await n.getIdToken(e),i=ZE(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wc(fv(i.auth_time)),issuedAtTime:Wc(fv(i.iat)),expirationTime:Wc(fv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function ZE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ip("JWT malformed, contained fewer than 3 sections"),null;try{const i=uj(n);return i?JSON.parse(i):(ip("Failed to decode base64 JWT payload"),null)}catch(i){return ip("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GI(t){const e=ZE(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&A9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await As(t,CM(n,{idToken:r}));Ve(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RM(o.providerUserInfo):[],l=O9(t.providerData,s),c=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),p=c?h:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new qb(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function P9(t){const e=wt(t);await Sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RM(t){return t.map(e=>{var{providerId:n}=e,r=XE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){const n=await PM(t,{},async()=>{const r=qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=OM(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",IM.fetch()(s,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R9(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=GI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await C9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $u;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class so{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=XE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await As(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S9(this,e)}reload(){return P9(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new so(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await As(this,T9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,l,c,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(h=n.createdAt)!==null&&h!==void 0?h:void 0,$=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:U,emailVerified:F,isAnonymous:k,providerData:C,stsTokenManager:I}=n;Ve(U&&I,e,"internal-error");const O=$u.fromJSON(this.name,I);Ve(typeof U=="string",e,"internal-error"),Zo(g,e.name),Zo(y,e.name),Ve(typeof F=="boolean",e,"internal-error"),Ve(typeof k=="boolean",e,"internal-error"),Zo(w,e.name),Zo(A,e.name),Zo(T,e.name),Zo(x,e.name),Zo(D,e.name),Zo($,e.name);const S=new so({uid:U,auth:e,email:y,emailVerified:F,displayName:g,isAnonymous:k,photoURL:A,phoneNumber:w,tenantId:T,stsTokenManager:O,createdAt:D,lastLoginAt:$});return C&&Array.isArray(C)&&(S.providerData=C.map(N=>Object.assign({},N))),x&&(S._redirectEventId=x),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new $u;i.updateFromServerResponse(n);const o=new so({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?RM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new $u;l.updateFromIdToken(r);const c=new so({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Map;function uo(t){_o(t instanceof Function,"Expected a class definition");let e=KI.get(t);return e?(_o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kM.type="NONE";const XI=kM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e,n){return`firebase:${t}:${e}:${n}`}class Vu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,o),this.fullPersistenceKey=op("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?so._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vu(uo(XI),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||uo(XI);const s=op(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const p=await h._get(s);if(p){const g=so._fromJSON(e,p);h!==o&&(l=g),o=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Vu(o,e,r):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(s)}catch{}})),new Vu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($M(e))return"Blackberry";if(VM(e))return"Webos";if(jM(e))return"Safari";if((e.includes("chrome/")||DM(e))&&!e.includes("edge/"))return"Chrome";if(LM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NM(t=Rn()){return/firefox\//i.test(t)}function jM(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DM(t=Rn()){return/crios\//i.test(t)}function MM(t=Rn()){return/iemobile/i.test(t)}function LM(t=Rn()){return/android/i.test(t)}function $M(t=Rn()){return/blackberry/i.test(t)}function VM(t=Rn()){return/webos/i.test(t)}function eT(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k9(t=Rn()){var e;return eT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N9(){return hF()&&document.documentMode===10}function UM(t=Rn()){return eT(t)||LM(t)||VM(t)||$M(t)||/windows phone/i.test(t)||MM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e=[]){let n;switch(t){case"Browser":n=QI(Rn());break;case"Worker":n=`${QI(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Sa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=6;class L9{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:M9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YI(this),this.idTokenSubscription=new YI(this),this.beforeStateQueue=new j9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=uo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CM(this,{idToken:e}),r=await so._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Pi(this));const n=e?wt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(uo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D9(this),n=new L9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&uo(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[uo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&d9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Aa(t){return wt(t)}class YI{constructor(e){this.auth=e,this.observer=null,this.addObserver=_F(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V9(t){Vm=t}function qM(t){return Vm.loadJS(t)}function U9(){return Vm.recaptchaEnterpriseScript}function F9(){return Vm.gapiScript}function q9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B9{constructor(){this.enterprise=new z9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const H9="recaptcha-enterprise",BM="NO_RECAPTCHA";class W9{constructor(e){this.type=H9,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{E9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new x9(c);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,s(h.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;WI(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(h=>{s(h)}).catch(()=>{s(BM)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B9().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(l=>{if(!n&&WI(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=U9();c.length!==0&&(c+=l),qM(c).then(()=>{i(l,o,s)}).catch(h=>{s(h)})}}).catch(l=>{s(l)})})}}async function JI(t,e,n,r=!1,i=!1){const o=new W9(t);let s;if(i)s=BM;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Bb(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await JI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await JI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){const n=xa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(da(o,e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function K9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(uo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function X9(t,e,n){const r=Aa(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=zM(e),{host:s,port:l}=Q9(e),c=l===null?"":`:${l}`,h={url:`${o}//${s}${c}/`},p=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(da(h,r.config.emulator)&&da(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Y9()}function zM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q9(t){const e=zM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ZI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:ZI(s)}}}function ZI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(e){return ao("not implemented")}_linkToIdToken(e,n){return ao("not implemented")}_getReauthenticationResolver(e){return ao("not implemented")}}async function J9(t,e){return Di(t,"POST","/v1/accounts:update",e)}async function Z9(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e){return Qf(t,"POST","/v1/accounts:signInWithPassword",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",Sa(t,e))}async function nz(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends tT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bb(e,n,"signInWithPassword",ez);case"emailLink":return tz(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bb(e,r,"signUpPassword",Z9);case"emailLink":return nz(e,{idToken:n,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t,e){return Qf(t,"POST","/v1/accounts:signInWithIdp",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="http://localhost";class Is extends tT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=XE(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Is(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Uu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uu(e,n)}buildRequest(){const e={requestUri:rz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oz(t){const e=Rc(kc(t)).link,n=e?Rc(kc(e)).deep_link_id:null,r=Rc(kc(t)).deep_link_id;return(r?Rc(kc(r)).link:null)||r||n||e||t}class nT{constructor(e){var n,r,i,o,s,l;const c=Rc(kc(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=iz((i=c.mode)!==null&&i!==void 0?i:null);Ve(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=oz(e);try{return new nT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return sf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nT.parseLink(n);return Ve(r,"argument-error"),sf._fromEmailAndCode(e,r.code,r.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends rT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Yf{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Is._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Yf{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Yf{constructor(){super("twitter.com")}static credential(e,n){return Is._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ra.credential(n,r)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e){return Qf(t,"POST","/v1/accounts:signUp",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await so._fromIdTokenResponse(e,r,i),s=eP(r);return new Ps({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eP(r);return new Ps({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Vr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ap.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ap(e,n,r,i)}}function HM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ap._fromErrorAndOperation(t,o,e,r):o})}async function sz(t,e,n=!1){const r=await As(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(Pi(r));const i="reauthenticate";try{const o=await As(t,HM(r,i,e,t),n);Ve(o.idToken,r,"internal-error");const s=ZE(o.idToken);Ve(s,r,"internal-error");const{sub:l}=s;return Ve(t.uid===l,r,"user-mismatch"),Ps._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Lr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e,n=!1){if(Vn(t.app))return Promise.reject(Pi(t));const r="signIn",i=await HM(t,r,e),o=await Ps._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function lz(t,e){return WM(Aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t){const e=Aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cz(t,e,n){if(Vn(t.app))return Promise.reject(Pi(t));const r=Aa(t),s=await Bb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",az).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&GM(t),c}),l=await Ps._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function fz(t,e,n){return Vn(t.app)?Promise.reject(Pi(t)):lz(wt(t),Tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e){return Di(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=wt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await As(r,hz(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function dz(t,e){const n=wt(t);return Vn(n.auth.app)?Promise.reject(Pi(n.auth)):XM(n,e,null)}function pz(t,e){return XM(wt(t),null,e)}async function XM(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await As(t,J9(r,o));await t._updateTokensIfNecessary(s,!0)}function mz(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function gz(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function yz(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function QM(t){return wt(t).signOut()}const Ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=1e3,_z=10;class JM extends YM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);N9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_z):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JM.type="LOCAL";const wz=JM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM extends YM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZM.type="SESSION";const eL=ZM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async h=>h(n.origin,o)),c=await bz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const h=iT("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(p),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function Ez(t){Oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function Tz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Az(){return tL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="firebaseLocalStorageDb",Iz=1,Pp="firebaseLocalStorage",rL="fbase_key";class Jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fm(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function Pz(){const t=indexedDB.deleteDatabase(nL);return new Jf(t).toPromise()}function zb(){const t=indexedDB.open(nL,Iz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:rL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),await Pz(),e(await zb()))})})}async function tP(t,e,n){const r=Fm(t,!0).put({[rL]:e,value:n});return new Jf(r).toPromise()}async function Oz(t,e){const n=Fm(t,!1).get(e),r=await new Jf(n).toPromise();return r===void 0?null:r.value}function nP(t,e){const n=Fm(t,!0).delete(e);return new Jf(n).toPromise()}const Cz=800,Rz=3;class iL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Rz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Um._getInstance(Az()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Tz(),!this.activeServiceWorker)return;this.sender=new xz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zb();return await tP(e,Ip,"1"),await nP(e,Ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Fm(i,!1).getAll();return new Jf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iL.type="LOCAL";const kz=iL;new Xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){return e?uo(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends tT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nz(t){return WM(t.auth,new oT(t),t.bypassAuthState)}function jz(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),uz(n,new oT(t),t.bypassAuthState)}async function Dz(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),sz(n,new oT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nz;case"linkViaPopup":case"linkViaRedirect":return Dz;case"reauthViaPopup":case"reauthViaRedirect":return jz;default:Lr(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Xf(2e3,1e4);async function Lz(t,e,n){if(Vn(t.app))return Promise.reject(oi(t,"operation-not-supported-in-this-environment"));const r=Aa(t);p9(t,e,rT);const i=oL(r,n);return new ds(r,"signInViaPopup",e,i).executeNotNull()}class ds extends aL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){_o(this.filter.length===1,"Popup operations only handle one event");const e=iT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mz.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="pendingRedirect",ap=new Map;class Vz extends aL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ap.get(this.auth._key());if(!e){try{const r=await Uz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uz(t,e){const n=Bz(e),r=qz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Fz(t,e){ap.set(t._key(),e)}function qz(t){return uo(t._redirectPersistence)}function Bz(t){return op($z,t.config.apiKey,t.name)}async function zz(t,e,n=!1){if(Vn(t.app))return Promise.reject(Pi(t));const r=Aa(t),i=oL(r,e),s=await new Vz(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=10*60*1e3;class Wz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hz&&this.cachedEventUids.clear(),this.cachedEventUids.has(rP(e))}saveEventToCache(e){this.cachedEventUids.add(rP(e)),this.lastProcessedEventTime=Date.now()}}function rP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Gz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qz=/^https?/;async function Yz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kz(t);for(const n of e)try{if(Jz(n))return}catch{}Lr(t,"unauthorized-domain")}function Jz(t){const e=Fb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Qz.test(n))return!1;if(Xz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new Xf(3e4,6e4);function iP(){const t=Oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e8(t){return new Promise((e,n)=>{var r,i,o;function s(){iP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iP(),n(oi(t,"network-request-failed"))},timeout:Zz.get()})}if(!((i=(r=Oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Oi().gapi)===null||o===void 0)&&o.load)s();else{const l=q9("iframefcb");return Oi()[l]=()=>{gapi.load?s():n(oi(t,"network-request-failed"))},qM(`${F9()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw sp=null,e})}let sp=null;function t8(t){return sp=sp||e8(t),sp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=new Xf(5e3,15e3),r8="__/auth/iframe",i8="emulator/auth/iframe",o8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s8(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?JE(e,i8):`https://${t.config.authDomain}/${r8}`,r={apiKey:e.apiKey,appName:t.name,v:ks},i=a8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qf(r).slice(1)}`}async function u8(t){const e=await t8(t),n=Oi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:s8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=oi(t,"network-request-failed"),l=Oi().setTimeout(()=>{o(s)},n8.get());function c(){Oi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c8=500,f8=600,h8="_blank",d8="http://localhost";class oP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p8(t,e,n,r=c8,i=f8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},l8),{width:r.toString(),height:i.toString(),top:o,left:s}),h=Rn().toLowerCase();n&&(l=DM(h)?h8:n),NM(h)&&(e=e||d8,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[w,A])=>`${y}${w}=${A},`,"");if(k9(h)&&l!=="_self")return m8(e||"",l),new oP(null);const g=window.open(e||"",l,p);Ve(g,t,"popup-blocked");try{g.focus()}catch{}return new oP(g)}function m8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="__/auth/handler",y8="emulator/auth/handler",v8=encodeURIComponent("fac");async function aP(t,e,n,r,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ks,eventId:i};if(e instanceof rT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",vF(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))s[p]=g}if(e instanceof Yf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),h=c?`#${v8}=${encodeURIComponent(c)}`:"";return`${_8(t)}?${qf(l).slice(1)}${h}`}function _8({config:t}){return t.emulator?JE(t,y8):`https://${t.authDomain}/${g8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="webStorageSupport";class w8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eL,this._completeRedirectFn=zz,this._overrideRedirectResult=Fz}async _openPopup(e,n,r,i){var o;_o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await aP(e,n,r,Fb(),i);return p8(e,s,iT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await aP(e,n,r,Fb(),i);return Ez(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_o(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u8(e),r=new Wz(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hv,{type:hv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[hv];s!==void 0&&n(!!s),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UM()||jM()||eT()}}const b8=w8;var sP="@firebase/auth",uP="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T8(t){ai(new Mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FM(t)},h=new $9(r,i,o,c);return K9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ai(new Mr("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new x8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(sP,uP,E8(t)),er(sP,uP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=5*60,A8=hj("authIdTokenMaxAge")||S8;let lP=null;const I8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A8)return;const i=n==null?void 0:n.token;lP!==i&&(lP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function P8(t=vm()){const e=xa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G9(t,{popupRedirectResolver:b8,persistence:[kz,wz,eL]}),r=hj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=I8(o.toString());gz(n,s,()=>s(n.currentUser)),mz(n,l=>s(l))}}const i=lj("auth");return i&&X9(n,`http://${i}`),n}function O8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=oi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",O8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T8("Browser");const C8={apiKey:"AIzaSyCVxynJ-_Ti-vsyWFTmO9bfJP4bpev6Z2c",authDomain:"my-tracker-ef8f7.firebaseapp.com",projectId:"my-tracker-ef8f7",storageBucket:"my-tracker-ef8f7.firebasestorage.app",messagingSenderId:"317238886538",appId:"1:317238886538:web:75e51fa49b9dab7e6f2d73",measurementId:"G-CJH0CKBKG8"},aT=wj(C8);u9(aT);const qe=P8(aT),je=I5(aT),cP=({value:t,onChange:e})=>{const n=[1,2,3,4,5,6],r=i=>i>t?"bg-gray-300":i<=2?"bg-green-500":i<=4?"bg-yellow-500":"bg-red-500";return E.jsx("div",{className:"flex space-x-1",children:n.map(i=>E.jsx("button",{onClick:()=>e(i),className:`w-6 h-6 rounded-full ${r(i)} border border-gray-500`,title:`Level of difficulty ${i}`},i))})},R8=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState("default"),[i,o]=ie.useState(null),[s,l]=ie.useState(null),[c,h]=ie.useState(!1),p=ie.useRef(null),g=ie.useRef({x:0,y:0});ie.useEffect(()=>{(async()=>{var W;try{const G=wa(vt(je,"projectTrackerGoals"),ba("userId","==",((W=qe.currentUser)==null?void 0:W.uid)||"")),J=await Nr(G),B=[];J.forEach(K=>{B.push({id:K.id,...K.data()})}),e(B)}catch(G){console.error("Error fetching goals:",G)}})()},[]);const y=()=>t.filter(M=>!M.archived),w=()=>t.filter(M=>M.archived),A=M=>{const W=[...M];switch(n){case"alphabet":return W.sort((G,J)=>G.name.localeCompare(J.name));case"date":return W.sort((G,J)=>new Date(G.deadline).getTime()-new Date(J.deadline).getTime());case"difficulty":return W.sort((G,J)=>J.difficulty-G.difficulty);default:return W.sort((G,J)=>G.order-J.order)}},T=M=>{const W=M.milestones.some(J=>J.completed);return M.milestones.every(J=>J.completed)?"Done":W?"In Progress":"Not Started"},x=(M,W)=>{var J;const G=(J=W.target.files)==null?void 0:J[0];if(G){const B=new FileReader;B.onloadend=async()=>{const K=B.result;e(Z=>Z.map(z=>z.id===M?{...z,image:K}:z));try{const Z=ot(je,"projectTrackerGoals",M);await Lt(Z,{image:K})}catch(Z){console.error("Error updating image:",Z)}},B.readAsDataURL(G)}},D=(M,W)=>{const G={id:Date.now().toString(),text:W,timestamp:new Date().toISOString()},J=t.map(B=>B.id===M?{...B,notes:[G,...B.notes]}:B);e(J)},$=async()=>{const M={name:"Project Name",deadline:new Date().toISOString(),status:"Not started",image:null,difficulty:3,milestones:[],notes:[],order:t.length+1,archived:!1,favorite:!1,userId:qe.currentUser?qe.currentUser.uid:""};try{const W=await $n(vt(je,"projectTrackerGoals"),M);e([...t,{id:W.id,...M}])}catch(W){console.error("Error adding new goal:",W)}},U=async M=>{try{await oo(ot(je,"projectTrackerGoals",M)),e(t.filter(W=>W.id!==M))}catch(W){console.error("Error deleting goal:",W)}},F=M=>{const W=t.map(G=>G.id===M?{...G,archived:!G.archived}:G);e(W)},k=M=>{const W=t.map(G=>G.id===M?{...G,favorite:!G.favorite}:G);e(W)},C=(M,W,G)=>{g.current={x:M.clientX,y:M.clientY},p.current=G,o(W),h(!0),setTimeout(()=>{p.current&&(p.current.style.opacity="0.4")},0),M.dataTransfer.effectAllowed="move",M.dataTransfer.setData("text/plain",W)},I=(M,W)=>{M.preventDefault(),M.stopPropagation(),i!==W&&(l(W),M.dataTransfer.dropEffect="move")},O=(M,W)=>{M.preventDefault(),M.stopPropagation(),i!==W&&l(W)},S=M=>{M.preventDefault(),M.stopPropagation(),l(null)},N=(M,W)=>{if(M.preventDefault(),M.stopPropagation(),p.current&&(p.current.style.opacity="1"),i===null||i===W){h(!1),o(null),l(null);return}const G=y(),J=G.findIndex(Y=>Y.id===i),B=G.findIndex(Y=>Y.id===W);if(J<0||B<0){h(!1),o(null),l(null);return}const K=[...G],[Z]=K.splice(J,1);K.splice(B,0,Z),K.forEach((Y,de)=>{Y.order=de+1});const z=w();e([...K,...z]),h(!1),o(null),l(null)},R=M=>{M.preventDefault(),p.current&&(p.current.style.opacity="1"),h(!1),o(null),l(null),p.current=null},V=A(y()),j=w();return E.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[E.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Project Tracker"}),E.jsxs("div",{className:"flex items-center space-x-4 mt-2 sm:mt-0",children:[E.jsxs("select",{value:n,onChange:M=>r(M.target.value),className:"bg-gray-800 text-white p-2 rounded text-sm",children:[E.jsx("option",{value:"default",children:"Standard"}),E.jsx("option",{value:"alphabet",children:"Alphabetisch"}),E.jsx("option",{value:"date",children:"Nach Datum"}),E.jsx("option",{value:"difficulty",children:"Level of difficulty"})]}),E.jsx("button",{onClick:$,className:"p-2 bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors","aria-label":"Add new project",children:E.jsx(kr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:V.map(M=>{const W=M.milestones.length?Math.round(M.milestones.filter(B=>B.completed).length/M.milestones.length*100):0,G=i===M.id,J=s===M.id;return E.jsxs("div",{className:`bg-gray-700/50 p-3 sm:p-4 rounded-lg flex flex-col transition-all duration-200
                ${G?"opacity-50":"opacity-100"}
                ${J?"border-2 border-blue-500 scale-105":"border border-transparent"}`,draggable:!0,onDragStart:B=>C(B,M.id,B.currentTarget),onDragOver:B=>I(B,M.id),onDragEnter:B=>O(B,M.id),onDragLeave:S,onDrop:B=>N(B,M.id),onDragEnd:R,style:{cursor:c?"grabbing":"grab"},children:[E.jsxs("div",{className:"relative mb-3 sm:mb-4",children:[E.jsx("input",{type:"file",accept:"image/*",onChange:B=>x(M.id,B),className:"hidden",id:`goal-${M.id}`}),E.jsx("label",{htmlFor:`goal-${M.id}`,className:"cursor-pointer block",children:M.image?E.jsx("img",{src:M.image,alt:"Goal",className:"w-full h-24 sm:h-32 object-cover rounded"}):E.jsx("div",{className:"w-full h-24 sm:h-32 bg-gray-800 rounded flex items-center justify-center",children:E.jsx(kr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400"})})})]}),E.jsxs("div",{className:"flex flex-col mb-3",children:[E.jsx("div",{className:"flex justify-between items-center",children:E.jsx("input",{type:"text",value:M.name,onChange:B=>e(t.map(K=>K.id===M.id?{...K,name:B.target.value}:K)),className:"bg-transparent font-semibold text-sm sm:text-base outline-none max-w-full"})}),E.jsxs("div",{className:"flex justify-between items-center mt-1",children:[E.jsx("span",{className:"text-xs px-1 py-1 rounded bg-gray-800 whitespace-nowrap",children:M.status}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("button",{onClick:()=>k(M.id),className:`p-1 hover:bg-gray-600 rounded ${M.favorite?"text-yellow-400":""}`,title:"Toggle Favorite","aria-label":"Toggle favorite",children:E.jsx(rj,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),E.jsx("button",{onClick:()=>F(M.id),className:"p-1 hover:bg-gray-600 rounded",title:"Toggle Archive","aria-label":"Toggle archive",children:E.jsx(oa,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),E.jsx("button",{onClick:()=>{window.confirm("Mchtest du dieses Projekt wirklich lschen?")&&U(M.id)},className:"p-1 hover:bg-gray-600 rounded","aria-label":"Delete project",children:E.jsx(mr,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Level of difficulty"}),E.jsx(cP,{value:M.difficulty,onChange:B=>e(t.map(K=>K.id===M.id?{...K,difficulty:B}:K))})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Progress"}),E.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${W}%`}})}),E.jsxs("span",{className:"text-xs",children:[W,"%"]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"text-xs sm:text-sm font-semibold block mb-1",children:"Deadline"}),E.jsx("input",{type:"date",value:M.deadline.split("T")[0],onChange:B=>e(t.map(K=>K.id===M.id?{...K,deadline:new Date(B.target.value).toISOString()}:K)),className:"w-full bg-gray-800 rounded p-2 text-sm"})]}),E.jsxs("div",{className:"space-y-2 mb-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h3",{className:"text-xs sm:text-sm font-semibold",children:"Tasks"}),E.jsx("button",{onClick:()=>e(t.map(B=>B.id===M.id?{...B,milestones:[...B.milestones,{id:Date.now().toString(),name:"New Task",completed:!1}]}:B)),className:"p-1 hover:bg-gray-600 rounded","aria-label":"Add task",children:E.jsx(kr,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),E.jsx("div",{className:"max-h-28 sm:max-h-32 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",children:M.milestones.map(B=>E.jsx(oj,{milestone:B,onToggle:()=>{const K=M.milestones.map(z=>z.id===B.id?{...z,completed:!z.completed}:z),Z={...M,milestones:K,status:T({...M,milestones:K})};e(t.map(z=>z.id===M.id?Z:z))},onUpdate:K=>e(t.map(Z=>({...Z,milestones:Z.id===M.id?Z.milestones.map(z=>z.id===B.id?{...z,name:K}:z):Z.milestones}))),onDelete:()=>e(t.map(K=>({...K,milestones:K.id===M.id?K.milestones.filter(Z=>Z.id!==B.id):K.milestones})))},B.id))})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-h-[120px]",children:[E.jsx("input",{type:"text",placeholder:"Comment",className:"w-full bg-gray-800 rounded p-2 text-sm",onKeyDown:B=>{B.key==="Enter"&&B.target.value.trim()&&(D(M.id,B.target.value.trim()),B.target.value="")}}),E.jsx("div",{className:"flex-1 max-h-28 sm:max-h-32 overflow-y-auto space-y-2 mt-2 pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",children:M.notes.map(B=>E.jsx(sE,{note:B,onDelete:()=>e(t.map(K=>({...K,notes:K.id===M.id?K.notes.filter(Z=>Z.id!==B.id):K.notes})))},B.id))})]})]},M.id)})}),j.length>0&&E.jsxs("div",{className:"mt-8",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Archived Projects"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:j.map(M=>{const W=M.milestones.length?Math.round(M.milestones.filter(G=>G.completed).length/M.milestones.length*100):0;return E.jsxs("div",{className:"bg-gray-700/50 p-3 sm:p-4 rounded-lg flex flex-col opacity-70",children:[E.jsx("div",{className:"relative mb-3 sm:mb-4",children:M.image?E.jsx("img",{src:M.image,alt:"Goal",className:"w-full h-24 sm:h-32 object-cover rounded"}):E.jsx("div",{className:"w-full h-24 sm:h-32 bg-gray-800 rounded flex items-center justify-center",children:E.jsx(kr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})})}),E.jsxs("div",{className:"flex flex-col mb-3",children:[E.jsx("div",{className:"flex justify-between items-center",children:E.jsx("span",{className:"font-semibold text-sm sm:text-base",children:M.name})}),E.jsxs("div",{className:"flex justify-between items-center mt-1",children:[E.jsx("span",{className:"text-xs px-1 py-1 rounded bg-gray-800 whitespace-nowrap",children:M.status}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("button",{onClick:()=>F(M.id),className:"p-1 hover:bg-gray-600 rounded",title:"Toggle Archive","aria-label":"Unarchive project",children:E.jsx(oa,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),E.jsx("button",{onClick:()=>{window.confirm("Mchtest du dieses archivierte Projekt wirklich lschen?")&&U(M.id)},className:"p-1 hover:bg-gray-600 rounded","aria-label":"Delete project",children:E.jsx(mr,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Level of difficulty"}),E.jsx(cP,{value:M.difficulty,onChange:G=>e(t.map(J=>J.id===M.id?{...J,difficulty:G}:J))})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Progress"}),E.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${W}%`}})}),E.jsxs("span",{className:"text-xs",children:[W,"%"]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"text-xs sm:text-sm font-semibold block mb-1",children:"Deadline"}),E.jsx("input",{type:"date",value:M.deadline.split("T")[0],disabled:!0,className:"w-full bg-gray-800 rounded p-2 text-sm cursor-not-allowed"})]})]},M.id)})})]})]})},fP=({value:t,onChange:e})=>{const n=[1,2,3,4,5,6],r=i=>i>t?"bg-gray-300":i<=2?"bg-green-500":i<=4?"bg-yellow-500":"bg-red-500";return E.jsx("div",{className:"flex space-x-1",children:n.map(i=>E.jsx("button",{onClick:()=>e(i),className:`w-6 h-6 rounded-full ${r(i)} border border-gray-500`,title:`Priority Level ${i}`},i))})},k8=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState(null),[i,o]=ie.useState(null),[s,l]=ie.useState(!1),c=ie.useRef(null),h=ie.useRef({x:0,y:0}),[p,g]=ie.useState("default");ie.useEffect(()=>{(async()=>{var W;try{const G=wa(vt(je,"projectGoals"),ba("userId","==",((W=qe.currentUser)==null?void 0:W.uid)||"")),J=await Nr(G),B=[];J.forEach(K=>{B.push({id:K.id,...K.data()})}),e(B)}catch(G){console.error("Error fetching goals:",G)}})()},[]);const y=()=>t.filter(M=>!M.archived),w=()=>t.filter(M=>M.archived),A=M=>{const W=[...M];switch(p){case"alphabet":return W.sort((G,J)=>G.name.localeCompare(J.name));case"date":return W.sort((G,J)=>new Date(G.deadline).getTime()-new Date(J.deadline).getTime());case"difficulty":return W.sort((G,J)=>J.difficulty-G.difficulty);default:return W.sort((G,J)=>G.order-J.order)}},T=M=>{const W=M.milestones.some(J=>J.completed);return M.milestones.every(J=>J.completed)?"Done":W?"In Progress":"Not Started"},x=(M,W)=>{var J;const G=(J=W.target.files)==null?void 0:J[0];if(G){const B=new FileReader;B.onloadend=async()=>{const K=B.result;e(Z=>Z.map(z=>z.id===M?{...z,image:K}:z));try{const Z=ot(je,"projectGoals",M);await Lt(Z,{image:K})}catch(Z){console.error("Error updating image:",Z)}},B.readAsDataURL(G)}},D=async(M,W)=>{const G={id:Date.now().toString(),text:W,timestamp:new Date().toISOString()},J=t.map(B=>B.id===M?{...B,notes:[G,...B.notes]}:B);e(J);try{const B=ot(je,"projectGoals",M),K=J.find(Z=>Z.id===M);K&&await Lt(B,{notes:K.notes})}catch(B){console.error("Error adding note:",B)}},$=async()=>{var W;const M={userId:((W=qe.currentUser)==null?void 0:W.uid)||"",name:"New Goal",deadline:new Date().toISOString(),status:"Not Started",image:null,difficulty:3,milestones:[],notes:[],order:t.length+1,archived:!1,favorite:!1};try{const G=await $n(vt(je,"projectGoals"),M);e([...t,{id:G.id,...M}])}catch(G){console.error("Error adding new goal:",G)}},U=async M=>{try{await oo(ot(je,"projectGoals",M)),e(t.filter(W=>W.id!==M))}catch(W){console.error("Error deleting goal:",W)}},F=async M=>{const W=t.map(G=>G.id===M?{...G,archived:!G.archived}:G);e(W);try{const G=ot(je,"projectGoals",M),J=W.find(B=>B.id===M);J&&await Lt(G,{archived:J.archived})}catch(G){console.error("Error toggling archive:",G)}},k=async M=>{const W=t.map(G=>G.id===M?{...G,favorite:!G.favorite}:G);e(W);try{const G=ot(je,"projectGoals",M),J=W.find(B=>B.id===M);J&&await Lt(G,{favorite:J.favorite})}catch(G){console.error("Error toggling favorite:",G)}},C=(M,W,G)=>{h.current={x:M.clientX,y:M.clientY},c.current=G,r(W),l(!0),setTimeout(()=>{c.current&&(c.current.style.opacity="0.4")},0),M.dataTransfer.effectAllowed="move",M.dataTransfer.setData("text/plain",W)},I=(M,W)=>{M.preventDefault(),M.stopPropagation(),n!==W&&(o(W),M.dataTransfer.dropEffect="move")},O=(M,W)=>{M.preventDefault(),M.stopPropagation(),n!==W&&o(W)},S=M=>{M.preventDefault(),M.stopPropagation(),o(null)},N=async(M,W)=>{if(M.preventDefault(),M.stopPropagation(),c.current&&(c.current.style.opacity="1"),n===null||n===W){l(!1),r(null),o(null);return}const G=y(),J=G.findIndex(Y=>Y.id===n),B=G.findIndex(Y=>Y.id===W);if(J<0||B<0){l(!1),r(null),o(null);return}const K=[...G],[Z]=K.splice(J,1);K.splice(B,0,Z),K.forEach((Y,de)=>{Y.order=de+1});for(const Y of K)try{await Lt(ot(je,"projectGoals",Y.id),{order:Y.order})}catch(de){console.error("Error updating order:",de)}const z=w();e([...K,...z]),l(!1),r(null),o(null)},R=M=>{M.preventDefault(),c.current&&(c.current.style.opacity="1"),l(!1),r(null),o(null),c.current=null},V=A(y()),j=w();return E.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[E.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Goals Tracker"}),E.jsxs("div",{className:"flex items-center space-x-4 mt-2 sm:mt-0",children:[E.jsxs("select",{value:p,onChange:M=>g(M.target.value),className:"bg-gray-800 text-white p-2 rounded text-sm",children:[E.jsx("option",{value:"default",children:"Default"}),E.jsx("option",{value:"alphabet",children:"Alphabetical"}),E.jsx("option",{value:"date",children:"By Date"}),E.jsx("option",{value:"difficulty",children:"By Priority"})]}),E.jsx("button",{onClick:$,className:"p-2 bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors","aria-label":"Add new goal",children:E.jsx(kr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:V.map(M=>{const W=M.milestones.length?Math.round(M.milestones.filter(B=>B.completed).length/M.milestones.length*100):0,G=n===M.id,J=i===M.id;return E.jsxs("div",{className:`bg-gray-700/50 p-3 sm:p-4 rounded-lg flex flex-col transition-all duration-200
                ${G?"opacity-50":"opacity-100"}
                ${J?"border-2 border-blue-500 scale-105":"border border-transparent"}`,draggable:!0,onDragStart:B=>C(B,M.id,B.currentTarget),onDragOver:B=>I(B,M.id),onDragEnter:B=>O(B,M.id),onDragLeave:S,onDrop:B=>N(B,M.id),onDragEnd:R,style:{cursor:s?"grabbing":"grab"},children:[E.jsxs("div",{className:"relative mb-3 sm:mb-4",children:[E.jsx("input",{type:"file",accept:"image/*",onChange:B=>x(M.id,B),className:"hidden",id:`goal-${M.id}`}),E.jsx("label",{htmlFor:`goal-${M.id}`,className:"cursor-pointer block",children:M.image?E.jsx("img",{src:M.image,alt:"Goal",className:"w-full h-24 sm:h-32 object-cover rounded"}):E.jsx("div",{className:"w-full h-24 sm:h-32 bg-gray-800 rounded flex items-center justify-center",children:E.jsx(kr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})})})]}),E.jsxs("div",{className:"flex flex-col mb-3",children:[E.jsx("div",{className:"flex justify-between items-center",children:E.jsx("input",{type:"text",value:M.name,onChange:async B=>{const K=B.target.value;e(t.map(Z=>Z.id===M.id?{...Z,name:K}:Z));try{const Z=ot(je,"projectGoals",M.id);await Lt(Z,{name:K})}catch(Z){console.error("Error updating goal name:",Z)}},className:"bg-transparent font-semibold text-sm sm:text-base outline-none max-w-full"})}),E.jsxs("div",{className:"flex justify-between items-center mt-1",children:[E.jsx("span",{className:"text-xs px-1 py-1 rounded bg-gray-800 whitespace-nowrap",children:M.status}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("button",{onClick:()=>k(M.id),className:`p-1 hover:bg-gray-600 rounded ${M.favorite?"text-yellow-400":""}`,title:"Toggle Favorite","aria-label":"Toggle favorite",children:E.jsx(rj,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),E.jsx("button",{onClick:()=>F(M.id),className:"p-1 hover:bg-gray-600 rounded",title:"Toggle Archive","aria-label":"Toggle archive",children:E.jsx(oa,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),E.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this goal?")&&U(M.id)},className:"p-1 hover:bg-gray-600 rounded","aria-label":"Delete goal",children:E.jsx(mr,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Priority"}),E.jsx(fP,{value:M.difficulty,onChange:B=>{e(t.map(K=>K.id===M.id?{...K,difficulty:B}:K)),Lt(ot(je,"projectGoals",M.id),{difficulty:B}).catch(K=>{console.error("Error updating difficulty:",K)})}})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Progress"}),E.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${W}%`}})}),E.jsxs("span",{className:"text-xs",children:[W,"%"]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"text-xs sm:text-sm font-semibold block mb-1",children:"Deadline"}),E.jsx("input",{type:"date",value:M.deadline.split("T")[0],onChange:async B=>{const K=new Date(B.target.value).toISOString();e(t.map(Z=>Z.id===M.id?{...Z,deadline:K}:Z));try{const Z=ot(je,"projectGoals",M.id);await Lt(Z,{deadline:K})}catch(Z){console.error("Error updating deadline:",Z)}},className:"w-full bg-gray-800 rounded p-2 text-sm"})]}),E.jsxs("div",{className:"space-y-2 mb-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h3",{className:"text-xs sm:text-sm font-semibold",children:"Tasks"}),E.jsx("button",{onClick:async()=>{const B=[...M.milestones,{id:Date.now().toString(),name:"New Task",completed:!1}];e(t.map(K=>K.id===M.id?{...K,milestones:B}:K));try{const K=ot(je,"projectGoals",M.id);await Lt(K,{milestones:B})}catch(K){console.error("Error adding task:",K)}},className:"p-1 hover:bg-gray-600 rounded","aria-label":"Add task",children:E.jsx(kr,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),E.jsx("div",{className:"max-h-28 sm:max-h-32 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",children:M.milestones.map(B=>E.jsx(oj,{milestone:B,onToggle:async()=>{const K=M.milestones.map(z=>z.id===B.id?{...z,completed:!z.completed}:z),Z={...M,milestones:K,status:T({...M,milestones:K})};e(t.map(z=>z.id===M.id?Z:z));try{const z=ot(je,"projectGoals",M.id);await Lt(z,{milestones:K,status:Z.status})}catch(z){console.error("Error toggling milestone:",z)}},onUpdate:async K=>{const Z=M.milestones.map(z=>z.id===B.id?{...z,name:K}:z);e(t.map(z=>z.id===M.id?{...z,milestones:Z}:z));try{const z=ot(je,"projectGoals",M.id);await Lt(z,{milestones:Z})}catch(z){console.error("Error updating milestone:",z)}},onDelete:async()=>{const K=M.milestones.filter(Z=>Z.id!==B.id);e(t.map(Z=>Z.id===M.id?{...Z,milestones:K}:Z));try{const Z=ot(je,"projectGoals",M.id);await Lt(Z,{milestones:K})}catch(Z){console.error("Error deleting milestone:",Z)}}},B.id))})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-h-[120px]",children:[E.jsx("input",{type:"text",placeholder:"Comments",className:"w-full bg-gray-800 rounded p-2 text-sm",onKeyDown:B=>{B.key==="Enter"&&B.target.value.trim()&&(D(M.id,B.target.value.trim()),B.target.value="")}}),E.jsx("div",{className:"flex-1 max-h-28 sm:max-h-32 overflow-y-auto space-y-2 mt-2 pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",children:M.notes.map(B=>E.jsx(sE,{note:B,onDelete:async()=>{const K=M.notes.filter(Z=>Z.id!==B.id);e(t.map(Z=>Z.id===M.id?{...Z,notes:K}:Z));try{const Z=ot(je,"projectGoals",M.id);await Lt(Z,{notes:K})}catch(Z){console.error("Error deleting note:",Z)}}},B.id))})]})]},M.id)})}),j.length>0&&E.jsxs("div",{className:"mt-8",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Archived Goals"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:j.map(M=>{const W=M.milestones.length?Math.round(M.milestones.filter(G=>G.completed).length/M.milestones.length*100):0;return E.jsxs("div",{className:"bg-gray-700/50 p-3 sm:p-4 rounded-lg flex flex-col opacity-70",children:[E.jsx("div",{className:"relative mb-3 sm:mb-4",children:M.image?E.jsx("img",{src:M.image,alt:"Goal",className:"w-full h-24 sm:h-32 object-cover rounded"}):E.jsx("div",{className:"w-full h-24 sm:h-32 bg-gray-800 rounded flex items-center justify-center",children:E.jsx(kr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})})}),E.jsxs("div",{className:"flex flex-col mb-3",children:[E.jsx("div",{className:"flex justify-between items-center",children:E.jsx("span",{className:"font-semibold text-sm sm:text-base",children:M.name})}),E.jsxs("div",{className:"flex justify-between items-center mt-1",children:[E.jsx("span",{className:"text-xs px-1 py-1 rounded bg-gray-800 whitespace-nowrap",children:M.status}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("button",{onClick:()=>F(M.id),className:"p-1 hover:bg-gray-600 rounded",title:"Toggle Archive","aria-label":"Toggle archive",children:E.jsx(oa,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),E.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this goal?")&&U(M.id)},className:"p-1 hover:bg-gray-600 rounded","aria-label":"Delete goal",children:E.jsx(mr,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Priority"}),E.jsx(fP,{value:M.difficulty,onChange:G=>{e(t.map(J=>J.id===M.id?{...J,difficulty:G}:J)),Lt(ot(je,"projectGoals",M.id),{difficulty:G}).catch(J=>{console.error("Error updating difficulty:",J)})}})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("span",{className:"block text-xs sm:text-sm font-semibold mb-1",children:"Progress"}),E.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${W}%`}})}),E.jsxs("span",{className:"text-xs",children:[W,"%"]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"text-xs sm:text-sm font-semibold block mb-1",children:"Deadline"}),E.jsx("input",{type:"date",value:M.deadline.split("T")[0],onChange:async G=>{const J=new Date(G.target.value).toISOString();e(t.map(B=>B.id===M.id?{...B,deadline:J}:B));try{const B=ot(je,"projectGoals",M.id);await Lt(B,{deadline:J})}catch(B){console.error("Error updating deadline:",B)}},className:"w-full bg-gray-800 rounded p-2 text-sm"})]})]},M.id)})})]})]})},hP=[{id:5,label:"Excellent",color:"bg-green-500",emoji:""},{id:4,label:"Good",color:"bg-blue-500",emoji:""},{id:3,label:"Neutral",color:"bg-yellow-500",emoji:""},{id:2,label:"Poor",color:"bg-orange-500",emoji:""},{id:1,label:"Bad",color:"bg-red-500",emoji:""}],N8=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState("all");ie.useEffect(()=>{(async()=>{try{const h=wa(vt(je,"moodEntries"),ba("userId","==",qe.currentUser?qe.currentUser.uid:"")),p=await Nr(h),g=[];p.forEach(y=>{g.push({id:y.id,...y.data()})}),e(g)}catch(h){console.error("Fehler beim Laden der Eintrge:",h)}})()},[]);const i=async c=>{try{const h={mood:c,timestamp:new Date().toISOString(),notes:[],userId:qe.currentUser?qe.currentUser.uid:null},p=await $n(vt(je,"moodEntries"),h);e([{id:p.id,...h},...t])}catch(h){console.error("Fehler beim Hinzufgen des Eintrags:",h)}},o=async(c,h)=>{if(h.trim()){const p=t.map(g=>{if(g.id===c){const y={id:Date.now().toString(),text:h.trim(),timestamp:new Date().toISOString()};return{...g,notes:[...g.notes||[],y]}}return g});e(p);try{const g=ot(je,"moodEntries",c),y=p.find(w=>w.id===c);y&&await Lt(g,{notes:y.notes})}catch(g){console.error("Fehler beim Hinzufgen der Notiz:",g)}}},s=async c=>{try{await oo(ot(je,"moodEntries",c)),e(t.filter(h=>h.id!==c))}catch(h){console.error("Fehler beim Lschen des Eintrags:",h)}},l=n==="all"?t:t.filter(c=>c.mood.id===parseInt(n));return E.jsxs("div",{className:"w-full space-y-6 p-4",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[E.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Mood Tracker"}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsxs("select",{value:n,onChange:c=>r(c.target.value),className:"w-full sm:w-auto bg-gray-800 p-2 rounded text-sm sm:text-base",children:[E.jsx("option",{value:"all",children:"All Moods"}),hP.map(c=>E.jsxs("option",{value:c.id,children:[c.label," Only"]},c.id))]}),E.jsx("div",{className:"flex space-x-2",children:E.jsx("button",{onClick:()=>console.log("Export funktioniert hier noch nur lokal!"),className:"flex items-center space-x-1 p-2 bg-green-500 rounded-lg hover:bg-green-600 transition-colors",title:"Export Entries",children:E.jsx(nj,{className:"w-4 h-4"})})})]})]}),E.jsx("div",{className:"flex flex-wrap sm:flex-nowrap justify-center gap-2 sm:gap-4",children:hP.map(c=>E.jsx("button",{onClick:()=>i(c),className:`w-12 h-12 sm:w-16 sm:h-16 rounded-full transition-all
              hover:opacity-80 ${c.color} flex items-center justify-center
              text-xl sm:text-2xl shadow-lg hover:scale-110
              active:scale-95 transform duration-150`,title:c.label,children:c.emoji},c.id))}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(c=>E.jsxs("div",{className:`p-3 sm:p-4 rounded-lg ${c.mood.color} bg-opacity-20
              backdrop-blur-sm transition-all duration-300 hover:bg-opacity-25`,children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2 mb-2",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("span",{className:"text-xl sm:text-2xl",children:c.mood.emoji}),E.jsx("span",{className:"font-medium text-sm sm:text-base",children:c.mood.label})]}),E.jsxs("div",{className:"flex items-center justify-between sm:justify-end w-full sm:w-auto gap-2",children:[E.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:new Date(c.timestamp).toLocaleString()}),E.jsx("button",{onClick:()=>{window.confirm("Mchtest du diesen Eintrag wirklich lschen?")&&s(c.id)},className:"p-1 hover:bg-gray-600 rounded transition-colors",children:E.jsx(mr,{className:"w-4 h-4"})})]})]}),E.jsx("input",{type:"text",placeholder:"Add a note and press Enter...",className:`w-full bg-gray-800 rounded p-2 mt-2 text-sm sm:text-base
                placeholder:text-gray-500 focus:outline-none focus:ring-2
                focus:ring-blue-500 transition-all`,onKeyDown:h=>{h.key==="Enter"&&h.target.value.trim()&&(o(c.id,h.target.value),h.target.value="")}}),E.jsx("div",{className:"space-y-2 mt-2",children:c.notes&&c.notes.map(h=>E.jsx(sE,{note:h,onDelete:()=>{const p=t.map(g=>({...g,notes:g.id===c.id?g.notes.filter(y=>y.id!==h.id):g.notes}));e(p)}},h.id))})]},c.id))}),l.length===0&&E.jsxs("div",{className:"text-center py-8 text-gray-400",children:[E.jsx("p",{className:"text-lg",children:"No mood entries yet."}),E.jsx("p",{className:"text-sm mt-2",children:"Click on any mood button above to start tracking!"})]})]})};function uL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uL(t))&&(r&&(r+=" "),r+=e);return r}var dv,dP;function nr(){if(dP)return dv;dP=1;var t=Array.isArray;return dv=t,dv}var pv,pP;function lL(){if(pP)return pv;pP=1;var t=typeof Td=="object"&&Td&&Td.Object===Object&&Td;return pv=t,pv}var mv,mP;function Mi(){if(mP)return mv;mP=1;var t=lL(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return mv=n,mv}var gv,gP;function Zf(){if(gP)return gv;gP=1;var t=Mi(),e=t.Symbol;return gv=e,gv}var yv,yP;function j8(){if(yP)return yv;yP=1;var t=Zf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var h=!0}catch{}var p=r.call(s);return h&&(l?s[i]=c:delete s[i]),p}return yv=o,yv}var vv,vP;function D8(){if(vP)return vv;vP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return vv=n,vv}var _v,_P;function So(){if(_P)return _v;_P=1;var t=Zf(),e=j8(),n=D8(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return _v=s,_v}var wv,wP;function Ao(){if(wP)return wv;wP=1;function t(e){return e!=null&&typeof e=="object"}return wv=t,wv}var bv,bP;function Sl(){if(bP)return bv;bP=1;var t=So(),e=Ao(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return bv=r,bv}var xv,xP;function sT(){if(xP)return xv;xP=1;var t=nr(),e=Sl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return xv=i,xv}var Ev,EP;function Ia(){if(EP)return Ev;EP=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Ev=t,Ev}var Tv,TP;function uT(){if(TP)return Tv;TP=1;var t=So(),e=Ia(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return Tv=s,Tv}var Sv,SP;function M8(){if(SP)return Sv;SP=1;var t=Mi(),e=t["__core-js_shared__"];return Sv=e,Sv}var Av,AP;function L8(){if(AP)return Av;AP=1;var t=M8(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Av=n,Av}var Iv,IP;function cL(){if(IP)return Iv;IP=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Iv=n,Iv}var Pv,PP;function $8(){if(PP)return Pv;PP=1;var t=uT(),e=L8(),n=Ia(),r=cL(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,h=l.hasOwnProperty,p=RegExp("^"+c.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!n(y)||e(y))return!1;var w=t(y)?p:o;return w.test(r(y))}return Pv=g,Pv}var Ov,OP;function V8(){if(OP)return Ov;OP=1;function t(e,n){return e==null?void 0:e[n]}return Ov=t,Ov}var Cv,CP;function Ms(){if(CP)return Cv;CP=1;var t=$8(),e=V8();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return Cv=n,Cv}var Rv,RP;function qm(){if(RP)return Rv;RP=1;var t=Ms(),e=t(Object,"create");return Rv=e,Rv}var kv,kP;function U8(){if(kP)return kv;kP=1;var t=qm();function e(){this.__data__=t?t(null):{},this.size=0}return kv=e,kv}var Nv,NP;function F8(){if(NP)return Nv;NP=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Nv=t,Nv}var jv,jP;function q8(){if(jP)return jv;jP=1;var t=qm(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return r.call(s,o)?s[o]:void 0}return jv=i,jv}var Dv,DP;function B8(){if(DP)return Dv;DP=1;var t=qm(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Dv=r,Dv}var Mv,MP;function z8(){if(MP)return Mv;MP=1;var t=qm(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Mv=n,Mv}var Lv,LP;function H8(){if(LP)return Lv;LP=1;var t=U8(),e=F8(),n=q8(),r=B8(),i=z8();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var h=s[l];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Lv=o,Lv}var $v,$P;function W8(){if($P)return $v;$P=1;function t(){this.__data__=[],this.size=0}return $v=t,$v}var Vv,VP;function lT(){if(VP)return Vv;VP=1;function t(e,n){return e===n||e!==e&&n!==n}return Vv=t,Vv}var Uv,UP;function Bm(){if(UP)return Uv;UP=1;var t=lT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Uv=e,Uv}var Fv,FP;function G8(){if(FP)return Fv;FP=1;var t=Bm(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():n.call(o,s,1),--this.size,!0}return Fv=r,Fv}var qv,qP;function K8(){if(qP)return qv;qP=1;var t=Bm();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return qv=e,qv}var Bv,BP;function X8(){if(BP)return Bv;BP=1;var t=Bm();function e(n){return t(this.__data__,n)>-1}return Bv=e,Bv}var zv,zP;function Q8(){if(zP)return zv;zP=1;var t=Bm();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return zv=e,zv}var Hv,HP;function zm(){if(HP)return Hv;HP=1;var t=W8(),e=G8(),n=K8(),r=X8(),i=Q8();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var h=s[l];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Hv=o,Hv}var Wv,WP;function cT(){if(WP)return Wv;WP=1;var t=Ms(),e=Mi(),n=t(e,"Map");return Wv=n,Wv}var Gv,GP;function Y8(){if(GP)return Gv;GP=1;var t=H8(),e=zm(),n=cT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Gv=r,Gv}var Kv,KP;function J8(){if(KP)return Kv;KP=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Kv=t,Kv}var Xv,XP;function Hm(){if(XP)return Xv;XP=1;var t=J8();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Xv=e,Xv}var Qv,QP;function Z8(){if(QP)return Qv;QP=1;var t=Hm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Qv=e,Qv}var Yv,YP;function eH(){if(YP)return Yv;YP=1;var t=Hm();function e(n){return t(this,n).get(n)}return Yv=e,Yv}var Jv,JP;function tH(){if(JP)return Jv;JP=1;var t=Hm();function e(n){return t(this,n).has(n)}return Jv=e,Jv}var Zv,ZP;function nH(){if(ZP)return Zv;ZP=1;var t=Hm();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Zv=e,Zv}var e0,eO;function fT(){if(eO)return e0;eO=1;var t=Y8(),e=Z8(),n=eH(),r=tH(),i=nH();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var h=s[l];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,e0=o,e0}var t0,tO;function fL(){if(tO)return t0;tO=1;var t=fT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var h=r.apply(this,s);return o.cache=c.set(l,h)||c,h};return o.cache=new(n.Cache||t),o}return n.Cache=t,t0=n,t0}var n0,nO;function rH(){if(nO)return n0;nO=1;var t=fL(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return n0=n,n0}var r0,rO;function iH(){if(rO)return r0;rO=1;var t=rH(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,h){o.push(c?h.replace(n,"$1"):l||s)}),o});return r0=r,r0}var i0,iO;function hT(){if(iO)return i0;iO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return i0=t,i0}var o0,oO;function oH(){if(oO)return o0;oO=1;var t=Zf(),e=hT(),n=nr(),r=Sl(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return o0=s,o0}var a0,aO;function hL(){if(aO)return a0;aO=1;var t=oH();function e(n){return n==null?"":t(n)}return a0=e,a0}var s0,sO;function dL(){if(sO)return s0;sO=1;var t=nr(),e=sT(),n=iH(),r=hL();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return s0=i,s0}var u0,uO;function Wm(){if(uO)return u0;uO=1;var t=Sl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return u0=e,u0}var l0,lO;function dT(){if(lO)return l0;lO=1;var t=dL(),e=Wm();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return l0=n,l0}var c0,cO;function pL(){if(cO)return c0;cO=1;var t=dT();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return c0=e,c0}var aH=pL();const Ci=gt(aH);var f0,fO;function sH(){if(fO)return f0;fO=1;function t(e){return e==null}return f0=t,f0}var uH=sH();const lt=gt(uH);var h0,hO;function lH(){if(hO)return h0;hO=1;var t=So(),e=nr(),n=Ao(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return h0=i,h0}var cH=lH();const eh=gt(cH);var fH=uT();const Je=gt(fH);var hH=Ia();const Al=gt(hH);var d0={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO;function dH(){if(dO)return ct;dO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function T(x){if(typeof x=="object"&&x!==null){var D=x.$$typeof;switch(D){case t:switch(x=x.type,x){case n:case i:case r:case h:case p:return x;default:switch(x=x&&x.$$typeof,x){case l:case s:case c:case y:case g:case o:return x;default:return D}}case e:return D}}}return ct.ContextConsumer=s,ct.ContextProvider=o,ct.Element=t,ct.ForwardRef=c,ct.Fragment=n,ct.Lazy=y,ct.Memo=g,ct.Portal=e,ct.Profiler=i,ct.StrictMode=r,ct.Suspense=h,ct.SuspenseList=p,ct.isAsyncMode=function(){return!1},ct.isConcurrentMode=function(){return!1},ct.isContextConsumer=function(x){return T(x)===s},ct.isContextProvider=function(x){return T(x)===o},ct.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},ct.isForwardRef=function(x){return T(x)===c},ct.isFragment=function(x){return T(x)===n},ct.isLazy=function(x){return T(x)===y},ct.isMemo=function(x){return T(x)===g},ct.isPortal=function(x){return T(x)===e},ct.isProfiler=function(x){return T(x)===i},ct.isStrictMode=function(x){return T(x)===r},ct.isSuspense=function(x){return T(x)===h},ct.isSuspenseList=function(x){return T(x)===p},ct.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===h||x===p||x===w||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===g||x.$$typeof===o||x.$$typeof===s||x.$$typeof===c||x.$$typeof===A||x.getModuleId!==void 0)},ct.typeOf=T,ct}var pO;function pH(){return pO||(pO=1,d0.exports=dH()),d0.exports}var mH=pH(),p0,mO;function mL(){if(mO)return p0;mO=1;var t=So(),e=Ao(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return p0=r,p0}var m0,gO;function gH(){if(gO)return m0;gO=1;var t=mL();function e(n){return t(n)&&n!=+n}return m0=e,m0}var yH=gH();const th=gt(yH);var vH=mL();const _H=gt(vH);var sa=function(e){return e===0?0:e>0?1:-1},ps=function(e){return eh(e)&&e.indexOf("%")===e.length-1},Oe=function(e){return _H(e)&&!th(e)},tn=function(e){return Oe(e)||eh(e)},wH=0,pT=function(e){var n=++wH;return"".concat(e||"").concat(n)},Ei=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&!eh(e))return r;var o;if(ps(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return th(o)&&(o=r),i&&o>n&&(o=n),o},Nu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},bH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Dd=function(e,n){return Oe(e)&&Oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Hb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ci(r,e))===n})}function Wb(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}var xH=["viewBox","children"],EH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yO=["points","pathLength"],g0={svg:xH,polygon:yO,polyline:yO},mT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Op=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ie.isValidElement(e)&&(r=e.props),!Al(r))return null;var i={};return Object.keys(r).forEach(function(o){mT.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},TH=function(e,n,r){return function(i){return e(n,r,i),null}},gT=function(e,n,r){if(!Al(e)||Gb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];mT.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=TH(s,n,r))}),i},SH=["children"],AH=["children"];function vO(t,e){if(t==null)return{};var n=IH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _O={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ho=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},wO=null,y0=null,yT=function t(e){if(e===wO&&Array.isArray(y0))return y0;var n=[];return ie.Children.forEach(e,function(r){lt(r)||(mH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),y0=n,wO=e,n};function po(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ho(i)}):r=[ho(e)],yT(t).forEach(function(i){var o=Ci(i,"type.displayName")||Ci(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Rr(t,e){var n=po(t,e);return n&&n[0]}var bO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Oe(r)||r<=0||!Oe(i)||i<=0)},PH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OH=function(e){return e&&e.type&&eh(e.type)&&PH.indexOf(e.type)>=0},CH=function(e,n,r,i){var o,s=(o=g0==null?void 0:g0[i])!==null&&o!==void 0?o:[];return!Je(e)&&(i&&s.includes(n)||EH.includes(n))||r&&mT.includes(n)},Ke=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ie.isValidElement(e)&&(i=e.props),!Al(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;CH((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(o[s]=i[s])}),o},Kb=function t(e,n){if(e===n)return!0;var r=ie.Children.count(e);if(r!==ie.Children.count(n))return!1;if(r===0)return!0;if(r===1)return xO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!xO(o,s))return!1}return!0},xO=function(e,n){if(lt(e)&&lt(n))return!0;if(!lt(e)&&!lt(n)){var r=e.props||{},i=r.children,o=vO(r,SH),s=n.props||{},l=s.children,c=vO(s,AH);return i&&l?Wb(o,c)&&Kb(i,l):!i&&!l?Wb(o,c):!1}return!1},EO=function(e,n){var r=[],i={};return yT(e).forEach(function(o,s){if(OH(o))r.push(o);else if(o){var l=ho(o.type),c=n[l]||{},h=c.handler,p=c.once;if(h&&(!p||!i[l])){var g=h(o,l,s);r.push(g),i[l]=!0}}}),r},RH=function(e){var n=e&&e.type;return n&&_O[n]?_O[n]:null},kH=function(e,n){return yT(n).indexOf(e)},NH=["children","width","height","viewBox","className","style","title","desc"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function jH(t,e){if(t==null)return{};var n=DH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,h=jH(t,NH),p=i||{width:n,height:r,x:0,y:0},g=st("recharts-surface",o);return ne.createElement("svg",Xb({},Ke(h,!0,"svg"),{className:g,width:n,height:r,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),ne.createElement("title",null,l),ne.createElement("desc",null,c),e)}var MH=["children","className"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function LH(t,e){if(t==null)return{};var n=$H(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $H(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var on=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=LH(t,MH),o=st("recharts-layer",r);return ne.createElement("g",Yb({className:o},Ke(i,!0),{ref:e}),n)}),ys=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},v0,TO;function VH(){if(TO)return v0;TO=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return v0=t,v0}var _0,SO;function UH(){if(SO)return _0;SO=1;var t=VH();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return _0=e,_0}var w0,AO;function gL(){if(AO)return w0;AO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(h){return l.test(h)}return w0=c,w0}var b0,IO;function FH(){if(IO)return b0;IO=1;function t(e){return e.split("")}return b0=t,b0}var x0,PO;function qH(){if(PO)return x0;PO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+c+")",p="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",A=h+"?",T="["+o+"]?",x="(?:"+w+"(?:"+[p,g,y].join("|")+")"+T+A+")*",D=T+A+x,$="(?:"+[p+l+"?",l,g,y,s].join("|")+")",U=RegExp(c+"(?="+c+")|"+$+D,"g");function F(k){return k.match(U)||[]}return x0=F,x0}var E0,OO;function BH(){if(OO)return E0;OO=1;var t=FH(),e=gL(),n=qH();function r(i){return e(i)?n(i):t(i)}return E0=r,E0}var T0,CO;function zH(){if(CO)return T0;CO=1;var t=UH(),e=gL(),n=BH(),r=hL();function i(o){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),h=l?t(l,1).join(""):s.slice(1);return c[o]()+h}}return T0=i,T0}var S0,RO;function HH(){if(RO)return S0;RO=1;var t=zH(),e=t("toUpperCase");return S0=e,S0}var WH=HH();const Gm=gt(WH);function Tt(t){return function(){return t}}const yL=Math.cos,Cp=Math.sin,li=Math.sqrt,Rp=Math.PI,Km=2*Rp,Jb=Math.PI,Zb=2*Jb,us=1e-6,GH=Zb-us;function vL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function KH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class XH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vL:KH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-e,h=i-n,p=s-e,g=l-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>us)if(!(Math.abs(g*c-h*p)>us)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-s,A=i-l,T=c*c+h*h,x=w*w+A*A,D=Math.sqrt(T),$=Math.sqrt(y),U=o*Math.tan((Jb-Math.acos((T+y-x)/(2*D*$)))/2),F=U/$,k=U/D;Math.abs(F-1)>us&&this._append`L${e+F*p},${n+F*g}`,this._append`A${o},${o},0,0,${+(g*w>p*A)},${this._x1=e+k*c},${this._y1=n+k*h}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),h=e+l,p=n+c,g=1^s,y=s?i-o:o-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>us||Math.abs(this._y1-p)>us)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%Zb+Zb),y>GH?this._append`A${r},${r},0,1,${g},${e-l},${n-c}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:y>us&&this._append`A${r},${r},0,${+(y>=Jb)},${g},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new XH(e)}function _T(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xm(t){return new _L(t)}function wL(t){return t[0]}function bL(t){return t[1]}function xL(t,e){var n=Tt(!0),r=null,i=Xm,o=null,s=vT(l);t=typeof t=="function"?t:t===void 0?wL:Tt(t),e=typeof e=="function"?e:e===void 0?bL:Tt(e);function l(c){var h,p=(c=_T(c)).length,g,y=!1,w;for(r==null&&(o=i(w=s())),h=0;h<=p;++h)!(h<p&&n(g=c[h],h,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(g,h,c),+e(g,h,c));if(w)return o=null,w+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Tt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Tt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Tt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function Md(t,e,n){var r=null,i=Tt(!0),o=null,s=Xm,l=null,c=vT(h);t=typeof t=="function"?t:t===void 0?wL:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?bL:Tt(+n);function h(g){var y,w,A,T=(g=_T(g)).length,x,D=!1,$,U=new Array(T),F=new Array(T);for(o==null&&(l=s($=c())),y=0;y<=T;++y){if(!(y<T&&i(x=g[y],y,g))===D)if(D=!D)w=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),A=y-1;A>=w;--A)l.point(U[A],F[A]);l.lineEnd(),l.areaEnd()}D&&(U[y]=+t(x,y,g),F[y]=+e(x,y,g),l.point(r?+r(x,y,g):U[y],n?+n(x,y,g):F[y]))}if($)return l=null,$+""||null}function p(){return xL().defined(i).curve(s).context(o)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Tt(!!g),h):i},h.curve=function(g){return arguments.length?(s=g,o!=null&&(l=s(o)),h):s},h.context=function(g){return arguments.length?(g==null?o=l=null:l=s(o=g),h):o},h}class EL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function QH(t){return new EL(t,!0)}function YH(t){return new EL(t,!1)}const wT={draw(t,e){const n=li(e/Rp);t.moveTo(n,0),t.arc(0,0,n,0,Km)}},JH={draw(t,e){const n=li(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TL=li(1/3),ZH=TL*2,eW={draw(t,e){const n=li(e/ZH),r=n*TL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tW={draw(t,e){const n=li(e),r=-n/2;t.rect(r,r,n,n)}},nW=.8908130915292852,SL=Cp(Rp/10)/Cp(7*Rp/10),rW=Cp(Km/10)*SL,iW=-yL(Km/10)*SL,oW={draw(t,e){const n=li(e*nW),r=rW*n,i=iW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Km*o/5,l=yL(s),c=Cp(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},A0=li(3),aW={draw(t,e){const n=-li(e/(A0*3));t.moveTo(0,n*2),t.lineTo(-A0*n,-n),t.lineTo(A0*n,-n),t.closePath()}},Or=-.5,Cr=li(3)/2,ex=1/li(12),sW=(ex/2+1)*3,uW={draw(t,e){const n=li(e/sW),r=n/2,i=n*ex,o=r,s=n*ex+n,l=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(Or*r-Cr*i,Cr*r+Or*i),t.lineTo(Or*o-Cr*s,Cr*o+Or*s),t.lineTo(Or*l-Cr*c,Cr*l+Or*c),t.lineTo(Or*r+Cr*i,Or*i-Cr*r),t.lineTo(Or*o+Cr*s,Or*s-Cr*o),t.lineTo(Or*l+Cr*c,Or*c-Cr*l),t.closePath()}};function lW(t,e){let n=null,r=vT(i);t=typeof t=="function"?t:Tt(t||wT),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function kp(){}function Np(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function AL(t){this._context=t}AL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cW(t){return new AL(t)}function IL(t){this._context=t}IL.prototype={areaStart:kp,areaEnd:kp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fW(t){return new IL(t)}function PL(t){this._context=t}PL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hW(t){return new PL(t)}function OL(t){this._context=t}OL.prototype={areaStart:kp,areaEnd:kp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function dW(t){return new OL(t)}function kO(t){return t<0?-1:1}function NO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(kO(o)+kO(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function jO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function I0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,s-l*n,o,s)}function jp(t){this._context=t}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:I0(this,this._t0,jO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,I0(this,jO(this,n=NO(this,t,e)),n);break;default:I0(this,this._t0,n=NO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function CL(t){this._context=new RL(t)}(CL.prototype=Object.create(jp.prototype)).point=function(t,e){jp.prototype.point.call(this,e,t)};function RL(t){this._context=t}RL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function pW(t){return new jp(t)}function mW(t){return new CL(t)}function kL(t){this._context=t}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=DO(t),i=DO(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gW(t){return new kL(t)}function Qm(t,e){this._context=t,this._t=e}Qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yW(t){return new Qm(t,.5)}function vW(t){return new Qm(t,0)}function _W(t){return new Qm(t,1)}function Yu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,l=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function tx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function wW(t,e){return t[e]}function bW(t){const e=[];return e.key=t,e}function xW(){var t=Tt([]),e=tx,n=Yu,r=wW;function i(o){var s=Array.from(t.apply(this,arguments),bW),l,c=s.length,h=-1,p;for(const g of o)for(l=0,++h;l<c;++l)(s[l][h]=[0,+r(g,s[l].key,h,o)]).data=g;for(l=0,p=_T(e(s));l<c;++l)s[p[l]].index=l;return n(s,p),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Tt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?tx:typeof o=="function"?o:Tt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Yu,i):n},i}function EW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Yu(t,e)}}function TW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Yu(t,e)}}function SW(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,c=0,h=0;l<s;++l){for(var p=t[e[l]],g=p[r][1]||0,y=p[r-1][1]||0,w=(g-y)/2,A=0;A<l;++A){var T=t[e[A]],x=T[r][1]||0,D=T[r-1][1]||0;w+=x-D}c+=g,h+=w*g}i[r-1][1]+=i[r-1][0]=n,c&&(n-=h/c)}i[r-1][1]+=i[r-1][0]=n,Yu(t,e)}}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var AW=["type","size","sizeType"];function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){IW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IW(t,e,n){return e=PW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=OW(t,"string");return uf(e)=="symbol"?e:e+""}function OW(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CW(t,e){if(t==null)return{};var n=RW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NL={symbolCircle:wT,symbolCross:JH,symbolDiamond:eW,symbolSquare:tW,symbolStar:oW,symbolTriangle:aW,symbolWye:uW},kW=Math.PI/180,NW=function(e){var n="symbol".concat(Gm(e));return NL[n]||wT},jW=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},DW=function(e,n){NL["symbol".concat(Gm(e))]=n},jL=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=CW(e,AW),h=LO(LO({},c),{},{type:r,size:o,sizeType:l}),p=function(){var x=NW(r),D=lW().type(x).size(jW(o,l,r));return D()},g=h.className,y=h.cx,w=h.cy,A=Ke(h,!0);return y===+y&&w===+w&&o===+o?ne.createElement("path",nx({},A,{className:st("recharts-symbols",g),transform:"translate(".concat(y,", ").concat(w,")"),d:p()})):null};jL.registerSymbol=DW;function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){lf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ML(r.key),r)}}function VW(t,e,n){return e&&$W(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UW(t,e,n){return e=Dp(e),FW(t,DL()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function FW(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qW(t)}function qW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function BW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(t,e)}function lf(t,e,n){return e=ML(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ML(t){var e=zW(t,"string");return Ju(e)=="symbol"?e:e+""}function zW(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=32,bT=function(t){function e(){return LW(this,e),UW(this,e,arguments)}return BW(e,t),VW(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ni/2,s=ni/6,l=ni/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ni,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(ni,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var h=MW({},r);return delete h.legendIcon,ne.cloneElement(r.legendIcon,h)}return ne.createElement(jL,{fill:c,cx:o,cy:o,size:ni,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:ni,height:ni},g={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(w,A){var T=w.formatter||c,x=st(lf(lf({"recharts-legend-item":!0},"legend-item-".concat(A),!0),"inactive",w.inactive));if(w.type==="none")return null;var D=Je(w.value)?null:w.value;ys(!Je(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var $=w.inactive?h:w.color;return ne.createElement("li",rx({className:x,style:g,key:"legend-item-".concat(A)},gT(r.props,w,A)),ne.createElement(Qb,{width:s,height:s,viewBox:p,style:y},r.renderIcon(w)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:$}},T?T(D,w,A):D))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(ie.PureComponent);lf(bT,"displayName","Legend");lf(bT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var P0,VO;function HW(){if(VO)return P0;VO=1;var t=zm();function e(){this.__data__=new t,this.size=0}return P0=e,P0}var O0,UO;function WW(){if(UO)return O0;UO=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return O0=t,O0}var C0,FO;function GW(){if(FO)return C0;FO=1;function t(e){return this.__data__.get(e)}return C0=t,C0}var R0,qO;function KW(){if(qO)return R0;qO=1;function t(e){return this.__data__.has(e)}return R0=t,R0}var k0,BO;function XW(){if(BO)return k0;BO=1;var t=zm(),e=cT(),n=fT(),r=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,s),this.size=l.size,this}return k0=i,k0}var N0,zO;function LL(){if(zO)return N0;zO=1;var t=zm(),e=HW(),n=WW(),r=GW(),i=KW(),o=XW();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,N0=s,N0}var j0,HO;function QW(){if(HO)return j0;HO=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return j0=e,j0}var D0,WO;function YW(){if(WO)return D0;WO=1;function t(e){return this.__data__.has(e)}return D0=t,D0}var M0,GO;function $L(){if(GO)return M0;GO=1;var t=fT(),e=QW(),n=YW();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,M0=r,M0}var L0,KO;function VL(){if(KO)return L0;KO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return L0=t,L0}var $0,XO;function UL(){if(XO)return $0;XO=1;function t(e,n){return e.has(n)}return $0=t,$0}var V0,QO;function FL(){if(QO)return V0;QO=1;var t=$L(),e=VL(),n=UL(),r=1,i=2;function o(s,l,c,h,p,g){var y=c&r,w=s.length,A=l.length;if(w!=A&&!(y&&A>w))return!1;var T=g.get(s),x=g.get(l);if(T&&x)return T==l&&x==s;var D=-1,$=!0,U=c&i?new t:void 0;for(g.set(s,l),g.set(l,s);++D<w;){var F=s[D],k=l[D];if(h)var C=y?h(k,F,D,l,s,g):h(F,k,D,s,l,g);if(C!==void 0){if(C)continue;$=!1;break}if(U){if(!e(l,function(I,O){if(!n(U,O)&&(F===I||p(F,I,c,h,g)))return U.push(O)})){$=!1;break}}else if(!(F===k||p(F,k,c,h,g))){$=!1;break}}return g.delete(s),g.delete(l),$}return V0=o,V0}var U0,YO;function JW(){if(YO)return U0;YO=1;var t=Mi(),e=t.Uint8Array;return U0=e,U0}var F0,JO;function ZW(){if(JO)return F0;JO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return F0=t,F0}var q0,ZO;function xT(){if(ZO)return q0;ZO=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return q0=t,q0}var B0,eC;function eG(){if(eC)return B0;eC=1;var t=Zf(),e=JW(),n=lT(),r=FL(),i=ZW(),o=xT(),s=1,l=2,c="[object Boolean]",h="[object Date]",p="[object Error]",g="[object Map]",y="[object Number]",w="[object RegExp]",A="[object Set]",T="[object String]",x="[object Symbol]",D="[object ArrayBuffer]",$="[object DataView]",U=t?t.prototype:void 0,F=U?U.valueOf:void 0;function k(C,I,O,S,N,R,V){switch(O){case $:if(C.byteLength!=I.byteLength||C.byteOffset!=I.byteOffset)return!1;C=C.buffer,I=I.buffer;case D:return!(C.byteLength!=I.byteLength||!R(new e(C),new e(I)));case c:case h:case y:return n(+C,+I);case p:return C.name==I.name&&C.message==I.message;case w:case T:return C==I+"";case g:var j=i;case A:var M=S&s;if(j||(j=o),C.size!=I.size&&!M)return!1;var W=V.get(C);if(W)return W==I;S|=l,V.set(C,I);var G=r(j(C),j(I),S,N,R,V);return V.delete(C),G;case x:if(F)return F.call(C)==F.call(I)}return!1}return B0=k,B0}var z0,tC;function qL(){if(tC)return z0;tC=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return z0=t,z0}var H0,nC;function tG(){if(nC)return H0;nC=1;var t=qL(),e=nr();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return H0=n,H0}var W0,rC;function nG(){if(rC)return W0;rC=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[o++]=l)}return s}return W0=t,W0}var G0,iC;function rG(){if(iC)return G0;iC=1;function t(){return[]}return G0=t,G0}var K0,oC;function iG(){if(oC)return K0;oC=1;var t=nG(),e=rG(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return K0=o,K0}var X0,aC;function oG(){if(aC)return X0;aC=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return X0=t,X0}var Q0,sC;function aG(){if(sC)return Q0;sC=1;var t=So(),e=Ao(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Q0=r,Q0}var Y0,uC;function ET(){if(uC)return Y0;uC=1;var t=aG(),e=Ao(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Y0=o,Y0}var Lc={exports:{}},J0,lC;function sG(){if(lC)return J0;lC=1;function t(){return!1}return J0=t,J0}Lc.exports;var cC;function BL(){return cC||(cC=1,function(t,e){var n=Mi(),r=sG(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,h=c||r;t.exports=h}(Lc,Lc.exports)),Lc.exports}var Z0,fC;function TT(){if(fC)return Z0;fC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Z0=n,Z0}var e_,hC;function ST(){if(hC)return e_;hC=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return e_=e,e_}var t_,dC;function uG(){if(dC)return t_;dC=1;var t=So(),e=ST(),n=Ao(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",h="[object Map]",p="[object Number]",g="[object Object]",y="[object RegExp]",w="[object Set]",A="[object String]",T="[object WeakMap]",x="[object ArrayBuffer]",D="[object DataView]",$="[object Float32Array]",U="[object Float64Array]",F="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",I="[object Uint8Array]",O="[object Uint8ClampedArray]",S="[object Uint16Array]",N="[object Uint32Array]",R={};R[$]=R[U]=R[F]=R[k]=R[C]=R[I]=R[O]=R[S]=R[N]=!0,R[r]=R[i]=R[x]=R[o]=R[D]=R[s]=R[l]=R[c]=R[h]=R[p]=R[g]=R[y]=R[w]=R[A]=R[T]=!1;function V(j){return n(j)&&e(j.length)&&!!R[t(j)]}return t_=V,t_}var n_,pC;function zL(){if(pC)return n_;pC=1;function t(e){return function(n){return e(n)}}return n_=t,n_}var $c={exports:{}};$c.exports;var mC;function lG(){return mC||(mC=1,function(t,e){var n=lL(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}($c,$c.exports)),$c.exports}var r_,gC;function HL(){if(gC)return r_;gC=1;var t=uG(),e=zL(),n=lG(),r=n&&n.isTypedArray,i=r?e(r):t;return r_=i,r_}var i_,yC;function cG(){if(yC)return i_;yC=1;var t=oG(),e=ET(),n=nr(),r=BL(),i=TT(),o=HL(),s=Object.prototype,l=s.hasOwnProperty;function c(h,p){var g=n(h),y=!g&&e(h),w=!g&&!y&&r(h),A=!g&&!y&&!w&&o(h),T=g||y||w||A,x=T?t(h.length,String):[],D=x.length;for(var $ in h)(p||l.call(h,$))&&!(T&&($=="length"||w&&($=="offset"||$=="parent")||A&&($=="buffer"||$=="byteLength"||$=="byteOffset")||i($,D)))&&x.push($);return x}return i_=c,i_}var o_,vC;function fG(){if(vC)return o_;vC=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return o_=e,o_}var a_,_C;function WL(){if(_C)return a_;_C=1;function t(e,n){return function(r){return e(n(r))}}return a_=t,a_}var s_,wC;function hG(){if(wC)return s_;wC=1;var t=WL(),e=t(Object.keys,Object);return s_=e,s_}var u_,bC;function dG(){if(bC)return u_;bC=1;var t=fG(),e=hG(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&s.push(l);return s}return u_=i,u_}var l_,xC;function nh(){if(xC)return l_;xC=1;var t=uT(),e=ST();function n(r){return r!=null&&e(r.length)&&!t(r)}return l_=n,l_}var c_,EC;function Ym(){if(EC)return c_;EC=1;var t=cG(),e=dG(),n=nh();function r(i){return n(i)?t(i):e(i)}return c_=r,c_}var f_,TC;function pG(){if(TC)return f_;TC=1;var t=tG(),e=iG(),n=Ym();function r(i){return t(i,n,e)}return f_=r,f_}var h_,SC;function mG(){if(SC)return h_;SC=1;var t=pG(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,l,c,h,p){var g=l&e,y=t(o),w=y.length,A=t(s),T=A.length;if(w!=T&&!g)return!1;for(var x=w;x--;){var D=y[x];if(!(g?D in s:r.call(s,D)))return!1}var $=p.get(o),U=p.get(s);if($&&U)return $==s&&U==o;var F=!0;p.set(o,s),p.set(s,o);for(var k=g;++x<w;){D=y[x];var C=o[D],I=s[D];if(c)var O=g?c(I,C,D,s,o,p):c(C,I,D,o,s,p);if(!(O===void 0?C===I||h(C,I,l,c,p):O)){F=!1;break}k||(k=D=="constructor")}if(F&&!k){var S=o.constructor,N=s.constructor;S!=N&&"constructor"in o&&"constructor"in s&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(F=!1)}return p.delete(o),p.delete(s),F}return h_=i,h_}var d_,AC;function gG(){if(AC)return d_;AC=1;var t=Ms(),e=Mi(),n=t(e,"DataView");return d_=n,d_}var p_,IC;function yG(){if(IC)return p_;IC=1;var t=Ms(),e=Mi(),n=t(e,"Promise");return p_=n,p_}var m_,PC;function GL(){if(PC)return m_;PC=1;var t=Ms(),e=Mi(),n=t(e,"Set");return m_=n,m_}var g_,OC;function vG(){if(OC)return g_;OC=1;var t=Ms(),e=Mi(),n=t(e,"WeakMap");return g_=n,g_}var y_,CC;function _G(){if(CC)return y_;CC=1;var t=gG(),e=cT(),n=yG(),r=GL(),i=vG(),o=So(),s=cL(),l="[object Map]",c="[object Object]",h="[object Promise]",p="[object Set]",g="[object WeakMap]",y="[object DataView]",w=s(t),A=s(e),T=s(n),x=s(r),D=s(i),$=o;return(t&&$(new t(new ArrayBuffer(1)))!=y||e&&$(new e)!=l||n&&$(n.resolve())!=h||r&&$(new r)!=p||i&&$(new i)!=g)&&($=function(U){var F=o(U),k=F==c?U.constructor:void 0,C=k?s(k):"";if(C)switch(C){case w:return y;case A:return l;case T:return h;case x:return p;case D:return g}return F}),y_=$,y_}var v_,RC;function wG(){if(RC)return v_;RC=1;var t=LL(),e=FL(),n=eG(),r=mG(),i=_G(),o=nr(),s=BL(),l=HL(),c=1,h="[object Arguments]",p="[object Array]",g="[object Object]",y=Object.prototype,w=y.hasOwnProperty;function A(T,x,D,$,U,F){var k=o(T),C=o(x),I=k?p:i(T),O=C?p:i(x);I=I==h?g:I,O=O==h?g:O;var S=I==g,N=O==g,R=I==O;if(R&&s(T)){if(!s(x))return!1;k=!0,S=!1}if(R&&!S)return F||(F=new t),k||l(T)?e(T,x,D,$,U,F):n(T,x,I,D,$,U,F);if(!(D&c)){var V=S&&w.call(T,"__wrapped__"),j=N&&w.call(x,"__wrapped__");if(V||j){var M=V?T.value():T,W=j?x.value():x;return F||(F=new t),U(M,W,D,$,F)}}return R?(F||(F=new t),r(T,x,D,$,U,F)):!1}return v_=A,v_}var __,kC;function AT(){if(kC)return __;kC=1;var t=wG(),e=Ao();function n(r,i,o,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,l)}return __=n,__}var w_,NC;function bG(){if(NC)return w_;NC=1;var t=LL(),e=AT(),n=1,r=2;function i(o,s,l,c){var h=l.length,p=h,g=!c;if(o==null)return!p;for(o=Object(o);h--;){var y=l[h];if(g&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++h<p;){y=l[h];var w=y[0],A=o[w],T=y[1];if(g&&y[2]){if(A===void 0&&!(w in o))return!1}else{var x=new t;if(c)var D=c(A,T,w,o,s,x);if(!(D===void 0?e(T,A,n|r,c,x):D))return!1}}return!0}return w_=i,w_}var b_,jC;function KL(){if(jC)return b_;jC=1;var t=Ia();function e(n){return n===n&&!t(n)}return b_=e,b_}var x_,DC;function xG(){if(DC)return x_;DC=1;var t=KL(),e=Ym();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],l=r[s];i[o]=[s,l,t(l)]}return i}return x_=n,x_}var E_,MC;function XL(){if(MC)return E_;MC=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return E_=t,E_}var T_,LC;function EG(){if(LC)return T_;LC=1;var t=bG(),e=xG(),n=XL();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return T_=r,T_}var S_,$C;function TG(){if($C)return S_;$C=1;function t(e,n){return e!=null&&n in Object(e)}return S_=t,S_}var A_,VC;function SG(){if(VC)return A_;VC=1;var t=dL(),e=ET(),n=nr(),r=TT(),i=ST(),o=Wm();function s(l,c,h){c=t(c,l);for(var p=-1,g=c.length,y=!1;++p<g;){var w=o(c[p]);if(!(y=l!=null&&h(l,w)))break;l=l[w]}return y||++p!=g?y:(g=l==null?0:l.length,!!g&&i(g)&&r(w,g)&&(n(l)||e(l)))}return A_=s,A_}var I_,UC;function AG(){if(UC)return I_;UC=1;var t=TG(),e=SG();function n(r,i){return r!=null&&e(r,i,t)}return I_=n,I_}var P_,FC;function IG(){if(FC)return P_;FC=1;var t=AT(),e=pL(),n=AG(),r=sT(),i=KL(),o=XL(),s=Wm(),l=1,c=2;function h(p,g){return r(p)&&i(g)?o(s(p),g):function(y){var w=e(y,p);return w===void 0&&w===g?n(y,p):t(g,w,l|c)}}return P_=h,P_}var O_,qC;function Il(){if(qC)return O_;qC=1;function t(e){return e}return O_=t,O_}var C_,BC;function PG(){if(BC)return C_;BC=1;function t(e){return function(n){return n==null?void 0:n[e]}}return C_=t,C_}var R_,zC;function OG(){if(zC)return R_;zC=1;var t=dT();function e(n){return function(r){return t(r,n)}}return R_=e,R_}var k_,HC;function CG(){if(HC)return k_;HC=1;var t=PG(),e=OG(),n=sT(),r=Wm();function i(o){return n(o)?t(r(o)):e(o)}return k_=i,k_}var N_,WC;function Li(){if(WC)return N_;WC=1;var t=EG(),e=IG(),n=Il(),r=nr(),i=CG();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return N_=o,N_}var j_,GC;function QL(){if(GC)return j_;GC=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return j_=t,j_}var D_,KC;function RG(){if(KC)return D_;KC=1;function t(e){return e!==e}return D_=t,D_}var M_,XC;function kG(){if(XC)return M_;XC=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return M_=t,M_}var L_,QC;function NG(){if(QC)return L_;QC=1;var t=QL(),e=RG(),n=kG();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return L_=r,L_}var $_,YC;function jG(){if(YC)return $_;YC=1;var t=NG();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return $_=e,$_}var V_,JC;function DG(){if(JC)return V_;JC=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return V_=t,V_}var U_,ZC;function MG(){if(ZC)return U_;ZC=1;function t(){}return U_=t,U_}var F_,eR;function LG(){if(eR)return F_;eR=1;var t=GL(),e=MG(),n=xT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return F_=i,F_}var q_,tR;function $G(){if(tR)return q_;tR=1;var t=$L(),e=jG(),n=DG(),r=UL(),i=LG(),o=xT(),s=200;function l(c,h,p){var g=-1,y=e,w=c.length,A=!0,T=[],x=T;if(p)A=!1,y=n;else if(w>=s){var D=h?null:i(c);if(D)return o(D);A=!1,y=r,x=new t}else x=h?[]:T;e:for(;++g<w;){var $=c[g],U=h?h($):$;if($=p||$!==0?$:0,A&&U===U){for(var F=x.length;F--;)if(x[F]===U)continue e;h&&x.push(U),T.push($)}else y(x,U,p)||(x!==T&&x.push(U),T.push($))}return T}return q_=l,q_}var B_,nR;function VG(){if(nR)return B_;nR=1;var t=Li(),e=$G();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return B_=n,B_}var UG=VG();const rR=gt(UG);function YL(t,e,n){return e===!0?rR(t,n):Je(e)?rR(t,e):t}function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}var FG=["ref"];function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZL(r.key),r)}}function BG(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zG(t,e,n){return e=Mp(e),HG(t,JL()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function HG(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WG(t)}function WG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function GG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(t,e)}function Jm(t,e,n){return e=ZL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZL(t){var e=KG(t,"string");return Zu(e)=="symbol"?e:e+""}function KG(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XG(t,e){if(t==null)return{};var n=QG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YG(t){return t.value}function JG(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=XG(e,FG);return ne.createElement(bT,n)}var aR=1,Fu=function(t){function e(){var n;qG(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zG(this,e,[].concat(i)),Jm(n,"lastBoundingBox",{width:-1,height:-1}),n}return GG(e,t),BG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aR||Math.abs(i.height-this.lastBoundingBox.height)>aR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?eo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,h=i.chartWidth,p=i.chartHeight,g,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var w=this.getBBoxSnapshot();g={left:((h||0)-w.width)/2}}else g=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var A=this.getBBoxSnapshot();y={top:((p||0)-A.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return eo(eo({},g),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,g=eo(eo({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ne.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(w){r.wrapperNode=w}},JG(o,eo(eo({},this.props),{},{payload:YL(p,h,YG)})))}}],[{key:"getWithHeight",value:function(r,i){var o=eo(eo({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Oe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(ie.PureComponent);Jm(Fu,"displayName","Legend");Jm(Fu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var z_,sR;function ZG(){if(sR)return z_;sR=1;var t=Zf(),e=ET(),n=nr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return z_=i,z_}var H_,uR;function e$(){if(uR)return H_;uR=1;var t=qL(),e=ZG();function n(r,i,o,s,l){var c=-1,h=r.length;for(o||(o=e),l||(l=[]);++c<h;){var p=r[c];i>0&&o(p)?i>1?n(p,i-1,o,s,l):t(l,p):s||(l[l.length]=p)}return l}return H_=n,H_}var W_,lR;function e7(){if(lR)return W_;lR=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),l=i(n),c=l.length;c--;){var h=l[e?c:++o];if(r(s[h],h,s)===!1)break}return n}}return W_=t,W_}var G_,cR;function t7(){if(cR)return G_;cR=1;var t=e7(),e=t();return G_=e,G_}var K_,fR;function t$(){if(fR)return K_;fR=1;var t=t7(),e=Ym();function n(r,i){return r&&t(r,i,e)}return K_=n,K_}var X_,hR;function n7(){if(hR)return X_;hR=1;var t=nh();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return X_=e,X_}var Q_,dR;function IT(){if(dR)return Q_;dR=1;var t=t$(),e=n7(),n=e(t);return Q_=n,Q_}var Y_,pR;function n$(){if(pR)return Y_;pR=1;var t=IT(),e=nh();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,h){s[++o]=i(l,c,h)}),s}return Y_=n,Y_}var J_,mR;function r7(){if(mR)return J_;mR=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return J_=t,J_}var Z_,gR;function i7(){if(gR)return Z_;gR=1;var t=Sl();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,l=t(n),c=r!==void 0,h=r===null,p=r===r,g=t(r);if(!h&&!g&&!l&&n>r||l&&c&&p&&!h&&!g||o&&c&&p||!i&&p||!s)return 1;if(!o&&!l&&!g&&n<r||g&&i&&s&&!o&&!l||h&&i&&s||!c&&s||!p)return-1}return 0}return Z_=e,Z_}var ew,yR;function o7(){if(yR)return ew;yR=1;var t=i7();function e(n,r,i){for(var o=-1,s=n.criteria,l=r.criteria,c=s.length,h=i.length;++o<c;){var p=t(s[o],l[o]);if(p){if(o>=h)return p;var g=i[o];return p*(g=="desc"?-1:1)}}return n.index-r.index}return ew=e,ew}var tw,vR;function a7(){if(vR)return tw;vR=1;var t=hT(),e=dT(),n=Li(),r=n$(),i=r7(),o=zL(),s=o7(),l=Il(),c=nr();function h(p,g,y){g.length?g=t(g,function(T){return c(T)?function(x){return e(x,T.length===1?T[0]:T)}:T}):g=[l];var w=-1;g=t(g,o(n));var A=r(p,function(T,x,D){var $=t(g,function(U){return U(T)});return{criteria:$,index:++w,value:T}});return i(A,function(T,x){return s(T,x,y)})}return tw=h,tw}var nw,_R;function s7(){if(_R)return nw;_R=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return nw=t,nw}var rw,wR;function u7(){if(wR)return rw;wR=1;var t=s7(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),h=Array(c);++l<c;)h[l]=s[i+l];l=-1;for(var p=Array(i+1);++l<i;)p[l]=s[l];return p[i]=o(h),t(r,this,p)}}return rw=n,rw}var iw,bR;function l7(){if(bR)return iw;bR=1;function t(e){return function(){return e}}return iw=t,iw}var ow,xR;function r$(){if(xR)return ow;xR=1;var t=Ms(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ow=e,ow}var aw,ER;function c7(){if(ER)return aw;ER=1;var t=l7(),e=r$(),n=Il(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return aw=r,aw}var sw,TR;function f7(){if(TR)return sw;TR=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return sw=r,sw}var uw,SR;function h7(){if(SR)return uw;SR=1;var t=c7(),e=f7(),n=e(t);return uw=n,uw}var lw,AR;function d7(){if(AR)return lw;AR=1;var t=Il(),e=u7(),n=h7();function r(i,o){return n(e(i,o,t),i+"")}return lw=r,lw}var cw,IR;function Zm(){if(IR)return cw;IR=1;var t=lT(),e=nh(),n=TT(),r=Ia();function i(o,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return cw=i,cw}var fw,PR;function p7(){if(PR)return fw;PR=1;var t=e$(),e=a7(),n=d7(),r=Zm(),i=n(function(o,s){if(o==null)return[];var l=s.length;return l>1&&r(o,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return fw=i,fw}var m7=p7();const PT=gt(m7);function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}function g7(t,e){return w7(t)||_7(t,e)||v7(t,e)||y7()}function y7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7(t,e){if(t){if(typeof t=="string")return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function w7(t){if(Array.isArray(t))return t}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){b7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b7(t,e,n){return e=x7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x7(t){var e=E7(t,"string");return cf(e)=="symbol"?e:e+""}function E7(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T7(t){return Array.isArray(t)&&tn(t[0])&&tn(t[1])?t.join(" ~ "):t}var S7=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,h=c===void 0?{}:c,p=e.payload,g=e.formatter,y=e.itemSorter,w=e.wrapperClassName,A=e.labelClassName,T=e.label,x=e.labelFormatter,D=e.accessibilityLayer,$=D===void 0?!1:D,U=function(){if(p&&p.length){var V={padding:0,margin:0},j=(y?PT(p,y):p).map(function(M,W){if(M.type==="none")return null;var G=hw({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),J=M.formatter||g||T7,B=M.value,K=M.name,Z=B,z=K;if(J&&Z!=null&&z!=null){var Y=J(B,K,M,W,p);if(Array.isArray(Y)){var de=g7(Y,2);Z=de[0],z=de[1]}else Z=Y}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:G},tn(z)?ne.createElement("span",{className:"recharts-tooltip-item-name"},z):null,tn(z)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},Z),ne.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:V},j)}return null},F=hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),k=hw({margin:0},h),C=!lt(T),I=C?T:"",O=st("recharts-default-tooltip",w),S=st("recharts-tooltip-label",A);C&&x&&p!==void 0&&p!==null&&(I=x(T,p));var N=$?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",ax({className:O,style:F},N),ne.createElement("p",{className:S,style:k},ne.isValidElement(I)?I:"".concat(I)),U())};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Ld(t,e,n){return e=A7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7(t){var e=I7(t,"string");return ff(e)=="symbol"?e:e+""}function I7(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc="recharts-tooltip-wrapper",P7={visibility:"hidden"};function O7(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return st(xc,Ld(Ld(Ld(Ld({},"".concat(xc,"-right"),Oe(n)&&e&&Oe(e.x)&&n>=e.x),"".concat(xc,"-left"),Oe(n)&&e&&Oe(e.x)&&n<e.x),"".concat(xc,"-bottom"),Oe(r)&&e&&Oe(e.y)&&r>=e.y),"".concat(xc,"-top"),Oe(r)&&e&&Oe(e.y)&&r<e.y))}function RR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,h=t.viewBoxDimension;if(o&&Oe(o[r]))return o[r];var p=n[r]-l-i,g=n[r]+i;if(e[r])return s[r]?p:g;if(s[r]){var y=p,w=c[r];return y<w?Math.max(g,c[r]):Math.max(p,c[r])}var A=g+l,T=c[r]+h;return A>T?Math.max(p,c[r]):Math.max(g,c[r])}function C7(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function R7(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,h,p,g;return s.height>0&&s.width>0&&n?(p=RR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),g=RR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),h=C7({translateX:p,translateY:g,useTranslate3d:l})):h=P7,{cssProperties:h,cssClasses:O7({translateX:p,translateY:g,coordinate:n})}}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o$(r.key),r)}}function j7(t,e,n){return e&&N7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D7(t,e,n){return e=Lp(e),M7(t,i$()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function M7(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L7(t)}function L7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function $7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sx(t,e)}function ux(t,e,n){return e=o$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=V7(t,"string");return el(e)=="symbol"?e:e+""}function V7(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jR=1,U7=function(t){function e(){var n;k7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=D7(this,e,[].concat(i)),ux(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ux(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return $7(e,t),j7(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jR||Math.abs(r.height-this.state.lastBoundingBox.height)>jR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,h=i.children,p=i.coordinate,g=i.hasPayload,y=i.isAnimationActive,w=i.offset,A=i.position,T=i.reverseDirection,x=i.useTranslate3d,D=i.viewBox,$=i.wrapperStyle,U=R7({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:w,position:A,reverseDirection:T,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:D}),F=U.cssClasses,k=U.cssProperties,C=NR(NR({transition:y&&o?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&g?"visible":"hidden",position:"absolute",top:0,left:0},$);return ne.createElement("div",{tabIndex:-1,className:F,style:C,ref:function(O){r.wrapperNode=O}},h)}}])}(ie.PureComponent),F7=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},eg={isSsr:F7()};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){OT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function z7(t,e,n){return e&&B7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H7(t,e,n){return e=$p(e),W7(t,a$()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function W7(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G7(t)}function G7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function K7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function OT(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=X7(t,"string");return tl(e)=="symbol"?e:e+""}function X7(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q7(t){return t.dataKey}function Y7(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(S7,e)}var to=function(t){function e(){return q7(this,e),H7(this,e,arguments)}return K7(e,t),z7(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,h=i.content,p=i.coordinate,g=i.filterNull,y=i.isAnimationActive,w=i.offset,A=i.payload,T=i.payloadUniqBy,x=i.position,D=i.reverseDirection,$=i.useTranslate3d,U=i.viewBox,F=i.wrapperStyle,k=A??[];g&&k.length&&(k=YL(A.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),T,Q7));var C=k.length>0;return ne.createElement(U7,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:y,active:o,coordinate:p,hasPayload:C,offset:w,position:x,reverseDirection:D,useTranslate3d:$,viewBox:U,wrapperStyle:F},Y7(h,MR(MR({},this.props),{},{payload:k})))}}])}(ie.PureComponent);OT(to,"displayName","Tooltip");OT(to,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!eg.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dw,LR;function J7(){if(LR)return dw;LR=1;var t=Mi(),e=function(){return t.Date.now()};return dw=e,dw}var pw,$R;function Z7(){if($R)return pw;$R=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return pw=e,pw}var mw,VR;function eK(){if(VR)return mw;VR=1;var t=Z7(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return mw=n,mw}var gw,UR;function u$(){if(UR)return gw;UR=1;var t=eK(),e=Ia(),n=Sl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var g=o.test(h);return g||s.test(h)?l(h.slice(2),g?2:8):i.test(h)?r:+h}return gw=c,gw}var yw,FR;function tK(){if(FR)return yw;FR=1;var t=Ia(),e=J7(),n=u$(),r="Expected a function",i=Math.max,o=Math.min;function s(l,c,h){var p,g,y,w,A,T,x=0,D=!1,$=!1,U=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(h)&&(D=!!h.leading,$="maxWait"in h,y=$?i(n(h.maxWait)||0,c):y,U="trailing"in h?!!h.trailing:U);function F(j){var M=p,W=g;return p=g=void 0,x=j,w=l.apply(W,M),w}function k(j){return x=j,A=setTimeout(O,c),D?F(j):w}function C(j){var M=j-T,W=j-x,G=c-M;return $?o(G,y-W):G}function I(j){var M=j-T,W=j-x;return T===void 0||M>=c||M<0||$&&W>=y}function O(){var j=e();if(I(j))return S(j);A=setTimeout(O,C(j))}function S(j){return A=void 0,U&&p?F(j):(p=g=void 0,w)}function N(){A!==void 0&&clearTimeout(A),x=0,p=T=g=A=void 0}function R(){return A===void 0?w:S(e())}function V(){var j=e(),M=I(j);if(p=arguments,g=this,T=j,M){if(A===void 0)return k(T);if($)return clearTimeout(A),A=setTimeout(O,c),F(T)}return A===void 0&&(A=setTimeout(O,c)),w}return V.cancel=N,V.flush=R,V}return yw=s,yw}var vw,qR;function nK(){if(qR)return vw;qR=1;var t=tK(),e=Ia(),n="Expected a function";function r(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return vw=r,vw}var rK=nK();const l$=gt(rK);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){iK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iK(t,e,n){return e=oK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oK(t){var e=aK(t,"string");return hf(e)=="symbol"?e:e+""}function aK(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sK(t,e){return fK(t)||cK(t,e)||lK(t,e)||uK()}function uK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(t,e){if(t){if(typeof t=="string")return zR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zR(t,e)}}function zR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function fK(t){if(Array.isArray(t))return t}var hK=ie.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,h=t.minWidth,p=h===void 0?0:h,g=t.minHeight,y=t.maxHeight,w=t.children,A=t.debounce,T=A===void 0?0:A,x=t.id,D=t.className,$=t.onResize,U=t.style,F=U===void 0?{}:U,k=ie.useRef(null),C=ie.useRef();C.current=$,ie.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var I=ie.useState({containerWidth:i.width,containerHeight:i.height}),O=sK(I,2),S=O[0],N=O[1],R=ie.useCallback(function(j,M){N(function(W){var G=Math.round(j),J=Math.round(M);return W.containerWidth===G&&W.containerHeight===J?W:{containerWidth:G,containerHeight:J}})},[]);ie.useEffect(function(){var j=function(K){var Z,z=K[0].contentRect,Y=z.width,de=z.height;R(Y,de),(Z=C.current)===null||Z===void 0||Z.call(C,Y,de)};T>0&&(j=l$(j,T,{trailing:!0,leading:!1}));var M=new ResizeObserver(j),W=k.current.getBoundingClientRect(),G=W.width,J=W.height;return R(G,J),M.observe(k.current),function(){M.disconnect()}},[R,T]);var V=ie.useMemo(function(){var j=S.containerWidth,M=S.containerHeight;if(j<0||M<0)return null;ys(ps(s)||ps(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ys(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=ps(s)?j:s,G=ps(c)?M:c;n&&n>0&&(W?G=W/n:G&&(W=G*n),y&&G>y&&(G=y)),ys(W>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,G,s,c,p,g,n);var J=!Array.isArray(w)&&ho(w.type).endsWith("Chart");return ne.Children.map(w,function(B){return ne.isValidElement(B)?ie.cloneElement(B,$d({width:W,height:G},J?{style:$d({height:"100%",width:"100%",maxHeight:G,maxWidth:W},B.props.style)}:{})):B})},[n,w,c,y,g,p,S,s]);return ne.createElement("div",{id:x?"".concat(x):void 0,className:st("recharts-responsive-container",D),style:$d($d({},F),{},{width:s,height:c,minWidth:p,minHeight:g,maxHeight:y}),ref:k},V)});function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){dK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dK(t,e,n){return e=pK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=mK(t,"string");return df(e)=="symbol"?e:e+""}function mK(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iu={widthCache:{},cacheCount:0},gK=2e3,yK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WR="recharts_measurement_span";function vK(t){var e=cx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var GR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||eg.isSsr)return{width:0,height:0};var r=vK(n),i=JSON.stringify({text:e,copyStyle:r});if(Iu.widthCache[i])return Iu.widthCache[i];try{var o=document.getElementById(WR);o||(o=document.createElement("span"),o.setAttribute("id",WR),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=cx(cx({},yK),r);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Iu.widthCache[i]=c,++Iu.cacheCount>gK&&(Iu.cacheCount=0,Iu.widthCache={}),c}catch{return{width:0,height:0}}},_K=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Vp(t,e){return EK(t)||xK(t,e)||bK(t,e)||wK()}function wK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(t,e){if(t){if(typeof t=="string")return KR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KR(t,e)}}function KR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function EK(t){if(Array.isArray(t))return t}function TK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AK(r.key),r)}}function SK(t,e,n){return e&&XR(t.prototype,e),n&&XR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function AK(t){var e=IK(t,"string");return pf(e)=="symbol"?e:e+""}function IK(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CK=Object.keys(c$),ju="NaN";function RK(t,e){return t*c$[e]}var Vd=function(){function t(e,n){TK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!PK.test(n)&&(this.num=NaN,this.unit=""),CK.includes(n)&&(this.num=RK(e,n),this.unit="px")}return SK(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=OK.exec(n))!==null&&r!==void 0?r:[],o=Vp(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])}();function f$(t){if(t.includes(ju))return ju;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=QR.exec(e))!==null&&n!==void 0?n:[],i=Vp(r,4),o=i[1],s=i[2],l=i[3],c=Vd.parse(o??""),h=Vd.parse(l??""),p=s==="*"?c.multiply(h):c.divide(h);if(p.isNaN())return ju;e=e.replace(QR,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,y=(g=YR.exec(e))!==null&&g!==void 0?g:[],w=Vp(y,4),A=w[1],T=w[2],x=w[3],D=Vd.parse(A??""),$=Vd.parse(x??""),U=T==="+"?D.add($):D.subtract($);if(U.isNaN())return ju;e=e.replace(YR,U.toString())}return e}var JR=/\(([^()]*)\)/;function kK(t){for(var e=t;e.includes("(");){var n=JR.exec(e),r=Vp(n,2),i=r[1];e=e.replace(JR,f$(i))}return e}function NK(t){var e=t.replace(/\s+/g,"");return e=kK(e),e=f$(e),e}function jK(t){try{return NK(t)}catch{return ju}}function _w(t){var e=jK(t.slice(5,-1));return e===ju?"":e}var DK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MK=["dx","dy","angle","className","breakAll"];function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fx.apply(this,arguments)}function ZR(t,e){if(t==null)return{};var n=LK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ek(t,e){return FK(t)||UK(t,e)||VK(t,e)||$K()}function $K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(t,e){if(t){if(typeof t=="string")return tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function FK(t){if(Array.isArray(t))return t}var h$=/[ \f\n\r\t\v\u2028\u2029]+/,d$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];lt(n)||(r?o=n.toString().split(""):o=n.toString().split(h$));var s=o.map(function(c){return{word:c,width:GR(c,i).width}}),l=r?0:GR("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},qK=function(e,n,r,i,o){var s=e.maxLines,l=e.children,c=e.style,h=e.breakAll,p=Oe(s),g=l,y=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(G,J){var B=J.word,K=J.width,Z=G[G.length-1];if(Z&&(i==null||o||Z.width+K+r<Number(i)))Z.words.push(B),Z.width+=K+r;else{var z={words:[B],width:K};G.push(z)}return G},[])},w=y(n),A=function(W){return W.reduce(function(G,J){return G.width>J.width?G:J})};if(!p)return w;for(var T="",x=function(W){var G=g.slice(0,W),J=d$({breakAll:h,style:c,children:G+T}).wordsWithComputedWidth,B=y(J),K=B.length>s||A(B).width>Number(i);return[K,B]},D=0,$=g.length-1,U=0,F;D<=$&&U<=g.length-1;){var k=Math.floor((D+$)/2),C=k-1,I=x(C),O=ek(I,2),S=O[0],N=O[1],R=x(k),V=ek(R,1),j=V[0];if(!S&&!j&&(D=k+1),S&&j&&($=k-1),!S&&j){F=N;break}U++}return F||w},nk=function(e){var n=lt(e)?[]:e.toString().split(h$);return[{words:n}]},BK=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!eg.isSsr){var c,h,p=d$({breakAll:s,children:i,style:o});if(p){var g=p.wordsWithComputedWidth,y=p.spaceWidth;c=g,h=y}else return nk(i);return qK({breakAll:s,children:i,maxLines:l,style:o},c,h,n,r)}return nk(i)},rk="#808080",mf=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,h=c===void 0?"0.71em":c,p=e.scaleToFit,g=p===void 0?!1:p,y=e.textAnchor,w=y===void 0?"start":y,A=e.verticalAnchor,T=A===void 0?"end":A,x=e.fill,D=x===void 0?rk:x,$=ZR(e,DK),U=ie.useMemo(function(){return BK({breakAll:$.breakAll,children:$.children,maxLines:$.maxLines,scaleToFit:g,style:$.style,width:$.width})},[$.breakAll,$.children,$.maxLines,g,$.style,$.width]),F=$.dx,k=$.dy,C=$.angle,I=$.className,O=$.breakAll,S=ZR($,MK);if(!tn(r)||!tn(o))return null;var N=r+(Oe(F)?F:0),R=o+(Oe(k)?k:0),V;switch(T){case"start":V=_w("calc(".concat(h,")"));break;case"middle":V=_w("calc(".concat((U.length-1)/2," * -").concat(l," + (").concat(h," / 2))"));break;default:V=_w("calc(".concat(U.length-1," * -").concat(l,")"));break}var j=[];if(g){var M=U[0].width,W=$.width;j.push("scale(".concat((Oe(W)?W/M:1)/M,")"))}return C&&j.push("rotate(".concat(C,", ").concat(N,", ").concat(R,")")),j.length&&(S.transform=j.join(" ")),ne.createElement("text",fx({},Ke(S,!0),{x:N,y:R,className:st("recharts-text",I),textAnchor:w,fill:D.includes("url")?rk:D}),U.map(function(G,J){var B=G.words.join(O?"":" ");return ne.createElement("tspan",{x:N,dy:J===0?V:l,key:"".concat(B,"-").concat(J)},B)}))};function ha(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CT(t){let e,n,r;t.length!==2?(e=ha,n=(l,c)=>ha(t(l),c),r=(l,c)=>t(l)-c):(e=t===ha||t===zK?t:HK,n=t,r=t);function i(l,c,h=0,p=l.length){if(h<p){if(e(c,c)!==0)return p;do{const g=h+p>>>1;n(l[g],c)<0?h=g+1:p=g}while(h<p)}return h}function o(l,c,h=0,p=l.length){if(h<p){if(e(c,c)!==0)return p;do{const g=h+p>>>1;n(l[g],c)<=0?h=g+1:p=g}while(h<p)}return h}function s(l,c,h=0,p=l.length){const g=i(l,c,h,p-1);return g>h&&r(l[g-1],c)>-r(l[g],c)?g-1:g}return{left:i,center:s,right:o}}function HK(){return 0}function p$(t){return t===null?NaN:+t}function*WK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const GK=CT(ha),rh=GK.right;CT(p$).center;class ik extends Map{constructor(e,n=QK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ok(this,e))}has(e){return super.has(ok(this,e))}set(e,n){return super.set(KK(this,e),n)}delete(e){return super.delete(XK(this,e))}}function ok({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function KK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function YK(t=ha){if(t===ha)return m$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function m$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const JK=Math.sqrt(50),ZK=Math.sqrt(10),eX=Math.sqrt(2);function Up(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=JK?10:o>=ZK?5:o>=eX?2:1;let l,c,h;return i<0?(h=Math.pow(10,-i)/s,l=Math.round(t*h),c=Math.round(e*h),l/h<t&&++l,c/h>e&&--c,h=-h):(h=Math.pow(10,i)*s,l=Math.round(t/h),c=Math.round(e/h),l*h<t&&++l,c*h>e&&--c),c<l&&.5<=n&&n<2?Up(t,e,n*2):[l,c,h]}function hx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Up(e,t,n):Up(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let h=0;h<l;++h)c[h]=(o-h)/-s;else for(let h=0;h<l;++h)c[h]=(o-h)*s;else if(s<0)for(let h=0;h<l;++h)c[h]=(i+h)/-s;else for(let h=0;h<l;++h)c[h]=(i+h)*s;return c}function dx(t,e,n){return e=+e,t=+t,n=+n,Up(t,e,n)[2]}function px(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dx(e,t,n):dx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ak(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function g$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?m$:YK(i);r>n;){if(r-n>600){const c=r-n+1,h=e-n+1,p=Math.log(c),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(c-g)/c)*(h-c/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/c+y)),A=Math.min(r,Math.floor(e+(c-h)*g/c+y));g$(t,e,w,A,i)}const o=t[e];let s=n,l=r;for(Ec(t,n,e),i(t[r],o)>0&&Ec(t,n,r);s<l;){for(Ec(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?Ec(t,n,l):(++l,Ec(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Ec(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function tX(t,e,n){if(t=Float64Array.from(WK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sk(t);if(e>=1)return ak(t);var r,i=(r-1)*e,o=Math.floor(i),s=ak(g$(t,o).subarray(0,o+1)),l=sk(t.subarray(o+1));return s+(l-s)*(i-o)}}function nX(t,e,n=p$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function rX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mx=Symbol("implicit");function RT(){var t=new ik,e=[],n=[],r=mx;function i(o){let s=t.get(o);if(s===void 0){if(r!==mx)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ik;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return RT(e,n).unknown(r)},Ur.apply(i,arguments),i}function gf(){var t=RT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,l=!1,c=0,h=0,p=.5;delete t.unknown;function g(){var y=e().length,w=i<r,A=w?i:r,T=w?r:i;o=(T-A)/Math.max(1,y-c+h*2),l&&(o=Math.floor(o)),A+=(T-A-o*(y-c))*p,s=o*(1-c),l&&(A=Math.round(A),s=Math.round(s));var x=rX(y).map(function(D){return A+o*D});return n(w?x.reverse():x)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,g()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,g()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,h=+y),g()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),g()):c},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return gf(e(),[r,i]).round(l).paddingInner(c).paddingOuter(h).align(p)},Ur.apply(g(),arguments)}function y$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y$(e())},t}function Gc(){return y$(gf.apply(null,arguments).paddingInner(1))}function kT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ih(){}var yf=.7,Fp=1/yf,qu="\\s*([+-]?\\d+)\\s*",vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iX=/^#([0-9a-f]{3,8})$/,oX=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),aX=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),sX=new RegExp(`^rgba\\(${qu},${qu},${qu},${vf}\\)$`),uX=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${vf}\\)$`),lX=new RegExp(`^hsl\\(${vf},${Ri},${Ri}\\)$`),cX=new RegExp(`^hsla\\(${vf},${Ri},${Ri},${vf}\\)$`),uk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kT(ih,_f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lk,formatHex:lk,formatHex8:fX,formatHsl:hX,formatRgb:ck,toString:ck});function lk(){return this.rgb().formatHex()}function fX(){return this.rgb().formatHex8()}function hX(){return _$(this).formatHsl()}function ck(){return this.rgb().formatRgb()}function _f(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fk(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ud(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ud(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oX.exec(t))?new Zn(e[1],e[2],e[3],1):(e=aX.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sX.exec(t))?Ud(e[1],e[2],e[3],e[4]):(e=uX.exec(t))?Ud(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lX.exec(t))?pk(e[1],e[2]/100,e[3]/100,1):(e=cX.exec(t))?pk(e[1],e[2]/100,e[3]/100,e[4]):uk.hasOwnProperty(t)?fk(uk[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function fk(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function Ud(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function dX(t){return t instanceof ih||(t=_f(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function gx(t,e,n,r){return arguments.length===1?dX(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kT(Zn,gx,v$(ih,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(vs(this.r),vs(this.g),vs(this.b),qp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hk,formatHex:hk,formatHex8:pX,formatRgb:dk,toString:dk}));function hk(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function pX(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function dk(){const t=qp(this.opacity);return`${t===1?"rgb(":"rgba("}${vs(this.r)}, ${vs(this.g)}, ${vs(this.b)}${t===1?")":`, ${t})`}`}function qp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=vs(t),(t<16?"0":"")+t.toString(16)}function pk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ii(t,e,n,r)}function _$(t){if(t instanceof ii)return new ii(t.h,t.s,t.l,t.opacity);if(t instanceof ih||(t=_f(t)),!t)return new ii;if(t instanceof ii)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new ii(s,l,c,t.opacity)}function mX(t,e,n,r){return arguments.length===1?_$(t):new ii(t,e,n,r??1)}function ii(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kT(ii,mX,v$(ih,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new ii(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new ii(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zn(ww(t>=240?t-240:t+120,i,r),ww(t,i,r),ww(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ii(mk(this.h),Fd(this.s),Fd(this.l),qp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qp(this.opacity);return`${t===1?"hsl(":"hsla("}${mk(this.h)}, ${Fd(this.s)*100}%, ${Fd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mk(t){return t=(t||0)%360,t<0?t+360:t}function Fd(t){return Math.max(0,Math.min(1,t||0))}function ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const NT=t=>()=>t;function gX(t,e){return function(n){return t+n*e}}function yX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vX(t){return(t=+t)==1?w$:function(e,n){return n-e?yX(e,n,t):NT(isNaN(e)?n:e)}}function w$(t,e){var n=e-t;return n?gX(t,n):NT(isNaN(t)?e:t)}const gk=function t(e){var n=vX(e);function r(i,o){var s=n((i=gx(i)).r,(o=gx(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),h=w$(i.opacity,o.opacity);return function(p){return i.r=s(p),i.g=l(p),i.b=c(p),i.opacity=h(p),i+""}}return r.gamma=t,r}(1);function _X(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function wX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Pl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function xX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function EX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var yx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bw=new RegExp(yx.source,"g");function TX(t){return function(){return t}}function SX(t){return function(e){return t(e)+""}}function AX(t,e){var n=yx.lastIndex=bw.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=yx.exec(t))&&(i=bw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Bp(r,i)})),n=bw.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?SX(c[0].x):TX(e):(e=c.length,function(h){for(var p=0,g;p<e;++p)l[(g=c[p]).i]=g.x(h);return l.join("")})}function Pl(t,e){var n=typeof e,r;return e==null||n==="boolean"?NT(e):(n==="number"?Bp:n==="string"?(r=_f(e))?(e=r,gk):AX:e instanceof _f?gk:e instanceof Date?xX:wX(e)?_X:Array.isArray(e)?bX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?EX:Bp)(t,e)}function jT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function IX(t,e){e===void 0&&(e=t,t=Pl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function PX(t){return function(){return t}}function zp(t){return+t}var yk=[0,1];function Un(t){return t}function vx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:PX(isNaN(e)?NaN:.5)}function OX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function CX(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=vx(i,r),o=n(s,o)):(r=vx(r,i),o=n(o,s)),function(l){return o(r(l))}}function RX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=vx(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=rh(t,l,1,r)-1;return o[c](i[c](l))}}function oh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tg(){var t=yk,e=yk,n=Pl,r,i,o,s=Un,l,c,h;function p(){var y=Math.min(t.length,e.length);return s!==Un&&(s=OX(t[0],t[y-1])),l=y>2?RX:CX,c=h=null,g}function g(y){return y==null||isNaN(y=+y)?o:(c||(c=l(t.map(r),e,n)))(r(s(y)))}return g.invert=function(y){return s(i((h||(h=l(e,t.map(r),Bp)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,zp),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=jT,p()},g.clamp=function(y){return arguments.length?(s=y?!0:Un,p()):s!==Un},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(o=y,g):o},function(y,w){return r=y,i=w,p()}}function DT(){return tg()(Un,Un)}function kX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nl(t){return t=Hp(Math.abs(t)),t?t[1]:NaN}function NX(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function jX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var DX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wf(t){if(!(e=DX.exec(t)))throw new Error("invalid format: "+t);var e;return new MT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wf.prototype=MT.prototype;function MT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}MT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var b$;function LX(t,e){var n=Hp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(b$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hp(t,Math.max(0,e+o-1))[0]}function vk(t,e){var n=Hp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _k={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vk(t*100,e),r:vk,s:LX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wk(t){return t}var bk=Array.prototype.map,xk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $X(t){var e=t.grouping===void 0||t.thousands===void 0?wk:NX(bk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?wk:jX(bk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function h(g){g=wf(g);var y=g.fill,w=g.align,A=g.sign,T=g.symbol,x=g.zero,D=g.width,$=g.comma,U=g.precision,F=g.trim,k=g.type;k==="n"?($=!0,k="g"):_k[k]||(U===void 0&&(U=12),F=!0,k="g"),(x||y==="0"&&w==="=")&&(x=!0,y="0",w="=");var C=T==="$"?n:T==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",I=T==="$"?r:/[%p]/.test(k)?s:"",O=_k[k],S=/[defgprs%]/.test(k);U=U===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function N(R){var V=C,j=I,M,W,G;if(k==="c")j=O(R)+j,R="";else{R=+R;var J=R<0||1/R<0;if(R=isNaN(R)?c:O(Math.abs(R),U),F&&(R=MX(R)),J&&+R==0&&A!=="+"&&(J=!1),V=(J?A==="("?A:l:A==="-"||A==="("?"":A)+V,j=(k==="s"?xk[8+b$/3]:"")+j+(J&&A==="("?")":""),S){for(M=-1,W=R.length;++M<W;)if(G=R.charCodeAt(M),48>G||G>57){j=(G===46?i+R.slice(M+1):R.slice(M))+j,R=R.slice(0,M);break}}}$&&!x&&(R=e(R,1/0));var B=V.length+R.length+j.length,K=B<D?new Array(D-B+1).join(y):"";switch($&&x&&(R=e(K+R,K.length?D-j.length:1/0),K=""),w){case"<":R=V+R+j+K;break;case"=":R=V+K+R+j;break;case"^":R=K.slice(0,B=K.length>>1)+V+R+j+K.slice(B);break;default:R=K+V+R+j;break}return o(R)}return N.toString=function(){return g+""},N}function p(g,y){var w=h((g=wf(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(nl(y)/3)))*3,T=Math.pow(10,-A),x=xk[8+A/3];return function(D){return w(T*D)+x}}return{format:h,formatPrefix:p}}var qd,LT,x$;VX({thousands:",",grouping:[3],currency:["$",""]});function VX(t){return qd=$X(t),LT=qd.format,x$=qd.formatPrefix,qd}function UX(t){return Math.max(0,-nl(Math.abs(t)))}function FX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nl(e)/3)))*3-nl(Math.abs(t)))}function qX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nl(e)-nl(t))+1}function E$(t,e,n,r){var i=px(t,e,n),o;switch(r=wf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=FX(i,s))&&(r.precision=o),x$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=UX(i))&&(r.precision=o-(r.type==="%")*2);break}}return LT(r)}function Pa(t){var e=t.domain;return t.ticks=function(n){var r=e();return hx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return E$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],c,h,p=10;for(l<s&&(h=s,s=l,l=h,h=i,i=o,o=h);p-- >0;){if(h=dx(s,l,n),h===c)return r[i]=s,r[o]=l,e(r);if(h>0)s=Math.floor(s/h)*h,l=Math.ceil(l/h)*h;else if(h<0)s=Math.ceil(s*h)/h,l=Math.floor(l*h)/h;else break;c=h}return t},t}function Wp(){var t=DT();return t.copy=function(){return oh(t,Wp())},Ur.apply(t,arguments),Pa(t)}function T$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return T$(t).unknown(e)},t=arguments.length?Array.from(t,zp):[0,1],Pa(n)}function S$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Ek(t){return Math.log(t)}function Tk(t){return Math.exp(t)}function BX(t){return-Math.log(-t)}function zX(t){return-Math.exp(-t)}function HX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function WX(t){return t===10?HX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function GX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Sk(t){return(e,n)=>-t(-e,n)}function $T(t){const e=t(Ek,Tk),n=e.domain;let r=10,i,o;function s(){return i=GX(r),o=WX(r),n()[0]<0?(i=Sk(i),o=Sk(o),t(BX,zX)):t(Ek,Tk),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let h=c[0],p=c[c.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=i(h),w=i(p),A,T;const x=l==null?10:+l;let D=[];if(!(r%1)&&w-y<x){if(y=Math.floor(y),w=Math.ceil(w),h>0){for(;y<=w;++y)for(A=1;A<r;++A)if(T=y<0?A/o(-y):A*o(y),!(T<h)){if(T>p)break;D.push(T)}}else for(;y<=w;++y)for(A=r-1;A>=1;--A)if(T=y>0?A/o(-y):A*o(y),!(T<h)){if(T>p)break;D.push(T)}D.length*2<x&&(D=hx(h,p,x))}else D=hx(y,w,Math.min(w-y,x)).map(o);return g?D.reverse():D},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=wf(c)).precision==null&&(c.trim=!0),c=LT(c)),l===1/0)return c;const h=Math.max(1,r*l/e.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?c(p):""}},e.nice=()=>n(S$(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function A$(){const t=$T(tg()).domain([1,10]);return t.copy=()=>oh(t,A$()).base(t.base()),Ur.apply(t,arguments),t}function Ak(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ik(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function VT(t){var e=1,n=t(Ak(e),Ik(e));return n.constant=function(r){return arguments.length?t(Ak(e=+r),Ik(e)):e},Pa(n)}function I$(){var t=VT(tg());return t.copy=function(){return oh(t,I$()).constant(t.constant())},Ur.apply(t,arguments)}function Pk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XX(t){return t<0?-t*t:t*t}function UT(t){var e=t(Un,Un),n=1;function r(){return n===1?t(Un,Un):n===.5?t(KX,XX):t(Pk(n),Pk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Pa(e)}function FT(){var t=UT(tg());return t.copy=function(){return oh(t,FT()).exponent(t.exponent())},Ur.apply(t,arguments),t}function QX(){return FT.apply(null,arguments).exponent(.5)}function Ok(t){return Math.sign(t)*t*t}function YX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function P$(){var t=DT(),e=[0,1],n=!1,r;function i(o){var s=YX(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Ok(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,zp)).map(Ok)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return P$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ur.apply(i,arguments),Pa(i)}function O$(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=nX(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:e[rh(n,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ha),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return O$().domain(t).range(e).unknown(r)},Ur.apply(o,arguments)}function C$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[rh(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var h=i.indexOf(c);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return C$().domain([t,e]).range(i).unknown(o)},Ur.apply(Pa(s),arguments)}function R$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[rh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return R$().domain(t).range(e).unknown(n)},Ur.apply(i,arguments)}const xw=new Date,Ew=new Date;function an(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let h;do c.push(h=new Date(+o)),e(o,l),t(o);while(h<o&&o<s);return c},i.filter=o=>an(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(xw.setTime(+o),Ew.setTime(+s),t(xw),t(Ew),Math.floor(n(xw,Ew))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Gp=an(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?an(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Gp);Gp.range;const lo=1e3,jr=lo*60,co=jr*60,wo=co*24,qT=wo*7,Ck=wo*30,Tw=wo*365,gs=an(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getUTCSeconds());gs.range;const BT=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lo)},(t,e)=>{t.setTime(+t+e*jr)},(t,e)=>(e-t)/jr,t=>t.getMinutes());BT.range;const zT=an(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*jr)},(t,e)=>(e-t)/jr,t=>t.getUTCMinutes());zT.range;const HT=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lo-t.getMinutes()*jr)},(t,e)=>{t.setTime(+t+e*co)},(t,e)=>(e-t)/co,t=>t.getHours());HT.range;const WT=an(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*co)},(t,e)=>(e-t)/co,t=>t.getUTCHours());WT.range;const ah=an(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jr)/wo,t=>t.getDate()-1);ah.range;const ng=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>t.getUTCDate()-1);ng.range;const k$=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>Math.floor(t/wo));k$.range;function Ls(t){return an(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*jr)/qT)}const rg=Ls(0),Kp=Ls(1),JX=Ls(2),ZX=Ls(3),rl=Ls(4),eQ=Ls(5),tQ=Ls(6);rg.range;Kp.range;JX.range;ZX.range;rl.range;eQ.range;tQ.range;function $s(t){return an(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qT)}const ig=$s(0),Xp=$s(1),nQ=$s(2),rQ=$s(3),il=$s(4),iQ=$s(5),oQ=$s(6);ig.range;Xp.range;nQ.range;rQ.range;il.range;iQ.range;oQ.range;const GT=an(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());GT.range;const KT=an(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());KT.range;const bo=an(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bo.range;const xo=an(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xo.range;function N$(t,e,n,r,i,o){const s=[[gs,1,lo],[gs,5,5*lo],[gs,15,15*lo],[gs,30,30*lo],[o,1,jr],[o,5,5*jr],[o,15,15*jr],[o,30,30*jr],[i,1,co],[i,3,3*co],[i,6,6*co],[i,12,12*co],[r,1,wo],[r,2,2*wo],[n,1,qT],[e,1,Ck],[e,3,3*Ck],[t,1,Tw]];function l(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:c(h,p,g),A=w?w.range(h,+p+1):[];return y?A.reverse():A}function c(h,p,g){const y=Math.abs(p-h)/g,w=CT(([,,x])=>x).right(s,y);if(w===s.length)return t.every(px(h/Tw,p/Tw,g));if(w===0)return Gp.every(Math.max(px(h,p,g),1));const[A,T]=s[y/s[w-1][2]<s[w][2]/y?w-1:w];return A.every(T)}return[l,c]}const[aQ,sQ]=N$(xo,KT,ig,k$,WT,zT),[uQ,lQ]=N$(bo,GT,rg,ah,HT,BT);function Sw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,h=Sc(i),p=Ac(i),g=Sc(o),y=Ac(o),w=Sc(s),A=Ac(s),T=Sc(l),x=Ac(l),D=Sc(c),$=Ac(c),U={a:J,A:B,b:K,B:Z,c:null,d:Mk,e:Mk,f:NQ,g:BQ,G:HQ,H:CQ,I:RQ,j:kQ,L:j$,m:jQ,M:DQ,p:z,q:Y,Q:Vk,s:Uk,S:MQ,u:LQ,U:$Q,V:VQ,w:UQ,W:FQ,x:null,X:null,y:qQ,Y:zQ,Z:WQ,"%":$k},F={a:de,A:Ce,b:ae,B:_e,c:null,d:Lk,e:Lk,f:QQ,g:aY,G:uY,H:GQ,I:KQ,j:XQ,L:M$,m:YQ,M:JQ,p:xe,q:Ie,Q:Vk,s:Uk,S:ZQ,u:eY,U:tY,V:nY,w:rY,W:iY,x:null,X:null,y:oY,Y:sY,Z:lY,"%":$k},k={a:N,A:R,b:V,B:j,c:M,d:jk,e:jk,f:AQ,g:Nk,G:kk,H:Dk,I:Dk,j:xQ,L:SQ,m:bQ,M:EQ,p:S,q:wQ,Q:PQ,s:OQ,S:TQ,u:mQ,U:gQ,V:yQ,w:pQ,W:vQ,x:W,X:G,y:Nk,Y:kk,Z:_Q,"%":IQ};U.x=C(n,U),U.X=C(r,U),U.c=C(e,U),F.x=C(n,F),F.X=C(r,F),F.c=C(e,F);function C(le,we){return function(Ne){var he=[],Ge=-1,He=0,Ye=le.length,Be,bt,rr;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ge<Ye;)le.charCodeAt(Ge)===37&&(he.push(le.slice(He,Ge)),(bt=Rk[Be=le.charAt(++Ge)])!=null?Be=le.charAt(++Ge):bt=Be==="e"?" ":"0",(rr=we[Be])&&(Be=rr(Ne,bt)),he.push(Be),He=Ge+1);return he.push(le.slice(He,Ge)),he.join("")}}function I(le,we){return function(Ne){var he=Tc(1900,void 0,1),Ge=O(he,le,Ne+="",0),He,Ye;if(Ge!=Ne.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(we&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(He=Aw(Tc(he.y,0,1)),Ye=He.getUTCDay(),He=Ye>4||Ye===0?Xp.ceil(He):Xp(He),He=ng.offset(He,(he.V-1)*7),he.y=He.getUTCFullYear(),he.m=He.getUTCMonth(),he.d=He.getUTCDate()+(he.w+6)%7):(He=Sw(Tc(he.y,0,1)),Ye=He.getDay(),He=Ye>4||Ye===0?Kp.ceil(He):Kp(He),He=ah.offset(He,(he.V-1)*7),he.y=He.getFullYear(),he.m=He.getMonth(),he.d=He.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ye="Z"in he?Aw(Tc(he.y,0,1)).getUTCDay():Sw(Tc(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ye+5)%7:he.w+he.U*7-(Ye+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Aw(he)):Sw(he)}}function O(le,we,Ne,he){for(var Ge=0,He=we.length,Ye=Ne.length,Be,bt;Ge<He;){if(he>=Ye)return-1;if(Be=we.charCodeAt(Ge++),Be===37){if(Be=we.charAt(Ge++),bt=k[Be in Rk?we.charAt(Ge++):Be],!bt||(he=bt(le,Ne,he))<0)return-1}else if(Be!=Ne.charCodeAt(he++))return-1}return he}function S(le,we,Ne){var he=h.exec(we.slice(Ne));return he?(le.p=p.get(he[0].toLowerCase()),Ne+he[0].length):-1}function N(le,we,Ne){var he=w.exec(we.slice(Ne));return he?(le.w=A.get(he[0].toLowerCase()),Ne+he[0].length):-1}function R(le,we,Ne){var he=g.exec(we.slice(Ne));return he?(le.w=y.get(he[0].toLowerCase()),Ne+he[0].length):-1}function V(le,we,Ne){var he=D.exec(we.slice(Ne));return he?(le.m=$.get(he[0].toLowerCase()),Ne+he[0].length):-1}function j(le,we,Ne){var he=T.exec(we.slice(Ne));return he?(le.m=x.get(he[0].toLowerCase()),Ne+he[0].length):-1}function M(le,we,Ne){return O(le,e,we,Ne)}function W(le,we,Ne){return O(le,n,we,Ne)}function G(le,we,Ne){return O(le,r,we,Ne)}function J(le){return s[le.getDay()]}function B(le){return o[le.getDay()]}function K(le){return c[le.getMonth()]}function Z(le){return l[le.getMonth()]}function z(le){return i[+(le.getHours()>=12)]}function Y(le){return 1+~~(le.getMonth()/3)}function de(le){return s[le.getUTCDay()]}function Ce(le){return o[le.getUTCDay()]}function ae(le){return c[le.getUTCMonth()]}function _e(le){return l[le.getUTCMonth()]}function xe(le){return i[+(le.getUTCHours()>=12)]}function Ie(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var we=C(le+="",U);return we.toString=function(){return le},we},parse:function(le){var we=I(le+="",!1);return we.toString=function(){return le},we},utcFormat:function(le){var we=C(le+="",F);return we.toString=function(){return le},we},utcParse:function(le){var we=I(le+="",!0);return we.toString=function(){return le},we}}}var Rk={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,fQ=/^%/,hQ=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dQ(t){return t.replace(hQ,"\\$&")}function Sc(t){return new RegExp("^(?:"+t.map(dQ).join("|")+")","i")}function Ac(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function pQ(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mQ(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gQ(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yQ(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vQ(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kk(t,e,n){var r=dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Nk(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _Q(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wQ(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function bQ(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jk(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xQ(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Dk(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function EQ(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function TQ(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function SQ(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function AQ(t,e,n){var r=dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IQ(t,e,n){var r=fQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function PQ(t,e,n){var r=dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function OQ(t,e,n){var r=dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Mk(t,e){return ut(t.getDate(),e,2)}function CQ(t,e){return ut(t.getHours(),e,2)}function RQ(t,e){return ut(t.getHours()%12||12,e,2)}function kQ(t,e){return ut(1+ah.count(bo(t),t),e,3)}function j$(t,e){return ut(t.getMilliseconds(),e,3)}function NQ(t,e){return j$(t,e)+"000"}function jQ(t,e){return ut(t.getMonth()+1,e,2)}function DQ(t,e){return ut(t.getMinutes(),e,2)}function MQ(t,e){return ut(t.getSeconds(),e,2)}function LQ(t){var e=t.getDay();return e===0?7:e}function $Q(t,e){return ut(rg.count(bo(t)-1,t),e,2)}function D$(t){var e=t.getDay();return e>=4||e===0?rl(t):rl.ceil(t)}function VQ(t,e){return t=D$(t),ut(rl.count(bo(t),t)+(bo(t).getDay()===4),e,2)}function UQ(t){return t.getDay()}function FQ(t,e){return ut(Kp.count(bo(t)-1,t),e,2)}function qQ(t,e){return ut(t.getFullYear()%100,e,2)}function BQ(t,e){return t=D$(t),ut(t.getFullYear()%100,e,2)}function zQ(t,e){return ut(t.getFullYear()%1e4,e,4)}function HQ(t,e){var n=t.getDay();return t=n>=4||n===0?rl(t):rl.ceil(t),ut(t.getFullYear()%1e4,e,4)}function WQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function Lk(t,e){return ut(t.getUTCDate(),e,2)}function GQ(t,e){return ut(t.getUTCHours(),e,2)}function KQ(t,e){return ut(t.getUTCHours()%12||12,e,2)}function XQ(t,e){return ut(1+ng.count(xo(t),t),e,3)}function M$(t,e){return ut(t.getUTCMilliseconds(),e,3)}function QQ(t,e){return M$(t,e)+"000"}function YQ(t,e){return ut(t.getUTCMonth()+1,e,2)}function JQ(t,e){return ut(t.getUTCMinutes(),e,2)}function ZQ(t,e){return ut(t.getUTCSeconds(),e,2)}function eY(t){var e=t.getUTCDay();return e===0?7:e}function tY(t,e){return ut(ig.count(xo(t)-1,t),e,2)}function L$(t){var e=t.getUTCDay();return e>=4||e===0?il(t):il.ceil(t)}function nY(t,e){return t=L$(t),ut(il.count(xo(t),t)+(xo(t).getUTCDay()===4),e,2)}function rY(t){return t.getUTCDay()}function iY(t,e){return ut(Xp.count(xo(t)-1,t),e,2)}function oY(t,e){return ut(t.getUTCFullYear()%100,e,2)}function aY(t,e){return t=L$(t),ut(t.getUTCFullYear()%100,e,2)}function sY(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function uY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?il(t):il.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function lY(){return"+0000"}function $k(){return"%"}function Vk(t){return+t}function Uk(t){return Math.floor(+t/1e3)}var Pu,$$,V$;cY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cY(t){return Pu=cQ(t),$$=Pu.format,Pu.parse,V$=Pu.utcFormat,Pu.utcParse,Pu}function fY(t){return new Date(t)}function hY(t){return t instanceof Date?+t:+new Date(+t)}function XT(t,e,n,r,i,o,s,l,c,h){var p=DT(),g=p.invert,y=p.domain,w=h(".%L"),A=h(":%S"),T=h("%I:%M"),x=h("%I %p"),D=h("%a %d"),$=h("%b %d"),U=h("%B"),F=h("%Y");function k(C){return(c(C)<C?w:l(C)<C?A:s(C)<C?T:o(C)<C?x:r(C)<C?i(C)<C?D:$:n(C)<C?U:F)(C)}return p.invert=function(C){return new Date(g(C))},p.domain=function(C){return arguments.length?y(Array.from(C,hY)):y().map(fY)},p.ticks=function(C){var I=y();return t(I[0],I[I.length-1],C??10)},p.tickFormat=function(C,I){return I==null?k:h(I)},p.nice=function(C){var I=y();return(!C||typeof C.range!="function")&&(C=e(I[0],I[I.length-1],C??10)),C?y(S$(I,C)):p},p.copy=function(){return oh(p,XT(t,e,n,r,i,o,s,l,c,h))},p}function dY(){return Ur.apply(XT(uQ,lQ,bo,GT,rg,ah,HT,BT,gs,$$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pY(){return Ur.apply(XT(aQ,sQ,xo,KT,ig,ng,WT,zT,gs,V$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function og(){var t=0,e=1,n,r,i,o,s=Un,l=!1,c;function h(g){return g==null||isNaN(g=+g)?c:s(i===0?.5:(g=(o(g)-n)*i,l?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(l=!!g,h):l},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(y){var w,A;return arguments.length?([w,A]=y,s=g(w,A),h):[s(0),s(1)]}}return h.range=p(Pl),h.rangeRound=p(jT),h.unknown=function(g){return arguments.length?(c=g,h):c},function(g){return o=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function Oa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function U$(){var t=Pa(og()(Un));return t.copy=function(){return Oa(t,U$())},Io.apply(t,arguments)}function F$(){var t=$T(og()).domain([1,10]);return t.copy=function(){return Oa(t,F$()).base(t.base())},Io.apply(t,arguments)}function q$(){var t=VT(og());return t.copy=function(){return Oa(t,q$()).constant(t.constant())},Io.apply(t,arguments)}function QT(){var t=UT(og());return t.copy=function(){return Oa(t,QT()).exponent(t.exponent())},Io.apply(t,arguments)}function mY(){return QT.apply(null,arguments).exponent(.5)}function B$(){var t=[],e=Un;function n(r){if(r!=null&&!isNaN(r=+r))return e((rh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ha),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>tX(t,o/r))},n.copy=function(){return B$(e).domain(t)},Io.apply(n,arguments)}function ag(){var t=0,e=.5,n=1,r=1,i,o,s,l,c,h=Un,p,g=!1,y;function w(T){return isNaN(T=+T)?y:(T=.5+((T=+p(T))-o)*(r*T<r*o?l:c),h(g?Math.max(0,Math.min(1,T)):T))}w.domain=function(T){return arguments.length?([t,e,n]=T,i=p(t=+t),o=p(e=+e),s=p(n=+n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,w):[t,e,n]},w.clamp=function(T){return arguments.length?(g=!!T,w):g},w.interpolator=function(T){return arguments.length?(h=T,w):h};function A(T){return function(x){var D,$,U;return arguments.length?([D,$,U]=x,h=IX(T,[D,$,U]),w):[h(0),h(.5),h(1)]}}return w.range=A(Pl),w.rangeRound=A(jT),w.unknown=function(T){return arguments.length?(y=T,w):y},function(T){return p=T,i=T(t),o=T(e),s=T(n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,w}}function z$(){var t=Pa(ag()(Un));return t.copy=function(){return Oa(t,z$())},Io.apply(t,arguments)}function H$(){var t=$T(ag()).domain([.1,1,10]);return t.copy=function(){return Oa(t,H$()).base(t.base())},Io.apply(t,arguments)}function W$(){var t=VT(ag());return t.copy=function(){return Oa(t,W$()).constant(t.constant())},Io.apply(t,arguments)}function YT(){var t=UT(ag());return t.copy=function(){return Oa(t,YT()).exponent(t.exponent())},Io.apply(t,arguments)}function gY(){return YT.apply(null,arguments).exponent(.5)}const Fk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gf,scaleDiverging:z$,scaleDivergingLog:H$,scaleDivergingPow:YT,scaleDivergingSqrt:gY,scaleDivergingSymlog:W$,scaleIdentity:T$,scaleImplicit:mx,scaleLinear:Wp,scaleLog:A$,scaleOrdinal:RT,scalePoint:Gc,scalePow:FT,scaleQuantile:O$,scaleQuantize:C$,scaleRadial:P$,scaleSequential:U$,scaleSequentialLog:F$,scaleSequentialPow:QT,scaleSequentialQuantile:B$,scaleSequentialSqrt:mY,scaleSequentialSymlog:q$,scaleSqrt:QX,scaleSymlog:I$,scaleThreshold:R$,scaleTime:dY,scaleUtc:pY,tickFormat:E$},Symbol.toStringTag,{value:"Module"}));var Iw,qk;function sg(){if(qk)return Iw;qk=1;var t=Sl();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var l=n[o],c=r(l);if(c!=null&&(h===void 0?c===c&&!t(c):i(c,h)))var h=c,p=l}return p}return Iw=e,Iw}var Pw,Bk;function G$(){if(Bk)return Pw;Bk=1;function t(e,n){return e>n}return Pw=t,Pw}var Ow,zk;function yY(){if(zk)return Ow;zk=1;var t=sg(),e=G$(),n=Il();function r(i){return i&&i.length?t(i,n,e):void 0}return Ow=r,Ow}var vY=yY();const ug=gt(vY);var Cw,Hk;function K$(){if(Hk)return Cw;Hk=1;function t(e,n){return e<n}return Cw=t,Cw}var Rw,Wk;function _Y(){if(Wk)return Rw;Wk=1;var t=sg(),e=K$(),n=Il();function r(i){return i&&i.length?t(i,n,e):void 0}return Rw=r,Rw}var wY=_Y();const lg=gt(wY);var kw,Gk;function bY(){if(Gk)return kw;Gk=1;var t=hT(),e=Li(),n=n$(),r=nr();function i(o,s){var l=r(o)?t:n;return l(o,e(s,3))}return kw=i,kw}var Nw,Kk;function xY(){if(Kk)return Nw;Kk=1;var t=e$(),e=bY();function n(r,i){return t(e(r,i),1)}return Nw=n,Nw}var EY=xY();const TY=gt(EY);var jw,Xk;function SY(){if(Xk)return jw;Xk=1;var t=AT();function e(n,r){return t(n,r)}return jw=e,jw}var AY=SY();const JT=gt(AY);var Ol=1e9,IY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},e1,Rt=!0,$r="[DecimalError] ",_s=$r+"Invalid argument: ",ZT=$r+"Exponent out of range: ",Cl=Math.floor,ls=Math.pow,PY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,hn=1e7,It=7,X$=9007199254740991,Qp=Cl(X$/It),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return mo(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return _t(mo(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Kt(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pr))throw Error($r+"NaN");if(n.s<1)throw Error($r+(n.s?"NaN":"-Infinity"));return n.eq(pr)?new r(0):(Rt=!1,e=mo(bf(n,o),bf(t,o),o),Rt=!0,_t(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J$(e,t):Q$(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($r+"NaN");return n.s?(Rt=!1,e=mo(n,t,0,1).times(t),Rt=!0,n.minus(e)):_t(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return Y$(this)};Ae.naturalLogarithm=Ae.ln=function(){return bf(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q$(e,t):J$(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_s+t);if(e=Kt(i)+1,r=i.d.length-1,n=r*It+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($r+"NaN")}for(t=Kt(l),Rt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ti(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Cl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(mo(l,o,s+2)).times(.5),Ti(o.d).slice(0,s)===(e=Ti(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(_t(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;s+=4}return Rt=!0,_t(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,o,s,l,c,h,p=this,g=p.constructor,y=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,c=y.length,h=w.length,c<h&&(o=y,y=w,w=o,s=c,c=h,h=s),o=[],s=c+h,r=s;r--;)o.push(0);for(r=h;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+w[r]*y[i-r-1]+e,o[i--]=l%hn|0,e=l/hn|0;o[i]=(o[i]+e)%hn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Rt?_t(t,g.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ji(t,0,Ol),e===void 0?e=r.rounding:ji(e,0,8),_t(n,t+Kt(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Os(r,!0):(ji(t,0,Ol),e===void 0?e=i.rounding:ji(e,0,8),r=_t(new i(r),t+1,e),n=Os(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Os(i):(ji(t,0,Ol),e===void 0?e=o.rounding:ji(e,0,8),r=_t(new o(i),t+Kt(i)+1,e),n=Os(r.abs(),!1,t+Kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return _t(new e(t),Kt(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,o,s,l=this,c=l.constructor,h=12,p=+(t=new c(t));if(!t.s)return new c(pr);if(l=new c(l),!l.s){if(t.s<1)throw Error($r+"Infinity");return l}if(l.eq(pr))return l;if(r=c.precision,t.eq(pr))return _t(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=l.s,s){if((n=p<0?-p:p)<=X$){for(i=new c(pr),e=Math.ceil(r/It+4),Rt=!1;n%2&&(i=i.times(l),Yk(i.d,e)),n=Cl(n/2),n!==0;)l=l.times(l),Yk(l.d,e);return Rt=!0,t.s<0?new c(pr).div(i):_t(i,r)}}else if(o<0)throw Error($r+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Rt=!1,i=t.times(bf(l,r+h)),Rt=!0,i=Y$(i),i.s=o,i};Ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Kt(i),r=Os(i,n<=o.toExpNeg||n>=o.toExpPos)):(ji(t,1,Ol),e===void 0?e=o.rounding:ji(e,0,8),i=_t(new o(i),t,e),n=Kt(i),r=Os(i,t<=n||n<=o.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ji(t,1,Ol),e===void 0?e=r.rounding:ji(e,0,8)),_t(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Kt(t),n=t.constructor;return Os(t,e<=n.toExpNeg||e>=n.toExpPos)};function Q$(t,e){var n,r,i,o,s,l,c,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Rt?_t(e,g):e;if(c=t.d,h=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,l=h.length):(r=h,i=s,l=c.length),s=Math.ceil(g/It),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=h.length,l-o<0&&(o=l,r=h,h=c,c=r),n=0;o;)n=(c[--o]=c[o]+h[o]+n)/hn|0,c[o]%=hn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Rt?_t(e,g):e}function ji(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_s+t)}function Ti(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=It-r.length,n&&(o+=ea(n)),o+=r;s=t[e],r=s+"",n=It-r.length,n&&(o+=ea(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var mo=function(){function t(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%hn|0,s=o/hn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*hn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,c,h,p,g,y,w,A,T,x,D,$,U,F,k,C,I,O,S=r.constructor,N=r.s==i.s?1:-1,R=r.d,V=i.d;if(!r.s)return new S(r);if(!i.s)throw Error($r+"Division by zero");for(c=r.e-i.e,I=V.length,k=R.length,w=new S(N),A=w.d=[],h=0;V[h]==(R[h]||0);)++h;if(V[h]>(R[h]||0)&&--c,o==null?$=o=S.precision:s?$=o+(Kt(r)-Kt(i))+1:$=o,$<0)return new S(0);if($=$/It+2|0,h=0,I==1)for(p=0,V=V[0],$++;(h<k||p)&&$--;h++)U=p*hn+(R[h]||0),A[h]=U/V|0,p=U%V|0;else{for(p=hn/(V[0]+1)|0,p>1&&(V=t(V,p),R=t(R,p),I=V.length,k=R.length),F=I,T=R.slice(0,I),x=T.length;x<I;)T[x++]=0;O=V.slice(),O.unshift(0),C=V[0],V[1]>=hn/2&&++C;do p=0,l=e(V,T,I,x),l<0?(D=T[0],I!=x&&(D=D*hn+(T[1]||0)),p=D/C|0,p>1?(p>=hn&&(p=hn-1),g=t(V,p),y=g.length,x=T.length,l=e(g,T,y,x),l==1&&(p--,n(g,I<y?O:V,y))):(p==0&&(l=p=1),g=V.slice()),y=g.length,y<x&&g.unshift(0),n(T,g,x),l==-1&&(x=T.length,l=e(V,T,I,x),l<1&&(p++,n(T,I<x?O:V,x))),x=T.length):l===0&&(p++,T=[0]),A[h++]=p,l&&T[0]?T[x++]=R[F]||0:(T=[R[F]],x=1);while((F++<k||T[0]!==void 0)&&$--)}return A[0]||A.shift(),w.e=c,_t(w,s?o+Kt(w)+1:o)}}();function Y$(t,e){var n,r,i,o,s,l,c=0,h=0,p=t.constructor,g=p.precision;if(Kt(t)>16)throw Error(ZT+Kt(t));if(!t.s)return new p(pr);for(Rt=!1,l=g,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),h+=5;for(r=Math.log(ls(2,h))/Math.LN10*2+5|0,l+=r,n=i=o=new p(pr),p.precision=l;;){if(i=_t(i.times(t),l),n=n.times(++c),s=o.plus(mo(i,n,l)),Ti(s.d).slice(0,l)===Ti(o.d).slice(0,l)){for(;h--;)o=_t(o.times(o),l);return p.precision=g,e==null?(Rt=!0,_t(o,g)):o}o=s}}function Kt(t){for(var e=t.e*It,n=t.d[0];n>=10;n/=10)e++;return e}function Dw(t,e,n){if(e>t.LN10.sd())throw Rt=!0,n&&(t.precision=n),Error($r+"LN10 precision limit exceeded");return _t(new t(t.LN10),e)}function ea(t){for(var e="";t--;)e+="0";return e}function bf(t,e){var n,r,i,o,s,l,c,h,p,g=1,y=10,w=t,A=w.d,T=w.constructor,x=T.precision;if(w.s<1)throw Error($r+(w.s?"NaN":"-Infinity"));if(w.eq(pr))return new T(0);if(e==null?(Rt=!1,h=x):h=e,w.eq(10))return e==null&&(Rt=!0),Dw(T,h);if(h+=y,T.precision=h,n=Ti(A),r=n.charAt(0),o=Kt(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ti(w.d),r=n.charAt(0),g++;o=Kt(w),r>1?(w=new T("0."+n),o++):w=new T(r+"."+n.slice(1))}else return c=Dw(T,h+2,x).times(o+""),w=bf(new T(r+"."+n.slice(1)),h-y).plus(c),T.precision=x,e==null?(Rt=!0,_t(w,x)):w;for(l=s=w=mo(w.minus(pr),w.plus(pr),h),p=_t(w.times(w),h),i=3;;){if(s=_t(s.times(p),h),c=l.plus(mo(s,new T(i),h)),Ti(c.d).slice(0,h)===Ti(l.d).slice(0,h))return l=l.times(2),o!==0&&(l=l.plus(Dw(T,h+2,x).times(o+""))),l=mo(l,new T(g),h),T.precision=x,e==null?(Rt=!0,_t(l,x)):l;l=c,i+=2}}function Qk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Cl(n/It),t.d=[],r=(n+1)%It,n<0&&(r+=It),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=It;r<i;)t.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Rt&&(t.e>Qp||t.e<-Qp))throw Error(ZT+n)}else t.s=0,t.e=0,t.d=[0];return t}function _t(t,e,n){var r,i,o,s,l,c,h,p,g=t.d;for(s=1,o=g[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=It,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/It),o=g.length,p>=o)return t;for(h=o=g[p],s=1;o>=10;o/=10)s++;r%=It,i=r-It+s}if(n!==void 0&&(o=ls(10,s-i-1),l=h/o%10|0,c=e<0||g[p+1]!==void 0||h%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?h/ls(10,s-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return c?(o=Kt(t),g.length=1,e=e-o-1,g[0]=ls(10,(It-e%It)%It),t.e=Cl(-e/It)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=ls(10,It-r),g[p]=i>0?(h/ls(10,s-i)%ls(10,i)|0)*o:0),c)for(;;)if(p==0){(g[0]+=o)==hn&&(g[0]=1,++t.e);break}else{if(g[p]+=o,g[p]!=hn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Rt&&(t.e>Qp||t.e<-Qp))throw Error(ZT+Kt(t));return t}function J$(t,e){var n,r,i,o,s,l,c,h,p,g,y=t.constructor,w=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Rt?_t(e,w):e;if(c=t.d,g=e.d,r=e.e,h=t.e,c=c.slice(),s=h-r,s){for(p=s<0,p?(n=c,s=-s,l=g.length):(n=g,r=h,l=c.length),i=Math.max(Math.ceil(w/It),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=g.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(c[i]!=g[i]){p=c[i]<g[i];break}s=0}for(p&&(n=c,c=g,g=n,e.s=-e.s),l=c.length,i=g.length-l;i>0;--i)c[l++]=0;for(i=g.length;i>s;){if(c[--i]<g[i]){for(o=i;o&&c[--o]===0;)c[o]=hn-1;--c[o],c[i]+=hn}c[i]-=g[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Rt?_t(e,w):e):new y(0)}function Os(t,e,n){var r,i=Kt(t),o=Ti(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ea(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ea(-i-1)+o,n&&(r=n-s)>0&&(o+=ea(r))):i>=s?(o+=ea(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ea(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ea(r))),t.s<0?"-"+o:o}function Yk(t,e){if(t.length>e)return t.length=e,!0}function Z$(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(_s+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Qk(s,o.toString())}else if(typeof o!="string")throw Error(_s+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,PY.test(o))Qk(s,o);else throw Error(_s+o)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Z$,i.config=i.set=OY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function OY(t){if(!t||typeof t!="object")throw Error($r+"Object expected");var e,n,r,i=["precision",1,Ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Cl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_s+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_s+n+": "+r);return this}var e1=Z$(IY);pr=new e1(1);const pt=e1;function CY(t){return jY(t)||NY(t)||kY(t)||RY()}function RY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kY(t,e){if(t){if(typeof t=="string")return _x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _x(t,e)}}function NY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jY(t){if(Array.isArray(t))return _x(t)}function _x(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DY=function(e){return e},e4={},t4=function(e){return e===e4},Jk=function(e){return function n(){return arguments.length===0||arguments.length===1&&t4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},MY=function t(e,n){return e===1?n:Jk(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==e4}).length;return s>=e?n.apply(void 0,i):t(e-s,Jk(function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];var p=i.map(function(g){return t4(g)?c.shift():g});return n.apply(void 0,CY(p).concat(c))}))})},cg=function(e){return MY(e.length,e)},wx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},LY=cg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),$Y=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return DY;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},bx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},n4=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function VY(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function UY(t,e,n){for(var r=new pt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var FY=cg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),qY=cg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),BY=cg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const fg={rangeStep:UY,getDigitCount:VY,interpolateNumber:FY,uninterpolateNumber:qY,uninterpolateTruncation:BY};function xx(t){return WY(t)||HY(t)||r4(t)||zY()}function zY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function WY(t){if(Array.isArray(t))return Ex(t)}function xf(t,e){return XY(t)||KY(t,e)||r4(t,e)||GY()}function GY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r4(t,e){if(t){if(typeof t=="string")return Ex(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ex(t,e)}}function Ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function XY(t){if(Array.isArray(t))return t}function i4(t){var e=xf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function o4(t,e,n){if(t.lte(0))return new pt(0);var r=fg.getDigitCount(t.toNumber()),i=new pt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,l=new pt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new pt(Math.ceil(c))}function QY(t,e,n){var r=1,i=new pt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new pt(10).pow(fg.getDigitCount(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));var s=Math.floor((e-1)/2),l=$Y(LY(function(c){return i.add(new pt(c-s).mul(r)).toNumber()}),wx);return l(0,e)}function a4(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var o=o4(new pt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new pt(0):(s=new pt(t).add(e).div(2),s=s.sub(new pt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new pt(e).sub(s).div(o).toNumber()),h=l+c+1;return h>n?a4(t,e,n,r,i+1):(h<n&&(c=e>0?c+(n-h):c,l=e>0?l:l+(n-h)),{step:o,tickMin:s.sub(new pt(l).mul(o)),tickMax:s.add(new pt(c).mul(o))})}function YY(t){var e=xf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=i4([n,r]),c=xf(l,2),h=c[0],p=c[1];if(h===-1/0||p===1/0){var g=p===1/0?[h].concat(xx(wx(0,i-1).map(function(){return 1/0}))):[].concat(xx(wx(0,i-1).map(function(){return-1/0})),[p]);return n>r?bx(g):g}if(h===p)return QY(h,i,o);var y=a4(h,p,s,o),w=y.step,A=y.tickMin,T=y.tickMax,x=fg.rangeStep(A,T.add(new pt(.1).mul(w)),w);return n>r?bx(x):x}function JY(t,e){var n=xf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=i4([r,i]),l=xf(s,2),c=l[0],h=l[1];if(c===-1/0||h===1/0)return[r,i];if(c===h)return[c];var p=Math.max(e,2),g=o4(new pt(h).sub(c).div(p-1),o,0),y=[].concat(xx(fg.rangeStep(new pt(c),new pt(h).sub(new pt(.99).mul(g)),g)),[h]);return r>i?bx(y):y}var ZY=n4(YY),eJ=n4(JY),tJ="Invariant failed";function ol(t,e){throw new Error(tJ)}var nJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function rJ(t,e){return sJ(t)||aJ(t,e)||oJ(t,e)||iJ()}function iJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return Zk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(t,e)}}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function sJ(t){if(Array.isArray(t))return t}function uJ(t,e){if(t==null)return{};var n=lJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function hJ(t,e,n){return e&&fJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dJ(t,e,n){return e=Jp(e),pJ(t,s4()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function pJ(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJ(t)}function mJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function gJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tx(t,e)}function Tx(t,e){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tx(t,e)}function u4(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l4(t){var e=yJ(t,"string");return al(e)=="symbol"?e:e+""}function yJ(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t1=function(t){function e(){return cJ(this,e),dJ(this,e,arguments)}return gJ(e,t),hJ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,l=r.dataKey,c=r.data,h=r.dataPointFormatter,p=r.xAxis,g=r.yAxis,y=uJ(r,nJ),w=Ke(y,!1);this.props.direction==="x"&&p.type!=="number"&&ol();var A=c.map(function(T){var x=h(T,l),D=x.x,$=x.y,U=x.value,F=x.errorVal;if(!F)return null;var k=[],C,I;if(Array.isArray(F)){var O=rJ(F,2);C=O[0],I=O[1]}else C=I=F;if(o==="vertical"){var S=p.scale,N=$+i,R=N+s,V=N-s,j=S(U-C),M=S(U+I);k.push({x1:M,y1:R,x2:M,y2:V}),k.push({x1:j,y1:N,x2:M,y2:N}),k.push({x1:j,y1:R,x2:j,y2:V})}else if(o==="horizontal"){var W=g.scale,G=D+i,J=G-s,B=G+s,K=W(U-C),Z=W(U+I);k.push({x1:J,y1:Z,x2:B,y2:Z}),k.push({x1:G,y1:K,x2:G,y2:Z}),k.push({x1:J,y1:K,x2:B,y2:K})}return ne.createElement(on,Yp({className:"recharts-errorBar",key:"bar-".concat(k.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},w),k.map(function(z){return ne.createElement("line",Yp({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return ne.createElement(on,{className:"recharts-errorBars"},A)}}])}(ne.Component);u4(t1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});u4(t1,"displayName","ErrorBar");function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){vJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vJ(t,e,n){return e=_J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=wJ(t,"string");return Ef(e)=="symbol"?e:e+""}function wJ(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c4=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Rr(n,Fu);if(!s)return null;var l=Fu.defaultProps,c=l!==void 0?is(is({},l),s.props):{},h;return s.props&&s.props.payload?h=s.props&&s.props.payload:o==="children"?h=(r||[]).reduce(function(p,g){var y=g.item,w=g.props,A=w.sectors||w.data||[];return p.concat(A.map(function(T){return{type:s.props.iconType||y.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):h=(r||[]).map(function(p){var g=p.item,y=g.type.defaultProps,w=y!==void 0?is(is({},y),g.props):{},A=w.dataKey,T=w.name,x=w.legendType,D=w.hide;return{inactive:D,dataKey:A,type:c.iconType||x||"square",color:n1(g),value:T||A,payload:w}}),is(is(is({},c),Fu.getWithHeight(s,i)),{},{payload:h,item:s})};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function tN(t){return TJ(t)||EJ(t)||xJ(t)||bJ()}function bJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJ(t,e){if(t){if(typeof t=="string")return Sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sx(t,e)}}function EJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TJ(t){if(Array.isArray(t))return Sx(t)}function Sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){Bu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bu(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=AJ(t,"string");return Tf(e)=="symbol"?e:e+""}function AJ(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eo(t,e,n){return lt(t)||lt(e)?n:tn(e)?Ci(t,e,n):Je(e)?e(t):n}function Kc(t,e,n,r){var i=TY(t,function(l){return Eo(l,e)});if(n==="number"){var o=i.filter(function(l){return Oe(l)||parseFloat(l)});return o.length?[lg(o),ug(o)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!lt(l)}):i;return s.map(function(l){return tn(l)||l instanceof Date?l:""})}var IJ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,h=0;h<l;h++){var p=h>0?i[h-1].coordinate:i[l-1].coordinate,g=i[h].coordinate,y=h>=l-1?i[0].coordinate:i[h+1].coordinate,w=void 0;if(sa(g-p)!==sa(y-g)){var A=[];if(sa(y-g)===sa(c[1]-c[0])){w=y;var T=g+c[1]-c[0];A[0]=Math.min(T,(T+p)/2),A[1]=Math.max(T,(T+p)/2)}else{w=p;var x=y+c[1]-c[0];A[0]=Math.min(g,(x+g)/2),A[1]=Math.max(g,(x+g)/2)}var D=[Math.min(g,(w+g)/2),Math.max(g,(w+g)/2)];if(e>D[0]&&e<=D[1]||e>=A[0]&&e<=A[1]){s=i[h].index;break}}else{var $=Math.min(p,y),U=Math.max(p,y);if(e>($+g)/2&&e<=(U+g)/2){s=i[h].index;break}}}else for(var F=0;F<l;F++)if(F===0&&e<=(r[F].coordinate+r[F+1].coordinate)/2||F>0&&F<l-1&&e>(r[F].coordinate+r[F-1].coordinate)/2&&e<=(r[F].coordinate+r[F+1].coordinate)/2||F===l-1&&e>(r[F].coordinate+r[F-1].coordinate)/2){s=r[F].index;break}return s},n1=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?$t($t({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},PJ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,h=l.length;c<h;c++)for(var p=o[l[c]].stackGroups,g=Object.keys(p),y=0,w=g.length;y<w;y++){var A=p[g[y]],T=A.items,x=A.cateAxisId,D=T.filter(function(I){return ho(I.type).indexOf("Bar")>=0});if(D&&D.length){var $=D[0].type.defaultProps,U=$!==void 0?$t($t({},$),D[0].props):D[0].props,F=U.barSize,k=U[x];s[k]||(s[k]=[]);var C=lt(F)?n:F;s[k].push({item:D[0],stackList:D.slice(1),barSize:lt(C)?void 0:Ei(C,r,0)})}}return s},OJ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var h=Ei(n,i,0,!0),p,g=[];if(s[0].barSize===+s[0].barSize){var y=!1,w=i/c,A=s.reduce(function(F,k){return F+k.barSize||0},0);A+=(c-1)*h,A>=i&&(A-=(c-1)*h,h=0),A>=i&&w>0&&(y=!0,w*=.9,A=c*w);var T=(i-A)/2>>0,x={offset:T-h,size:0};p=s.reduce(function(F,k){var C={item:k.item,position:{offset:x.offset+x.size+h,size:y?w:k.barSize}},I=[].concat(tN(F),[C]);return x=I[I.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(O){I.push({item:O,position:x})}),I},g)}else{var D=Ei(r,i,0,!0);i-2*D-(c-1)*h<=0&&(h=0);var $=(i-2*D-(c-1)*h)/c;$>1&&($>>=0);var U=l===+l?Math.min($,l):$;p=s.reduce(function(F,k,C){var I=[].concat(tN(F),[{item:k.item,position:{offset:D+($+h)*C+($-U)/2,size:U}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(O){I.push({item:O,position:I[I.length-1].position})}),I},g)}return p},CJ=function(e,n,r,i){var o=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),h=c4({children:o,legendWidth:c});if(h){var p=i||{},g=p.width,y=p.height,w=h.align,A=h.verticalAlign,T=h.layout;if((T==="vertical"||T==="horizontal"&&A==="middle")&&w!=="center"&&Oe(e[w]))return $t($t({},e),{},Bu({},w,e[w]+(g||0)));if((T==="horizontal"||T==="vertical"&&w==="center")&&A!=="middle"&&Oe(e[A]))return $t($t({},e),{},Bu({},A,e[A]+(y||0)))}return e},RJ=function(e,n,r){return lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},f4=function(e,n,r,i,o){var s=n.props.children,l=po(s,t1).filter(function(h){return RJ(i,o,h.props.direction)});if(l&&l.length){var c=l.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var g=Eo(p,r);if(lt(g))return h;var y=Array.isArray(g)?[lg(g),ug(g)]:[g,g],w=c.reduce(function(A,T){var x=Eo(p,T,0),D=y[0]-Math.abs(Array.isArray(x)?x[0]:x),$=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(D,A[0]),Math.max($,A[1])]},[1/0,-1/0]);return[Math.min(w[0],h[0]),Math.max(w[1],h[1])]},[1/0,-1/0])}return null},kJ=function(e,n,r,i,o){var s=n.map(function(l){return f4(e,l,r,o,i)}).filter(function(l){return!lt(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},h4=function(e,n,r,i,o){var s=n.map(function(c){var h=c.props.dataKey;return r==="number"&&h&&f4(e,c,h,i)||Kc(e,h,r,o)});if(r==="number")return s.reduce(function(c,h){return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,h){for(var p=0,g=h.length;p<g;p++)l[h[p]]||(l[h[p]]=!0,c.push(h[p]));return c},[])},d4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Vc=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(h=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?sa(l[0]-l[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(g){var y=o?o.indexOf(g):g;return{coordinate:i(y)+h,value:g,offset:h}});return p.filter(function(g){return!th(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,y){return{coordinate:i(g)+h,value:g,index:y,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+h,value:g,offset:h}}):i.domain().map(function(g,y){return{coordinate:i(g)+h,value:o?o[g]:g,index:y,offset:h}})},Mw=new WeakMap,Bd=function(e,n){if(typeof n!="function")return e;Mw.has(e)||Mw.set(e,new WeakMap);var r=Mw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},NJ=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:gf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Wp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0)?{scale:Gc(),realScaleType:"point"}:o==="category"?{scale:gf(),realScaleType:"band"}:{scale:Wp(),realScaleType:"linear"};if(eh(i)){var c="scale".concat(Gm(i));return{scale:(Fk[c]||Gc)(),realScaleType:Fk[c]?c:"point"}}return Je(i)?{scale:i}:{scale:Gc(),realScaleType:"point"}},rN=1e-4,jJ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-rN,s=Math.max(i[0],i[1])+rN,l=e(n[0]),c=e(n[r-1]);(l<o||l>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},DJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,l=0;l<n;++l){var c=th(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},MJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var l=th(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},LJ={sign:DJ,expand:EW,none:Yu,silhouette:TW,wiggle:SW,positive:MJ},$J=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=LJ[r],s=xW().keys(i).value(function(l,c){return+Eo(l,c,0)}).order(tx).offset(o);return s(e)},VJ=function(e,n,r,i,o,s){if(!e)return null;var l=s?n.reverse():n,c={},h=l.reduce(function(g,y){var w,A=(w=y.type)!==null&&w!==void 0&&w.defaultProps?$t($t({},y.type.defaultProps),y.props):y.props,T=A.stackId,x=A.hide;if(x)return g;var D=A[r],$=g[D]||{hasStack:!1,stackGroups:{}};if(tn(T)){var U=$.stackGroups[T]||{numericAxisId:r,cateAxisId:i,items:[]};U.items.push(y),$.hasStack=!0,$.stackGroups[T]=U}else $.stackGroups[pT("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return $t($t({},g),{},Bu({},D,$))},c),p={};return Object.keys(h).reduce(function(g,y){var w=h[y];if(w.hasStack){var A={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(T,x){var D=w.stackGroups[x];return $t($t({},T),{},Bu({},x,{numericAxisId:r,cateAxisId:i,items:D.items,stackedData:$J(e,D.items,o)}))},A)}return $t($t({},g),{},Bu({},y,w))},p)},UJ=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=ZY(h,o,l);return e.domain([lg(p),ug(p)]),{niceTicks:p}}if(o&&i==="number"){var g=e.domain(),y=eJ(g,o,l);return{niceTicks:y}}return null},FJ=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?$t($t({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(tn(o)){var s=n[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},qJ=function(e){return e.reduce(function(n,r){return[lg(r.concat([n[0]]).filter(Oe)),ug(r.concat([n[1]]).filter(Oe))]},[1/0,-1/0])},p4=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(h,p){var g=qJ(p.slice(n,r+1));return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ax=function(e,n,r){if(Je(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(iN.test(e[0])){var o=+iN.exec(e[0])[1];i[0]=n[0]-o}else Je(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(oN.test(e[1])){var s=+oN.exec(e[1])[1];i[1]=n[1]+s}else Je(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ix=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=PT(n,function(g){return g.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var h=o[l],p=o[l-1];s=Math.min((h.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},aN=function(e,n,r){return!e||!e.length||JT(e,Ci(r,"type.defaultProps.domain"))?n:e},BJ=function(e,n){var r=e.type.defaultProps?$t($t({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,h=r.chartType,p=r.hide;return $t($t({},Ke(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:n1(e),value:Eo(n,i),type:c,payload:n,chartType:h,hide:p})};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){m4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m4(t,e,n){return e=zJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=HJ(t,"string");return Sf(e)=="symbol"?e:e+""}function HJ(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WJ(t,e){return QJ(t)||XJ(t,e)||KJ(t,e)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(t,e){if(t){if(typeof t=="string")return uN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uN(t,e)}}function uN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function QJ(t){if(Array.isArray(t))return t}var Zp=Math.PI/180,YJ=function(e){return e*180/Math.PI},mt=function(e,n,r,i){return{x:e+Math.cos(-Zp*i)*r,y:n+Math.sin(-Zp*i)*r}},JJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ZJ=function(e,n,r,i,o){var s=e.width,l=e.height,c=e.startAngle,h=e.endAngle,p=Ei(e.cx,s,s/2),g=Ei(e.cy,l,l/2),y=JJ(s,l,r),w=Ei(e.innerRadius,y,0),A=Ei(e.outerRadius,y,y*.8),T=Object.keys(n);return T.reduce(function(x,D){var $=n[D],U=$.domain,F=$.reversed,k;if(lt($.range))i==="angleAxis"?k=[c,h]:i==="radiusAxis"&&(k=[w,A]),F&&(k=[k[1],k[0]]);else{k=$.range;var C=k,I=WJ(C,2);c=I[0],h=I[1]}var O=NJ($,o),S=O.realScaleType,N=O.scale;N.domain(U).range(k),jJ(N);var R=UJ(N,no(no({},$),{},{realScaleType:S})),V=no(no(no({},$),R),{},{range:k,radius:A,realScaleType:S,scale:N,cx:p,cy:g,innerRadius:w,outerRadius:A,startAngle:c,endAngle:h});return no(no({},x),{},m4({},D,V))},{})},eZ=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},tZ=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,l=eZ({x:r,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(r-o)/l,h=Math.acos(c);return i>s&&(h=2*Math.PI-h),{radius:l,angle:YJ(h),angleInRadian:h}},nZ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},rZ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},lN=function(e,n){var r=e.x,i=e.y,o=tZ({x:r,y:i},n),s=o.radius,l=o.angle,c=n.innerRadius,h=n.outerRadius;if(s<c||s>h)return!1;if(s===0)return!0;var p=nZ(n),g=p.startAngle,y=p.endAngle,w=l,A;if(g<=y){for(;w>y;)w-=360;for(;w<g;)w+=360;A=w>=g&&w<=y}else{for(;w>g;)w-=360;for(;w<y;)w+=360;A=w>=y&&w<=g}return A?no(no({},n),{},{radius:s,angle:rZ(w,n)}):null},g4=function(e){return!ie.isValidElement(e)&&!Je(e)&&typeof e!="boolean"?e.className:""};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var iZ=["offset"];function oZ(t){return lZ(t)||uZ(t)||sZ(t)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(t,e){if(t){if(typeof t=="string")return Px(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Px(t,e)}}function uZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lZ(t){if(Array.isArray(t))return Px(t)}function Px(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cZ(t,e){if(t==null)return{};var n=fZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=pZ(t,"string");return Af(e)=="symbol"?e:e+""}function pZ(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(this,arguments)}var mZ=function(e){var n=e.value,r=e.formatter,i=lt(e.children)?n:e.children;return Je(r)?r(i):i},gZ=function(e,n){var r=sa(n-e),i=Math.min(Math.abs(n-e),360);return r*i},yZ=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,h=c.cx,p=c.cy,g=c.innerRadius,y=c.outerRadius,w=c.startAngle,A=c.endAngle,T=c.clockWise,x=(g+y)/2,D=gZ(w,A),$=D>=0?1:-1,U,F;i==="insideStart"?(U=w+$*s,F=T):i==="insideEnd"?(U=A-$*s,F=!T):i==="end"&&(U=A+$*s,F=T),F=D<=0?F:!F;var k=mt(h,p,x,U),C=mt(h,p,x,U+(F?1:-1)*359),I="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(F?0:1,`,
    `).concat(C.x,",").concat(C.y),O=lt(e.id)?pT("recharts-radial-line-"):e.id;return ne.createElement("text",If({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",l)}),ne.createElement("defs",null,ne.createElement("path",{id:O,d:I})),ne.createElement("textPath",{xlinkHref:"#".concat(O)},n))},vZ=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,l=o.cy,c=o.innerRadius,h=o.outerRadius,p=o.startAngle,g=o.endAngle,y=(p+g)/2;if(i==="outside"){var w=mt(s,l,h+r,y),A=w.x,T=w.y;return{x:A,y:T,textAnchor:A>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+h)/2,D=mt(s,l,x,y),$=D.x,U=D.y;return{x:$,y:U,textAnchor:"middle",verticalAnchor:"middle"}},_Z=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,l=s.x,c=s.y,h=s.width,p=s.height,g=p>=0?1:-1,y=g*i,w=g>0?"end":"start",A=g>0?"start":"end",T=h>=0?1:-1,x=T*i,D=T>0?"end":"start",$=T>0?"start":"end";if(o==="top"){var U={x:l+h/2,y:c-g*i,textAnchor:"middle",verticalAnchor:w};return en(en({},U),r?{height:Math.max(c-r.y,0),width:h}:{})}if(o==="bottom"){var F={x:l+h/2,y:c+p+y,textAnchor:"middle",verticalAnchor:A};return en(en({},F),r?{height:Math.max(r.y+r.height-(c+p),0),width:h}:{})}if(o==="left"){var k={x:l-x,y:c+p/2,textAnchor:D,verticalAnchor:"middle"};return en(en({},k),r?{width:Math.max(k.x-r.x,0),height:p}:{})}if(o==="right"){var C={x:l+h+x,y:c+p/2,textAnchor:$,verticalAnchor:"middle"};return en(en({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:p}:{})}var I=r?{width:h,height:p}:{};return o==="insideLeft"?en({x:l+x,y:c+p/2,textAnchor:$,verticalAnchor:"middle"},I):o==="insideRight"?en({x:l+h-x,y:c+p/2,textAnchor:D,verticalAnchor:"middle"},I):o==="insideTop"?en({x:l+h/2,y:c+y,textAnchor:"middle",verticalAnchor:A},I):o==="insideBottom"?en({x:l+h/2,y:c+p-y,textAnchor:"middle",verticalAnchor:w},I):o==="insideTopLeft"?en({x:l+x,y:c+y,textAnchor:$,verticalAnchor:A},I):o==="insideTopRight"?en({x:l+h-x,y:c+y,textAnchor:D,verticalAnchor:A},I):o==="insideBottomLeft"?en({x:l+x,y:c+p-y,textAnchor:$,verticalAnchor:w},I):o==="insideBottomRight"?en({x:l+h-x,y:c+p-y,textAnchor:D,verticalAnchor:w},I):Al(o)&&(Oe(o.x)||ps(o.x))&&(Oe(o.y)||ps(o.y))?en({x:l+Ei(o.x,h),y:c+Ei(o.y,p),textAnchor:"end",verticalAnchor:"end"},I):en({x:l+h/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},I)},wZ=function(e){return"cx"in e&&Oe(e.cx)};function Cn(t){var e=t.offset,n=e===void 0?5:e,r=cZ(t,iZ),i=en({offset:n},r),o=i.viewBox,s=i.position,l=i.value,c=i.children,h=i.content,p=i.className,g=p===void 0?"":p,y=i.textBreakAll;if(!o||lt(l)&&lt(c)&&!ie.isValidElement(h)&&!Je(h))return null;if(ie.isValidElement(h))return ie.cloneElement(h,i);var w;if(Je(h)){if(w=ie.createElement(h,i),ie.isValidElement(w))return w}else w=mZ(i);var A=wZ(o),T=Ke(i,!0);if(A&&(s==="insideStart"||s==="insideEnd"||s==="end"))return yZ(i,w,T);var x=A?vZ(i):_Z(i);return ne.createElement(mf,If({className:st("recharts-label",g)},T,x,{breakAll:y}),w)}Cn.displayName="Label";var y4=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,h=e.innerRadius,p=e.outerRadius,g=e.x,y=e.y,w=e.top,A=e.left,T=e.width,x=e.height,D=e.clockWise,$=e.labelViewBox;if($)return $;if(Oe(T)&&Oe(x)){if(Oe(g)&&Oe(y))return{x:g,y,width:T,height:x};if(Oe(w)&&Oe(A))return{x:w,y:A,width:T,height:x}}return Oe(g)&&Oe(y)?{x:g,y,width:0,height:0}:Oe(n)&&Oe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:p||c||l||0,clockWise:D}:e.viewBox?e.viewBox:{}},bZ=function(e,n){return e?e===!0?ne.createElement(Cn,{key:"label-implicit",viewBox:n}):tn(e)?ne.createElement(Cn,{key:"label-implicit",viewBox:n,value:e}):ie.isValidElement(e)?e.type===Cn?ie.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Je(e)?ne.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Al(e)?ne.createElement(Cn,If({viewBox:n},e,{key:"label-implicit"})):null:null},xZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=y4(e),s=po(i,Cn).map(function(c,h){return ie.cloneElement(c,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return s;var l=bZ(e.label,n||o);return[l].concat(oZ(s))};Cn.parseViewBox=y4;Cn.renderCallByParent=xZ;var Lw,fN;function EZ(){if(fN)return Lw;fN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Lw=t,Lw}var TZ=EZ();const v4=gt(TZ);function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var SZ=["valueAccessor"],AZ=["data","dataKey","clockWise","id","textBreakAll"];function IZ(t){return RZ(t)||CZ(t)||OZ(t)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(t,e){if(t){if(typeof t=="string")return Ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ox(t,e)}}function CZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RZ(t){if(Array.isArray(t))return Ox(t)}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){kZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kZ(t,e,n){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=jZ(t,"string");return Pf(e)=="symbol"?e:e+""}function jZ(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pN(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MZ=function(e){return Array.isArray(e.value)?v4(e.value):e.value};function ws(t){var e=t.valueAccessor,n=e===void 0?MZ:e,r=pN(t,SZ),i=r.data,o=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,h=pN(r,AZ);return!i||!i.length?null:ne.createElement(on,{className:"recharts-label-list"},i.map(function(p,g){var y=lt(o)?n(p,g):Eo(p&&p.payload,o),w=lt(l)?{}:{id:"".concat(l,"-").concat(g)};return ne.createElement(Cn,em({},Ke(p,!0),h,w,{parentViewBox:p.parentViewBox,value:y,textBreakAll:c,viewBox:Cn.parseViewBox(lt(s)?p:dN(dN({},p),{},{clockWise:s})),key:"label-".concat(g),index:g}))}))}ws.displayName="LabelList";function LZ(t,e){return t?t===!0?ne.createElement(ws,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Je(t)?ne.createElement(ws,{key:"labelList-implicit",data:e,content:t}):Al(t)?ne.createElement(ws,em({data:e},t,{key:"labelList-implicit"})):null:null}function $Z(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=po(r,ws).map(function(s,l){return ie.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=LZ(t.label,e);return[o].concat(IZ(i))}ws.renderCallByParent=$Z;function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(this,arguments)}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){VZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VZ(t,e,n){return e=UZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UZ(t){var e=FZ(t,"string");return Of(e)=="symbol"?e:e+""}function FZ(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qZ=function(e,n){var r=sa(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},zd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,h=e.cornerIsExternal,p=c*(l?1:-1)+i,g=Math.asin(c/p)/Zp,y=h?o:o+s*g,w=mt(n,r,p,y),A=mt(n,r,i,y),T=h?o-s*g:o,x=mt(n,r,p*Math.cos(g*Zp),T);return{center:w,circleTangency:A,lineTangency:x,theta:g}},_4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=qZ(s,l),h=s+c,p=mt(n,r,o,s),g=mt(n,r,o,h),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var w=mt(n,r,i,s),A=mt(n,r,i,h);y+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=h),`,
            `).concat(w.x,",").concat(w.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},BZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,g=sa(p-h),y=zd({cx:n,cy:r,radius:o,angle:h,sign:g,cornerRadius:s,cornerIsExternal:c}),w=y.circleTangency,A=y.lineTangency,T=y.theta,x=zd({cx:n,cy:r,radius:o,angle:p,sign:-g,cornerRadius:s,cornerIsExternal:c}),D=x.circleTangency,$=x.lineTangency,U=x.theta,F=c?Math.abs(h-p):Math.abs(h-p)-T-U;if(F<0)return l?"M ".concat(A.x,",").concat(A.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:p});var k="M ".concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(F>180),",").concat(+(g<0),",").concat(D.x,",").concat(D.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat($.x,",").concat($.y,`
  `);if(i>0){var C=zd({cx:n,cy:r,radius:i,angle:h,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=C.circleTangency,O=C.lineTangency,S=C.theta,N=zd({cx:n,cy:r,radius:i,angle:p,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),R=N.circleTangency,V=N.lineTangency,j=N.theta,M=c?Math.abs(h-p):Math.abs(h-p)-S-j;if(M<0&&s===0)return"".concat(k,"L").concat(n,",").concat(r,"Z");k+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(g>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(O.x,",").concat(O.y,"Z")}else k+="L".concat(n,",").concat(r,"Z");return k},zZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HZ=function(e){var n=gN(gN({},zZ),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,g=n.endAngle,y=n.className;if(s<o||p===g)return null;var w=st("recharts-sector",y),A=s-o,T=Ei(l,A,0,!0),x;return T>0&&Math.abs(p-g)<360?x=BZ({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(T,A/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:p,endAngle:g}):x=_4({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:p,endAngle:g}),ne.createElement("path",Cx({},Ke(n,!0),{className:w,d:x,role:"img"}))};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(this,arguments)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=KZ(t,"string");return Cf(e)=="symbol"?e:e+""}function KZ(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _N={curveBasisClosed:fW,curveBasisOpen:hW,curveBasis:cW,curveBumpX:QH,curveBumpY:YH,curveLinearClosed:dW,curveLinear:Xm,curveMonotoneX:pW,curveMonotoneY:mW,curveNatural:gW,curveStep:yW,curveStepAfter:_W,curveStepBefore:vW},Hd=function(e){return e.x===+e.x&&e.y===+e.y},Ic=function(e){return e.x},Pc=function(e){return e.y},XZ=function(e,n){if(Je(e))return e;var r="curve".concat(Gm(e));return(r==="curveMonotone"||r==="curveBump")&&n?_N["".concat(r).concat(n==="vertical"?"Y":"X")]:_N[r]||Xm},QZ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,h=c===void 0?!1:c,p=XZ(r,l),g=h?o.filter(function(T){return Hd(T)}):o,y;if(Array.isArray(s)){var w=h?s.filter(function(T){return Hd(T)}):s,A=g.map(function(T,x){return vN(vN({},T),{},{base:w[x]})});return l==="vertical"?y=Md().y(Pc).x1(Ic).x0(function(T){return T.base.x}):y=Md().x(Ic).y1(Pc).y0(function(T){return T.base.y}),y.defined(Hd).curve(p),y(A)}return l==="vertical"&&Oe(s)?y=Md().y(Pc).x1(Ic).x0(s):Oe(s)?y=Md().x(Ic).y1(Pc).y0(s):y=xL().x(Ic).y(Pc),y.defined(Hd).curve(p),y(g)},wN=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?QZ(e):i;return ne.createElement("path",Rx({},Ke(e,!1),Op(e),{className:st("recharts-curve",n),d:s,ref:o}))},$w={exports:{}},Vw,bN;function YZ(){if(bN)return Vw;bN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vw=t,Vw}var Uw,xN;function JZ(){if(xN)return Uw;xN=1;var t=YZ();function e(){}function n(){}return n.resetWarningCache=e,Uw=function(){function r(s,l,c,h,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Uw}var EN;function ZZ(){return EN||(EN=1,$w.exports=JZ()()),$w.exports}var eee=ZZ();const ft=gt(eee);var tee=Object.getOwnPropertyNames,nee=Object.getOwnPropertySymbols,ree=Object.prototype.hasOwnProperty;function TN(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Wd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),l=o.get(r);if(s&&l)return s===r&&l===n;o.set(n,r),o.set(r,n);var c=t(n,r,i);return o.delete(n),o.delete(r),c}}function SN(t){return tee(t).concat(nee(t))}var iee=Object.hasOwn||function(t,e){return ree.call(t,e)};function Vs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var oee="__v",aee="__o",see="_owner",AN=Object.getOwnPropertyDescriptor,IN=Object.keys;function uee(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function lee(t,e){return Vs(t.getTime(),e.getTime())}function cee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function fee(t,e){return t===e}function PN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,l,c=0;(s=o.next())&&!s.done;){for(var h=e.entries(),p=!1,g=0;(l=h.next())&&!l.done;){if(i[g]){g++;continue}var y=s.value,w=l.value;if(n.equals(y[0],w[0],c,g,t,e,n)&&n.equals(y[1],w[1],y[0],w[0],t,e,n)){p=i[g]=!0;break}g++}if(!p)return!1;c++}return!0}var hee=Vs;function dee(t,e,n){var r=IN(t),i=r.length;if(IN(e).length!==i)return!1;for(;i-- >0;)if(!w4(t,e,n,r[i]))return!1;return!0}function Oc(t,e,n){var r=SN(t),i=r.length;if(SN(e).length!==i)return!1;for(var o,s,l;i-- >0;)if(o=r[i],!w4(t,e,n,o)||(s=AN(t,o),l=AN(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function pee(t,e){return Vs(t.valueOf(),e.valueOf())}function mee(t,e){return t.source===e.source&&t.flags===e.flags}function ON(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,l;(s=o.next())&&!s.done;){for(var c=e.values(),h=!1,p=0;(l=c.next())&&!l.done;){if(!i[p]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function gee(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function yee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function w4(t,e,n,r){return(r===see||r===aee||r===oee)&&(t.$$typeof||e.$$typeof)?!0:iee(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var vee="[object Arguments]",_ee="[object Boolean]",wee="[object Date]",bee="[object Error]",xee="[object Map]",Eee="[object Number]",Tee="[object Object]",See="[object RegExp]",Aee="[object Set]",Iee="[object String]",Pee="[object URL]",Oee=Array.isArray,CN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RN=Object.assign,Cee=Object.prototype.toString.call.bind(Object.prototype.toString);function Ree(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,g=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(A,T,x){if(A===T)return!0;if(A==null||T==null)return!1;var D=typeof A;if(D!==typeof T)return!1;if(D!=="object")return D==="number"?s(A,T,x):D==="function"?i(A,T,x):!1;var $=A.constructor;if($!==T.constructor)return!1;if($===Object)return l(A,T,x);if(Oee(A))return e(A,T,x);if(CN!=null&&CN(A))return g(A,T,x);if($===Date)return n(A,T,x);if($===RegExp)return h(A,T,x);if($===Map)return o(A,T,x);if($===Set)return p(A,T,x);var U=Cee(A);return U===wee?n(A,T,x):U===See?h(A,T,x):U===xee?o(A,T,x):U===Aee?p(A,T,x):U===Tee?typeof A.then!="function"&&typeof T.then!="function"&&l(A,T,x):U===Pee?y(A,T,x):U===bee?r(A,T,x):U===vee?l(A,T,x):U===_ee||U===Eee||U===Iee?c(A,T,x):!1}}function kee(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Oc:uee,areDatesEqual:lee,areErrorsEqual:cee,areFunctionsEqual:fee,areMapsEqual:r?TN(PN,Oc):PN,areNumbersEqual:hee,areObjectsEqual:r?Oc:dee,arePrimitiveWrappersEqual:pee,areRegExpsEqual:mee,areSetsEqual:r?TN(ON,Oc):ON,areTypedArraysEqual:r?Oc:gee,areUrlsEqual:yee};if(n&&(i=RN({},i,n(i))),e){var o=Wd(i.areArraysEqual),s=Wd(i.areMapsEqual),l=Wd(i.areObjectsEqual),c=Wd(i.areSetsEqual);i=RN({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function Nee(t){return function(e,n,r,i,o,s,l){return t(e,n,l)}}function jee(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(c,h){var p=r(),g=p.cache,y=g===void 0?e?new WeakMap:void 0:g,w=p.meta;return n(c,h,{cache:y,equals:i,meta:w,strict:o})};if(e)return function(c,h){return n(c,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,h){return n(c,h,s)}}var Dee=Ca();Ca({strict:!0});Ca({circular:!0});Ca({circular:!0,strict:!0});Ca({createInternalComparator:function(){return Vs}});Ca({strict:!0,createInternalComparator:function(){return Vs}});Ca({circular:!0,createInternalComparator:function(){return Vs}});Ca({circular:!0,createInternalComparator:function(){return Vs},strict:!0});function Ca(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,l=kee(t),c=Ree(l),h=r?r(c):Nee(c);return jee({circular:n,comparator:c,createState:i,equals:h,strict:s})}function Mee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function kN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Mee(i)};requestAnimationFrame(r)}function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function Lee(t){return Fee(t)||Uee(t)||Vee(t)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vee(t,e){if(t){if(typeof t=="string")return NN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fee(t){if(Array.isArray(t))return t}function qee(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,l=Lee(s),c=l[0],h=l.slice(1);if(typeof c=="number"){kN(i.bind(null,h),c);return}i(c),kN(i.bind(null,h));return}kx(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){b4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b4(t,e,n){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=zee(t,"string");return Rf(e)==="symbol"?e:String(e)}function zee(t,e){if(Rf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hee=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Wee=function(e){return e},Gee=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xc=function(e,n){return Object.keys(n).reduce(function(r,i){return DN(DN({},r),{},b4({},i,e(i,n[i])))},{})},MN=function(e,n,r){return e.map(function(i){return"".concat(Gee(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Kee(t,e){return Yee(t)||Qee(t,e)||x4(t,e)||Xee()}function Xee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function Yee(t){if(Array.isArray(t))return t}function Jee(t){return tte(t)||ete(t)||x4(t)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4(t,e){if(t){if(typeof t=="string")return Nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nx(t,e)}}function ete(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tte(t){if(Array.isArray(t))return Nx(t)}function Nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tm=1e-4,E4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},T4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},LN=function(e,n){return function(r){var i=E4(e,n);return T4(i,r)}},nte=function(e,n){return function(r){var i=E4(e,n),o=[].concat(Jee(i.map(function(s,l){return s*l}).slice(1)),[0]);return T4(o,r)}},$N=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var h=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=Kee(h,4);i=p[0],o=p[1],s=p[2],l=p[3]}}}var g=LN(i,s),y=LN(o,l),w=nte(i,s),A=function(D){return D>1?1:D<0?0:D},T=function(D){for(var $=D>1?1:D,U=$,F=0;F<8;++F){var k=g(U)-$,C=w(U);if(Math.abs(k-$)<tm||C<tm)return y(U);U=A(U-k/C)}return y(U)};return T.isStepper=!1,T},rte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(p,g,y){var w=-(p-g)*r,A=y*o,T=y+(w-A)*l/1e3,x=y*l/1e3+p;return Math.abs(x-g)<tm&&Math.abs(T)<tm?[g,0]:[x,T]};return c.isStepper=!0,c.dt=l,c},ite=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $N(i);case"spring":return rte();default:if(i.split("(")[0]==="cubic-bezier")return $N(i)}return typeof i=="function"?i:null};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function VN(t){return ste(t)||ate(t)||S4(t)||ote()}function ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ate(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ste(t){if(Array.isArray(t))return Dx(t)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){jx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jx(t,e,n){return e=ute(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=lte(t,"string");return kf(e)==="symbol"?e:String(e)}function lte(t,e){if(kf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cte(t,e){return dte(t)||hte(t,e)||S4(t,e)||fte()}function fte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(t,e){if(t){if(typeof t=="string")return Dx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dx(t,e)}}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function dte(t){if(Array.isArray(t))return t}var nm=function(e,n,r){return e+(n-e)*r},Mx=function(e){var n=e.from,r=e.to;return n!==r},pte=function t(e,n,r){var i=Xc(function(o,s){if(Mx(s)){var l=e(s.from,s.to,s.velocity),c=cte(l,2),h=c[0],p=c[1];return _n(_n({},s),{},{from:h,velocity:p})}return s},n);return r<1?Xc(function(o,s){return Mx(s)?_n(_n({},s),{},{velocity:nm(s.velocity,i[o].velocity,r),from:nm(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const mte=function(t,e,n,r,i){var o=Hee(t,e),s=o.reduce(function(x,D){return _n(_n({},x),{},jx({},D,[t[D],e[D]]))},{}),l=o.reduce(function(x,D){return _n(_n({},x),{},jx({},D,{from:t[D],velocity:0,to:e[D]}))},{}),c=-1,h,p,g=function(){return null},y=function(){return Xc(function(D,$){return $.from},l)},w=function(){return!Object.values(l).filter(Mx).length},A=function(D){h||(h=D);var $=D-h,U=$/n.dt;l=pte(n,l,U),i(_n(_n(_n({},t),e),y())),h=D,w()||(c=requestAnimationFrame(g))},T=function(D){p||(p=D);var $=(D-p)/r,U=Xc(function(k,C){return nm.apply(void 0,VN(C).concat([n($)]))},s);if(i(_n(_n(_n({},t),e),U)),$<1)c=requestAnimationFrame(g);else{var F=Xc(function(k,C){return nm.apply(void 0,VN(C).concat([n(1)]))},s);i(_n(_n(_n({},t),e),F))}};return g=n.isStepper?A:T,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(c)}}};function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}var gte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yte(t,e){if(t==null)return{};var n=vte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fw(t){return xte(t)||bte(t)||wte(t)||_te()}function _te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wte(t,e){if(t){if(typeof t=="string")return Lx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(t,e)}}function bte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xte(t){if(Array.isArray(t))return Lx(t)}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){Uc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uc(t,e,n){return e=A4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A4(r.key),r)}}function Ste(t,e,n){return e&&Tte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A4(t){var e=Ate(t,"string");return sl(e)==="symbol"?e:String(e)}function Ate(t,e){if(sl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$x(t,e)}function $x(t,e){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$x(t,e)}function Pte(t){var e=Ote();return function(){var r=rm(t),i;if(e){var o=rm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Vx(this,i)}}function Vx(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ux(t)}function Ux(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ote(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}var ul=function(t){Ite(n,t);var e=Pte(n);function n(r,i){var o;Ete(this,n),o=e.call(this,r,i);var s=o.props,l=s.isActive,c=s.attributeName,h=s.from,p=s.to,g=s.steps,y=s.children,w=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Ux(o)),o.changeStyle=o.changeStyle.bind(Ux(o)),!l||w<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:p}),Vx(o);if(g&&g.length)o.state={style:g[0].style};else if(h){if(typeof y=="function")return o.state={style:h},Vx(o);o.state={style:c?Uc({},c,h):h}}else o.state={style:{}};return o}return Ste(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,h=o.shouldReAnimate,p=o.to,g=o.from,y=this.state.style;if(l){if(!s){var w={style:c?Uc({},c,p):p};this.state&&y&&(c&&y[c]!==p||!c&&y!==p)&&this.setState(w);return}if(!(Dee(i.to,p)&&i.canBegin&&i.isActive)){var A=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var T=A||h?g:i.to;if(this.state&&y){var x={style:c?Uc({},c,T):T};(c&&y[c]!==T||!c&&y!==T)&&this.setState(x)}this.runAnimation(ri(ri({},this.props),{},{from:T,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,h=i.easing,p=i.begin,g=i.onAnimationEnd,y=i.onAnimationStart,w=mte(s,l,ite(h),c,this.changeStyle),A=function(){o.stopJSAnimation=w()};this.manager.start([y,p,A,c,g])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,h=s[0],p=h.style,g=h.duration,y=g===void 0?0:g,w=function(T,x,D){if(D===0)return T;var $=x.duration,U=x.easing,F=U===void 0?"ease":U,k=x.style,C=x.properties,I=x.onAnimationEnd,O=D>0?s[D-1]:x,S=C||Object.keys(k);if(typeof F=="function"||F==="spring")return[].concat(Fw(T),[o.runJSAnimation.bind(o,{from:O.style,to:k,duration:$,easing:F}),$]);var N=MN(S,$,F),R=ri(ri(ri({},O.style),k),{},{transition:N});return[].concat(Fw(T),[R,$,I]).filter(Wee)};return this.manager.start([c].concat(Fw(s.reduce(w,[p,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qee());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,h=i.easing,p=i.onAnimationStart,g=i.onAnimationEnd,y=i.steps,w=i.children,A=this.manager;if(this.unSubscribe=A.subscribe(this.handleStyleChange),typeof h=="function"||typeof w=="function"||h==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var T=l?Uc({},l,c):c,x=MN(Object.keys(T),s,h);A.start([p,o,ri(ri({},T),{},{transition:x}),s,g])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=yte(i,gte),h=ie.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!l||h===0||s<=0)return o;var g=function(w){var A=w.props,T=A.style,x=T===void 0?{}:T,D=A.className,$=ie.cloneElement(w,ri(ri({},c),{},{style:ri(ri({},x),p),className:D}));return $};return h===1?g(ie.Children.only(o)):ne.createElement("div",null,ie.Children.map(o,function(y){return g(y)}))}}]),n}(ie.PureComponent);ul.displayName="Animate";ul.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ul.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function Cte(t,e){return jte(t)||Nte(t,e)||kte(t,e)||Rte()}function Rte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kte(t,e){if(t){if(typeof t=="string")return qN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qN(t,e)}}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function jte(t){if(Array.isArray(t))return t}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Lte(t,"string");return Nf(e)=="symbol"?e:e+""}function Lte(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HN=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,p;if(s>0&&o instanceof Array){for(var g=[0,0,0,0],y=0,w=4;y<w;y++)g[y]=o[y]>s?s:o[y];p="M".concat(e,",").concat(n+l*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(e+c*g[0],",").concat(n)),p+="L ".concat(e+r-c*g[1],",").concat(n),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+l*g[1])),p+="L ".concat(e+r,",").concat(n+i-l*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(e+r-c*g[2],",").concat(n+i)),p+="L ".concat(e+c*g[3],",").concat(n+i),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-l*g[3])),p+="Z"}else if(s>0&&o===+o&&o>0){var A=Math.min(s,o);p="M ".concat(e,",").concat(n+l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+c*A,",").concat(n,`
            L `).concat(e+r-c*A,",").concat(n,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+r,",").concat(n+l*A,`
            L `).concat(e+r,",").concat(n+i-l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+r-c*A,",").concat(n+i,`
            L `).concat(e+c*A,",").concat(n+i,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e,",").concat(n+i-l*A," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},$te=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var h=Math.min(o,o+l),p=Math.max(o,o+l),g=Math.min(s,s+c),y=Math.max(s,s+c);return r>=h&&r<=p&&i>=g&&i<=y}return!1},Vte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I4=function(e){var n=zN(zN({},Vte),e),r=ie.useRef(),i=ie.useState(-1),o=Cte(i,2),s=o[0],l=o[1];ie.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&l(F)}catch{}},[]);var c=n.x,h=n.y,p=n.width,g=n.height,y=n.radius,w=n.className,A=n.animationEasing,T=n.animationDuration,x=n.animationBegin,D=n.isAnimationActive,$=n.isUpdateAnimationActive;if(c!==+c||h!==+h||p!==+p||g!==+g||p===0||g===0)return null;var U=st("recharts-rectangle",w);return $?ne.createElement(ul,{canBegin:s>0,from:{width:p,height:g,x:c,y:h},to:{width:p,height:g,x:c,y:h},duration:T,animationEasing:A,isActive:$},function(F){var k=F.width,C=F.height,I=F.x,O=F.y;return ne.createElement(ul,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:T,isActive:D,easing:A},ne.createElement("path",im({},Ke(n,!0),{className:U,d:HN(I,O,k,C,y),ref:r})))}):ne.createElement("path",im({},Ke(n,!0),{className:U,d:HN(c,h,p,g,y)}))},Ute=["points","className","baseLinePoints","connectNulls"];function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function Fte(t,e){if(t==null)return{};var n=qte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WN(t){return Wte(t)||Hte(t)||zte(t)||Bte()}function Bte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zte(t,e){if(t){if(typeof t=="string")return Fx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fx(t,e)}}function Hte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wte(t){if(Array.isArray(t))return Fx(t)}function Fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GN=function(e){return e&&e.x===+e.x&&e.y===+e.y},Gte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){GN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),GN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Qc=function(e,n){var r=Gte(e);n&&(r=[r.reduce(function(o,s){return[].concat(WN(o),WN(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Kte=function(e,n,r){var i=Qc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Qc(n.reverse(),r).slice(1))},P4=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=Fte(e,Ute);if(!n||!n.length)return null;var l=st("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",h=Kte(n,i,o);return ne.createElement("g",{className:l},ne.createElement("path",Du({},Ke(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:h})),c?ne.createElement("path",Du({},Ke(s,!0),{fill:"none",d:Qc(n,o)})):null,c?ne.createElement("path",Du({},Ke(s,!0),{fill:"none",d:Qc(i,o)})):null)}var p=Qc(n,o);return ne.createElement("path",Du({},Ke(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:l,d:p}))};function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}var hg=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=st("recharts-dot",o);return n===+n&&r===+r&&i===+i?ne.createElement("circle",qx({},Ke(e,!1),Op(e),{className:s,cx:n,cy:r,r:i})):null};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}var Xte=["x","y","top","left","width","height","className"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){Yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yte(t,e,n){return e=Jte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jte(t){var e=Zte(t,"string");return jf(e)=="symbol"?e:e+""}function Zte(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ene(t,e){if(t==null)return{};var n=tne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nne=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},rne=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,h=c===void 0?0:c,p=e.width,g=p===void 0?0:p,y=e.height,w=y===void 0?0:y,A=e.className,T=ene(e,Xte),x=Qte({x:r,y:o,top:l,left:h,width:g,height:w},T);return!Oe(r)||!Oe(o)||!Oe(g)||!Oe(w)||!Oe(l)||!Oe(h)?null:ne.createElement("path",Bx({},Ke(x,!0),{className:st("recharts-cross",A),d:nne(r,o,g,w,l,h)}))},ine=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function one(t,e){if(t==null)return{};var n=ane(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ane(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(this,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return e=une(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=lne(t,"string");return Df(e)=="symbol"?e:e+""}function lne(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cne=function(e,n,r,i){var o="";return i.forEach(function(s,l){var c=mt(n,r,e,s);l?o+="L ".concat(c.x,",").concat(c.y):o+="M ".concat(c.x,",").concat(c.y)}),o+="Z",o},fne=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,l=e.radialLines;if(!s||!s.length||!l)return null;var c=Mf({stroke:"#ccc"},Ke(e,!1));return ne.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(h){var p=mt(n,r,i,h),g=mt(n,r,o,h);return ne.createElement("line",To({},c,{key:"line-".concat(h),x1:p.x,y1:p.y,x2:g.x,y2:g.y}))}))},hne=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=Mf(Mf({stroke:"#ccc"},Ke(e,!1)),{},{fill:"none"});return ne.createElement("circle",To({},s,{className:st("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},dne=function(e){var n=e.radius,r=e.index,i=Mf(Mf({stroke:"#ccc"},Ke(e,!1)),{},{fill:"none"});return ne.createElement("path",To({},i,{className:st("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:cne(n,e.cx,e.cy,e.polarAngles)}))},pne=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:ne.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?ne.createElement(hne,To({key:s},e,{radius:i,index:o})):ne.createElement(dne,To({key:s},e,{radius:i,index:o}))}))},O4=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,l=s===void 0?0:s,c=e.outerRadius,h=c===void 0?0:c,p=e.gridType,g=p===void 0?"polygon":p,y=e.radialLines,w=y===void 0?!0:y,A=one(e,ine);return h<=0?null:ne.createElement("g",{className:"recharts-polar-grid"},ne.createElement(fne,To({cx:r,cy:o,innerRadius:l,outerRadius:h,gridType:g,radialLines:w},A)),ne.createElement(pne,To({cx:r,cy:o,innerRadius:l,outerRadius:h,gridType:g,radialLines:w},A)))};O4.displayName="PolarGrid";var qw,QN;function mne(){if(QN)return qw;QN=1;var t=sg(),e=G$(),n=Li();function r(i,o){return i&&i.length?t(i,n(o,2),e):void 0}return qw=r,qw}var gne=mne();const yne=gt(gne);var Bw,YN;function vne(){if(YN)return Bw;YN=1;var t=sg(),e=Li(),n=K$();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return Bw=r,Bw}var _ne=vne();const wne=gt(_ne);var bne=["cx","cy","angle","ticks","axisLine"],xne=["ticks","tick","angle","tickFormatter","stroke"];function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZN(t,e){if(t==null)return{};var n=Ene(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ene(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R4(r.key),r)}}function Sne(t,e,n){return e&&e2(t.prototype,e),n&&e2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,e,n){return e=om(e),Ine(t,C4()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Ine(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(t)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function One(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zx(t,e)}function zx(t,e){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zx(t,e)}function dg(t,e,n){return e=R4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R4(t){var e=Cne(t,"string");return ll(e)=="symbol"?e:e+""}function Cne(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sh=function(t){function e(){return Tne(this,e),Ane(this,e,arguments)}return One(e,t),Sne(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,l=o.cx,c=o.cy;return mt(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,l=r.ticks,c=yne(l,function(p){return p.coordinate||0}),h=wne(l,function(p){return p.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:h.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,l=r.ticks,c=r.axisLine,h=ZN(r,bne),p=l.reduce(function(A,T){return[Math.min(A[0],T.coordinate),Math.max(A[1],T.coordinate)]},[1/0,-1/0]),g=mt(i,o,p[0],s),y=mt(i,o,p[1],s),w=os(os(os({},Ke(h,!1)),{},{fill:"none"},Ke(c,!1)),{},{x1:g.x,y1:g.y,x2:y.x,y2:y.y});return ne.createElement("line",Yc({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,h=i.stroke,p=ZN(i,xne),g=this.getTickTextAnchor(),y=Ke(p,!1),w=Ke(s,!1),A=o.map(function(T,x){var D=r.getTickValueCoord(T),$=os(os(os(os({textAnchor:g,transform:"rotate(".concat(90-l,", ").concat(D.x,", ").concat(D.y,")")},y),{},{stroke:"none",fill:h},w),{},{index:x},D),{},{payload:T});return ne.createElement(on,Yc({className:st("recharts-polar-radius-axis-tick",g4(s)),key:"tick-".concat(T.coordinate)},gT(r.props,T,x)),e.renderTickItem(s,$,c?c(T.value,x):T.value))});return ne.createElement(on,{className:"recharts-polar-radius-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:ne.createElement(on,{className:st("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Cn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return ne.isValidElement(r)?s=ne.cloneElement(r,i):Je(r)?s=r(i):s=ne.createElement(mf,Yc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(ie.PureComponent);dg(sh,"displayName","PolarRadiusAxis");dg(sh,"axisType","radiusAxis");dg(sh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cs.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function as(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){pg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N4(r.key),r)}}function kne(t,e,n){return e&&n2(t.prototype,e),n&&n2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,n){return e=am(e),jne(t,k4()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function jne(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(t)}function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hx(t,e)}function Hx(t,e){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hx(t,e)}function pg(t,e,n){return e=N4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N4(t){var e=Lne(t,"string");return cl(e)=="symbol"?e:e+""}function Lne(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ne=Math.PI/180,Vne=1e-5,uh=function(t){function e(){return Rne(this,e),Nne(this,e,arguments)}return Mne(e,t),kne(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,l=i.radius,c=i.orientation,h=i.tickSize,p=h||8,g=mt(o,s,l,r.coordinate),y=mt(o,s,l+(c==="inner"?-1:1)*p,r.coordinate);return{x1:g.x,y1:g.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*$ne),s;return o>Vne?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,l=r.axisLine,c=r.axisLineType,h=as(as({},Ke(this.props,!1)),{},{fill:"none"},Ke(l,!1));if(c==="circle")return ne.createElement(hg,cs({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:o,r:s}));var p=this.props.ticks,g=p.map(function(y){return mt(i,o,s,y.coordinate)});return ne.createElement(P4,cs({className:"recharts-polar-angle-axis-line"},h,{points:g}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,h=i.stroke,p=Ke(this.props,!1),g=Ke(s,!1),y=as(as({},p),{},{fill:"none"},Ke(l,!1)),w=o.map(function(A,T){var x=r.getTickLineCoord(A),D=r.getTickTextAnchor(A),$=as(as(as({textAnchor:D},p),{},{stroke:"none",fill:h},g),{},{index:T,payload:A,x:x.x2,y:x.y2});return ne.createElement(on,cs({className:st("recharts-polar-angle-axis-tick",g4(s)),key:"tick-".concat(A.coordinate)},gT(r.props,A,T)),l&&ne.createElement("line",cs({className:"recharts-polar-angle-axis-tick-line"},y,x)),s&&e.renderTickItem(s,$,c?c(A.value,T):A.value))});return ne.createElement(on,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:ne.createElement(on,{className:st("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return ne.isValidElement(r)?s=ne.cloneElement(r,i):Je(r)?s=r(i):s=ne.createElement(mf,cs({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(ie.PureComponent);pg(uh,"displayName","PolarAngleAxis");pg(uh,"axisType","angleAxis");pg(uh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zw,r2;function Une(){if(r2)return zw;r2=1;var t=WL(),e=t(Object.getPrototypeOf,Object);return zw=e,zw}var Hw,i2;function Fne(){if(i2)return Hw;i2=1;var t=So(),e=Une(),n=Ao(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function h(p){if(!n(p)||t(p)!=r)return!1;var g=e(p);if(g===null)return!0;var y=l.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return Hw=h,Hw}Fne();var Ww,o2;function qne(){if(o2)return Ww;o2=1;var t=So(),e=Ao(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Ww=r,Ww}qne();function mg(t,e){return e!=null&&"trapezoids"in t.props}function gg(t,e){return e!=null&&"sectors"in t.props}function Lf(t,e){return e!=null&&"points"in t.props}function Bne(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function zne(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Hne(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Wne(t,e){var n;return mg(t,e)?n=Bne:gg(t,e)?n=zne:Lf(t,e)&&(n=Hne),n}function Gne(t,e){var n;return mg(t,e)?n="trapezoids":gg(t,e)?n="sectors":Lf(t,e)&&(n="points"),n}function Kne(t,e){if(mg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(gg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Lf(t,e)?e.payload:{}}function Xne(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Gne(n,e),o=Kne(n,e),s=r.filter(function(c,h){var p=JT(o,c),g=n.props[i].filter(function(A){var T=Wne(n,e);return T(A,e)}),y=n.props[i].indexOf(g[g.length-1]),w=h===y;return p&&w}),l=r.indexOf(s[s.length-1]);return l}var Gw,a2;function Qne(){if(a2)return Gw;a2=1;function t(e){return e&&e.length?e[0]:void 0}return Gw=t,Gw}var Kw,s2;function Yne(){return s2||(s2=1,Kw=Qne()),Kw}var Jne=Yne();const Zne=gt(Jne);var ere=["key"];function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function tre(t,e){if(t==null)return{};var n=nre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){io(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function ire(t,e,n){return e&&l2(t.prototype,e),n&&l2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ore(t,e,n){return e=um(e),are(t,j4()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function are(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sre(t)}function sre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wx(t,e)}function Wx(t,e){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wx(t,e)}function io(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=lre(t,"string");return fl(e)=="symbol"?e:e+""}function lre(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lh=function(t){function e(){var n;rre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ore(this,e,[].concat(i)),io(n,"state",{isAnimationFinished:!1}),io(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Je(s)&&s()}),io(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Je(s)&&s()}),io(n,"handleMouseEnter",function(s){var l=n.props.onMouseEnter;l&&l(n.props,s)}),io(n,"handleMouseLeave",function(s){var l=n.props.onMouseLeave;l&&l(n.props,s)}),n}return ure(e,t),ire(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,l=Ke(this.props,!1),c=Ke(o,!0),h=r.map(function(p,g){var y=Ln(Ln(Ln({key:"dot-".concat(g),r:3},l),c),{},{dataKey:s,cx:p.x,cy:p.y,index:g,payload:p});return e.renderDotItem(o,y)});return ne.createElement(on,{className:"recharts-radar-dots"},h)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,l=i.isRange,c=i.baseLinePoints,h=i.connectNulls,p;return ne.isValidElement(o)?p=ne.cloneElement(o,Ln(Ln({},this.props),{},{points:r})):Je(o)?p=o(Ln(Ln({},this.props),{},{points:r})):p=ne.createElement(P4,sm({},Ke(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:l?c:null,connectNulls:h})),ne.createElement(on,{className:"recharts-radar-polygon"},p,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state.prevPoints;return ne.createElement(ul,{begin:l,duration:c,isActive:s,easing:h,from:{t:0},to:{t:1},key:"radar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,A=g&&g.length/o.length,T=o.map(function(x,D){var $=g&&g[Math.floor(D*A)];if($){var U=Dd($.x,x.x),F=Dd($.y,x.y);return Ln(Ln({},x),{},{x:U(w),y:F(w)})}var k=Dd(x.cx,x.x),C=Dd(x.cy,x.y);return Ln(Ln({},x),{},{x:k(w),y:C(w)})});return r.renderPolygonStatically(T)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,l=this.state.prevPoints;return o&&i&&i.length&&!s&&(!l||!JT(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,l=r.isAnimationActive;if(i||!s||!s.length)return null;var c=this.state.isAnimationFinished,h=st("recharts-radar",o);return ne.createElement(on,{className:h},this.renderPolygon(),(!l||c)&&ws.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(ne.isValidElement(r))o=ne.cloneElement(r,i);else if(Je(r))o=r(i);else{var s=i.key,l=tre(i,ere);o=ne.createElement(hg,sm({},l,{key:s,className:st("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(ie.PureComponent);io(lh,"displayName","Radar");io(lh,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!eg.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});io(lh,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,l=n.cy,c=!1,h=[],p=n.type!=="number"?o??0:0;r.forEach(function(y,w){var A=Eo(y,n.dataKey,w),T=Eo(y,i),x=n.scale(A)+p,D=Array.isArray(T)?v4(T):T,$=lt(D)?void 0:e.scale(D);Array.isArray(T)&&T.length>=2&&(c=!0),h.push(Ln(Ln({},mt(s,l,$,x)),{},{name:A,value:T,cx:s,cy:l,radius:$,angle:x,payload:y}))});var g=[];return c&&h.forEach(function(y){if(Array.isArray(y.value)){var w=Zne(y.value),A=lt(w)?void 0:e.scale(w);g.push(Ln(Ln({},y),{},{radius:A},mt(s,l,A,y.angle)))}else g.push(y)}),{points:h,isRange:c,baseLinePoints:g}});var Xw,c2;function cre(){if(c2)return Xw;c2=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var l=-1,c=e(t((i-r)/(o||1)),0),h=Array(c);c--;)h[s?c:++l]=r,r+=o;return h}return Xw=n,Xw}var Qw,f2;function M4(){if(f2)return Qw;f2=1;var t=u$(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var o=i<0?-1:1;return o*n}return i===i?i:0}return Qw=r,Qw}var Yw,h2;function fre(){if(h2)return Yw;h2=1;var t=cre(),e=Zm(),n=M4();function r(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),l=l===void 0?o<s?1:-1:n(l),t(o,s,l,i)}}return Yw=r,Yw}var Jw,d2;function hre(){if(d2)return Jw;d2=1;var t=fre(),e=t();return Jw=e,Jw}var dre=hre();const lm=gt(dre);function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){L4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L4(t,e,n){return e=pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=mre(t,"string");return $f(e)=="symbol"?e:e+""}function mre(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gre=["Webkit","Moz","O","ms"],yre=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=gre.reduce(function(o,s){return m2(m2({},o),{},L4({},s+r,n))},{});return i[e]=n,i};function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V4(r.key),r)}}function _re(t,e,n){return e&&y2(t.prototype,e),n&&y2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wre(t,e,n){return e=fm(e),bre(t,$4()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function bre(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xre(t)}function xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function Ere(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gx(t,e)}function Gx(t,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gx(t,e)}function dr(t,e,n){return e=V4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4(t){var e=Tre(t,"string");return hl(e)=="symbol"?e:e+""}function Tre(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sre=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,h=Gc().domain(lm(0,c)).range([o,o+s-l]),p=h.domain().map(function(g){return h(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:p}},v2=function(e){return e.changedTouches&&!!e.changedTouches.length},dl=function(t){function e(n){var r;return vre(this,e),r=wre(this,e,[n]),dr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),dr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),dr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),dr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),dr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),dr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),dr(r,"handleSlideDragStart",function(i){var o=v2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ere(e,t),_re(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,h=l.data,p=h.length-1,g=Math.min(i,o),y=Math.max(i,o),w=e.getIndexInRange(s,g),A=e.getIndexInRange(s,y);return{startIndex:w-w%c,endIndex:A===p?p:A-A%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=Eo(o[r],l,r);return Je(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,h=c.x,p=c.width,g=c.travellerWidth,y=c.startIndex,w=c.endIndex,A=c.onChange,T=r.pageX-o;T>0?T=Math.min(T,h+p-g-l,h+p-g-s):T<0&&(T=Math.max(T,h-s,h-l));var x=this.getIndex({startX:s+T,endX:l+T});(x.startIndex!==y||x.endIndex!==w)&&A&&A(x),this.setState({startX:s+T,endX:l+T,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=v2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,h=this.state[s],p=this.props,g=p.x,y=p.width,w=p.travellerWidth,A=p.onChange,T=p.gap,x=p.data,D={startX:this.state.startX,endX:this.state.endX},$=r.pageX-o;$>0?$=Math.min($,g+y-w-h):$<0&&($=Math.max($,g-h)),D[s]=h+$;var U=this.getIndex(D),F=U.startIndex,k=U.endIndex,C=function(){var O=x.length-1;return s==="startX"&&(l>c?F%T===0:k%T===0)||l<c&&k===O||s==="endX"&&(l>c?k%T===0:F%T===0)||l>c&&k===O};this.setState(dr(dr({},s,h+$),"brushMoveStartX",r.pageX),function(){A&&C()&&A(U)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,h=s.endX,p=this.state[i],g=l.indexOf(p);if(g!==-1){var y=g+r;if(!(y===-1||y>=l.length)){var w=l[y];i==="startX"&&w>=h||i==="endX"&&w<=c||this.setState(dr({},i,w),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.fill,h=r.stroke;return ne.createElement("rect",{stroke:h,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.data,h=r.children,p=r.padding,g=ie.Children.only(h);return g?ne.cloneElement(g,{x:i,y:o,width:s,height:l,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,l=this,c=this.props,h=c.y,p=c.travellerWidth,g=c.height,y=c.traveller,w=c.ariaLabel,A=c.data,T=c.startIndex,x=c.endIndex,D=Math.max(r,this.props.x),$=Zw(Zw({},Ke(this.props,!1)),{},{x:D,y:h,width:p,height:g}),U=w||"Min value: ".concat((o=A[T])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=A[x])===null||s===void 0?void 0:s.name);return ne.createElement(on,{tabIndex:0,role:"slider","aria-label":U,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,$))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,h=o.travellerWidth,p=Math.min(r,i)+h,g=Math.max(Math.abs(i-r)-h,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:s,width:g,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,h=r.stroke,p=this.state,g=p.startX,y=p.endX,w=5,A={pointerEvents:"none",fill:h};return ne.createElement(on,{className:"recharts-brush-texts"},ne.createElement(mf,cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,y)-w,y:s+l/2},A),this.getTextOfTick(i)),ne.createElement(mf,cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,y)+c+w,y:s+l/2},A),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,l=r.x,c=r.y,h=r.width,p=r.height,g=r.alwaysShowText,y=this.state,w=y.startX,A=y.endX,T=y.isTextActive,x=y.isSlideMoving,D=y.isTravellerMoving,$=y.isTravellerFocused;if(!i||!i.length||!Oe(l)||!Oe(c)||!Oe(h)||!Oe(p)||h<=0||p<=0)return null;var U=st("recharts-brush",o),F=ne.Children.count(s)===1,k=yre("userSelect","none");return ne.createElement(on,{className:U,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(w,A),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(A,"endX"),(T||x||D||$||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,l=r.height,c=r.stroke,h=Math.floor(o+l/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:h,x2:i+s-1,y2:h,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:h+2,x2:i+s-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return ne.isValidElement(r)?o=ne.cloneElement(r,i):Je(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,l=r.x,c=r.travellerWidth,h=r.updateId,p=r.startIndex,g=r.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return Zw({prevData:o,prevTravellerWidth:c,prevUpdateId:h,prevX:l,prevWidth:s},o&&o.length?Sre({data:o,width:s,x:l,travellerWidth:c,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var y=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:h,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])}(ie.PureComponent);dr(dl,"displayName","Brush");dr(dl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eb,_2;function Are(){if(_2)return eb;_2=1;var t=IT();function e(n,r){var i;return t(n,function(o,s,l){return i=r(o,s,l),!i}),!!i}return eb=e,eb}var tb,w2;function Ire(){if(w2)return tb;w2=1;var t=VL(),e=Li(),n=Are(),r=nr(),i=Zm();function o(s,l,c){var h=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),h(s,e(l,3))}return tb=o,tb}var Pre=Ire();const Ore=gt(Pre);var ki=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},nb,b2;function Cre(){if(b2)return nb;b2=1;var t=r$();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return nb=e,nb}var rb,x2;function Rre(){if(x2)return rb;x2=1;var t=Cre(),e=t$(),n=Li();function r(i,o){var s={};return o=n(o,3),e(i,function(l,c,h){t(s,c,o(l,c,h))}),s}return rb=r,rb}var kre=Rre();const Nre=gt(kre);var ib,E2;function jre(){if(E2)return ib;E2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return ib=t,ib}var ob,T2;function Dre(){if(T2)return ob;T2=1;var t=IT();function e(n,r){var i=!0;return t(n,function(o,s,l){return i=!!r(o,s,l),i}),i}return ob=e,ob}var ab,S2;function Mre(){if(S2)return ab;S2=1;var t=jre(),e=Dre(),n=Li(),r=nr(),i=Zm();function o(s,l,c){var h=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),h(s,n(l,3))}return ab=o,ab}var Lre=Mre();const $re=gt(Lre);function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U4(r.key),r)}}function Ure(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){r1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r1(t,e,n){return e=U4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U4(t){var e=Fre(t,"string");return Vf(e)=="symbol"?e:e+""}function Fre(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F4=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},qre=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return F4({x:n,y:r},{x:i,y:o})},q4=function(){function t(e){Vre(this,t),this.scale=e}return Ure(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();r1(q4,"EPS",1e-4);var i1=function(e){var n=Object.keys(e).reduce(function(r,i){return Gd(Gd({},r),{},r1({},i,q4.create(e[i])))},{});return Gd(Gd({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return Nre(i,function(c,h){return n[h].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return $re(i,function(o,s){return n[s].isInRange(o)})}})},sb,P2;function Bre(){if(P2)return sb;P2=1;var t=Li(),e=nh(),n=Ym();function r(i){return function(o,s,l){var c=Object(o);if(!e(o)){var h=t(s,3);o=n(o),s=function(g){return h(c[g],g,c)}}var p=i(o,s,l);return p>-1?c[h?o[p]:p]:void 0}}return sb=r,sb}var ub,O2;function zre(){if(O2)return ub;O2=1;var t=M4();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return ub=e,ub}var lb,C2;function Hre(){if(C2)return lb;C2=1;var t=QL(),e=Li(),n=zre(),r=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var h=l==null?0:n(l);return h<0&&(h=r(c+h,0)),t(o,e(s,3),h)}return lb=i,lb}var cb,R2;function Wre(){if(R2)return cb;R2=1;var t=Bre(),e=Hre(),n=t(e);return cb=n,cb}Wre();var Gre=fL();const Kre=gt(Gre);var Xre=Kre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),B4=ie.createContext(void 0),z4=ie.createContext(void 0),H4=ie.createContext(void 0),Qre=ie.createContext({}),W4=ie.createContext(void 0),Yre=ie.createContext(0),Jre=ie.createContext(0),k2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,l=e.children,c=e.width,h=e.height,p=Xre(o);return ne.createElement(B4.Provider,{value:r},ne.createElement(z4.Provider,{value:i},ne.createElement(Qre.Provider,{value:o},ne.createElement(H4.Provider,{value:p},ne.createElement(W4.Provider,{value:s},ne.createElement(Yre.Provider,{value:h},ne.createElement(Jre.Provider,{value:c},l)))))))},Zre=function(){return ie.useContext(W4)},eie=function(e){var n=ie.useContext(B4);n==null&&ol();var r=n[e];return r==null&&ol(),r},tie=function(e){var n=ie.useContext(z4);n==null&&ol();var r=n[e];return r==null&&ol(),r},nie=function(){var e=ie.useContext(H4);return e};function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K4(r.key),r)}}function oie(t,e,n){return e&&iie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aie(t,e,n){return e=hm(e),sie(t,G4()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function sie(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uie(t)}function uie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G4=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kx(t,e)}function Kx(t,e){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kx(t,e)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){o1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1(t,e,n){return e=K4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K4(t){var e=cie(t,"string");return pl(e)=="symbol"?e:e+""}function cie(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fie(t,e){return mie(t)||pie(t,e)||die(t,e)||hie()}function hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function die(t,e){if(t){if(typeof t=="string")return D2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D2(t,e)}}function D2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function mie(t){if(Array.isArray(t))return t}function Xx(){return Xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xx.apply(this,arguments)}var gie=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):Je(e)?r=e(n):r=ne.createElement("line",Xx({},n,{className:"recharts-reference-line-line"})),r},yie=function(e,n,r,i,o,s,l,c,h){var p=o.x,g=o.y,y=o.width,w=o.height;if(r){var A=h.y,T=e.y.apply(A,{position:s});if(ki(h,"discard")&&!e.y.isInRange(T))return null;var x=[{x:p+y,y:T},{x:p,y:T}];return c==="left"?x.reverse():x}if(n){var D=h.x,$=e.x.apply(D,{position:s});if(ki(h,"discard")&&!e.x.isInRange($))return null;var U=[{x:$,y:g+w},{x:$,y:g}];return l==="top"?U.reverse():U}if(i){var F=h.segment,k=F.map(function(C){return e.apply(C,{position:s})});return ki(h,"discard")&&Ore(k,function(C){return!e.isInRange(C)})?null:k}return null};function vie(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,h=Zre(),p=eie(i),g=tie(o),y=nie();if(!h||!y)return null;ys(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=i1({x:p.scale,y:g.scale}),A=tn(e),T=tn(n),x=r&&r.length===2,D=yie(w,A,T,x,y,t.position,p.orientation,g.orientation,t);if(!D)return null;var $=fie(D,2),U=$[0],F=U.x,k=U.y,C=$[1],I=C.x,O=C.y,S=ki(t,"hidden")?"url(#".concat(h,")"):void 0,N=j2(j2({clipPath:S},Ke(t,!0)),{},{x1:F,y1:k,x2:I,y2:O});return ne.createElement(on,{className:st("recharts-reference-line",l)},gie(s,N),Cn.renderCallByParent(t,qre({x1:F,y1:k,x2:I,y2:O})))}var a1=function(t){function e(){return rie(this,e),aie(this,e,arguments)}return lie(e,t),oie(e,[{key:"render",value:function(){return ne.createElement(vie,this.props)}}])}(ne.Component);o1(a1,"displayName","ReferenceLine");o1(a1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){yg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q4(r.key),r)}}function bie(t,e,n){return e&&wie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xie(t,e,n){return e=dm(e),Eie(t,X4()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function Eie(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tie(t)}function Tie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function Sie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yx(t,e)}function Yx(t,e){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yx(t,e)}function yg(t,e,n){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q4(t){var e=Aie(t,"string");return ml(e)=="symbol"?e:e+""}function Aie(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iie=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=i1({x:i.scale,y:o.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return ki(e,"discard")&&!s.isInRange(l)?null:l},vg=function(t){function e(){return _ie(this,e),xie(this,e,arguments)}return Sie(e,t),bie(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,h=tn(i),p=tn(o);if(ys(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var g=Iie(this.props);if(!g)return null;var y=g.x,w=g.y,A=this.props,T=A.shape,x=A.className,D=ki(this.props,"hidden")?"url(#".concat(c,")"):void 0,$=L2(L2({clipPath:D},Ke(this.props,!0)),{},{cx:y,cy:w});return ne.createElement(on,{className:st("recharts-reference-dot",x)},e.renderDot(T,$),Cn.renderCallByParent(this.props,{x:y-s,y:w-s,width:2*s,height:2*s}))}}])}(ne.Component);yg(vg,"displayName","ReferenceDot");yg(vg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yg(vg,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Je(t)?n=t(e):n=ne.createElement(hg,Qx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){_g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J4(r.key),r)}}function Cie(t,e,n){return e&&Oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rie(t,e,n){return e=pm(e),kie(t,Y4()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function kie(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nie(t)}function Nie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function jie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zx(t,e)}function Zx(t,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zx(t,e)}function _g(t,e,n){return e=J4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J4(t){var e=Die(t,"string");return gl(e)=="symbol"?e:e+""}function Die(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mie=function(e,n,r,i,o){var s=o.x1,l=o.x2,c=o.y1,h=o.y2,p=o.xAxis,g=o.yAxis;if(!p||!g)return null;var y=i1({x:p.scale,y:g.scale}),w={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},A={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(h,{position:"end"}):y.y.rangeMax};return ki(o,"discard")&&(!y.isInRange(w)||!y.isInRange(A))?null:F4(w,A)},wg=function(t){function e(){return Pie(this,e),Rie(this,e,arguments)}return jie(e,t),Cie(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,l=r.y2,c=r.className,h=r.alwaysShow,p=r.clipPathId;ys(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=tn(i),y=tn(o),w=tn(s),A=tn(l),T=this.props.shape;if(!g&&!y&&!w&&!A&&!T)return null;var x=Mie(g,y,w,A,this.props);if(!x&&!T)return null;var D=ki(this.props,"hidden")?"url(#".concat(p,")"):void 0;return ne.createElement(on,{className:st("recharts-reference-area",c)},e.renderRect(T,V2(V2({clipPath:D},Ke(this.props,!0)),x)),Cn.renderCallByParent(this.props,x))}}])}(ne.Component);_g(wg,"displayName","ReferenceArea");_g(wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_g(wg,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Je(t)?n=t(e):n=ne.createElement(I4,Jx({},e,{className:"recharts-reference-area-rect"})),n});function U2(t){return Uie(t)||Vie(t)||$ie(t)||Lie()}function Lie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ie(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function Vie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uie(t){if(Array.isArray(t))return eE(t)}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tE=function(e,n,r,i,o){var s=po(e,a1),l=po(e,vg),c=[].concat(U2(s),U2(l)),h=po(e,wg),p="".concat(i,"Id"),g=i[0],y=n;if(c.length&&(y=c.reduce(function(T,x){if(x.props[p]===r&&ki(x.props,"extendDomain")&&Oe(x.props[g])){var D=x.props[g];return[Math.min(T[0],D),Math.max(T[1],D)]}return T},y)),h.length){var w="".concat(g,"1"),A="".concat(g,"2");y=h.reduce(function(T,x){if(x.props[p]===r&&ki(x.props,"extendDomain")&&Oe(x.props[w])&&Oe(x.props[A])){var D=x.props[w],$=x.props[A];return[Math.min(T[0],D,$),Math.max(T[1],D,$)]}return T},y)}return o&&o.length&&(y=o.reduce(function(T,x){return Oe(x)?[Math.min(T[0],x),Math.max(T[1],x)]:T},y)),y},fb={exports:{}},F2;function Fie(){return F2||(F2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,h,p){this.fn=c,this.context=h,this.once=p||!1}function o(c,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||c,y),A=n?n+h:h;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],w]:c._events[A].push(w):(c._events[A]=w,c._eventsCount++),c}function s(c,h){--c._eventsCount===0?c._events=new r:delete c._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},l.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,w=g.length,A=new Array(w);y<w;y++)A[y]=g[y].fn;return A},l.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(h,p,g,y,w,A){var T=n?n+h:h;if(!this._events[T])return!1;var x=this._events[T],D=arguments.length,$,U;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),D){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,g),!0;case 4:return x.fn.call(x.context,p,g,y),!0;case 5:return x.fn.call(x.context,p,g,y,w),!0;case 6:return x.fn.call(x.context,p,g,y,w,A),!0}for(U=1,$=new Array(D-1);U<D;U++)$[U-1]=arguments[U];x.fn.apply(x.context,$)}else{var F=x.length,k;for(U=0;U<F;U++)switch(x[U].once&&this.removeListener(h,x[U].fn,void 0,!0),D){case 1:x[U].fn.call(x[U].context);break;case 2:x[U].fn.call(x[U].context,p);break;case 3:x[U].fn.call(x[U].context,p,g);break;case 4:x[U].fn.call(x[U].context,p,g,y);break;default:if(!$)for(k=1,$=new Array(D-1);k<D;k++)$[k-1]=arguments[k];x[U].fn.apply(x[U].context,$)}}return!0},l.prototype.on=function(h,p,g){return o(this,h,p,g,!1)},l.prototype.once=function(h,p,g){return o(this,h,p,g,!0)},l.prototype.removeListener=function(h,p,g,y){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return s(this,w),this;var A=this._events[w];if(A.fn)A.fn===p&&(!y||A.once)&&(!g||A.context===g)&&s(this,w);else{for(var T=0,x=[],D=A.length;T<D;T++)(A[T].fn!==p||y&&!A[T].once||g&&A[T].context!==g)&&x.push(A[T]);x.length?this._events[w]=x.length===1?x[0]:x:s(this,w)}return this},l.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(fb)),fb.exports}var qie=Fie();const Bie=gt(qie);var hb=new Bie,db="recharts.syncMouseEvents";function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function zie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z4(r.key),r)}}function Wie(t,e,n){return e&&Hie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pb(t,e,n){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4(t){var e=Gie(t,"string");return Uf(e)=="symbol"?e:e+""}function Gie(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kie=function(){function t(){zie(this,t),pb(this,"activeIndex",0),pb(this,"coordinateList",[]),pb(this,"layout","horizontal")}return Wie(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,h=c===void 0?null:c,p=n.offset,g=p===void 0?null:p,y=n.mouseHandlerCallback,w=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=h??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,g=o+c+h,y=s+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:g,pageY:y})}}}])}();function Xie(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Oe(r)&&Oe(i))return!0}return!1}function Qie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function eV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=mt(e,n,r,i),l=mt(e,n,r,o);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Yie(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,h=e.innerRadius,p=e.outerRadius,g=e.angle,y=mt(l,c,h,g),w=mt(l,c,p,g);r=y.x,i=y.y,o=w.x,s=w.y}else return eV(e);return[{x:r,y:i},{x:o,y:s}]}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return e=Zie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=eoe(t,"string");return Ff(e)=="symbol"?e:e+""}function eoe(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,g=t.layout,y=t.chartName,w=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!w||!o||!s||y!=="ScatterChart"&&i!=="axis")return null;var A,T=wN;if(y==="ScatterChart")A=s,T=rne;else if(y==="BarChart")A=Qie(g,s,c,p),T=I4;else if(g==="radial"){var x=eV(s),D=x.cx,$=x.cy,U=x.radius,F=x.startAngle,k=x.endAngle;A={cx:D,cy:$,startAngle:F,endAngle:k,innerRadius:U,outerRadius:U},T=HZ}else A={points:Yie(g,s,c)},T=wN;var C=Kd(Kd(Kd(Kd({stroke:"#ccc",pointerEvents:"none"},c),A),Ke(w,!1)),{},{payload:l,payloadIndex:h,className:st("recharts-tooltip-cursor",w.className)});return ie.isValidElement(w)?ie.cloneElement(w,C):ie.createElement(T,C)}var noe=["item"],roe=["children","className","width","height","style","compact","title","desc"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}function B2(t,e){return aoe(t)||ooe(t,e)||nV(t,e)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(p){h=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return l}}function aoe(t){if(Array.isArray(t))return t}function z2(t,e){if(t==null)return{};var n=soe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function soe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function loe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rV(r.key),r)}}function coe(t,e,n){return e&&loe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function foe(t,e,n){return e=mm(e),hoe(t,tV()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function hoe(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(t)}function doe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nE(t,e)}function vl(t){return yoe(t)||goe(t)||nV(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t,e){if(t){if(typeof t=="string")return rE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(t,e)}}function goe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yoe(t){if(Array.isArray(t))return rE(t)}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $e(t,e,n){return e=rV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rV(t){var e=voe(t,"string");return yl(e)=="symbol"?e:e+""}function voe(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _oe={xAxis:["bottom","top"],yAxis:["left","right"]},woe={width:"100%",height:"100%"},iV={x:0,y:0};function Xd(t){return t}var boe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xoe=function(e,n,r,i){var o=n.find(function(p){return p&&p.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return ue(ue(ue({},i),mt(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,h=i.angle;return ue(ue(ue({},i),mt(i.cx,i.cy,c,h)),{},{angle:h,radius:c})}return iV},bg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var h=c.props.data;return h&&h.length?[].concat(vl(l),vl(h)):l},[]);return s.length>0?s:e&&e.length&&Oe(i)&&Oe(o)?e.slice(i,o+1):[]};function oV(t){return t==="number"?[0,"auto"]:void 0}var iE=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,l=bg(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,h){var p,g=(p=h.props.data)!==null&&p!==void 0?p:n;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var w=g===void 0?l:g;y=Hb(w,s.dataKey,i)}else y=g&&g[r]||l[r];return y?[].concat(vl(c),[BJ(h,y)]):c},[])},W2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=boe(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,h=e.tooltipTicks,p=IJ(s,l,h,c);if(p>=0&&h){var g=h[p]&&h[p].value,y=iE(e,n,p,g),w=xoe(r,l,p,o);return{activeTooltipIndex:p,activeLabel:g,activePayload:y,activeCoordinate:w}}return null},Eoe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,g=e.children,y=e.stackOffset,w=d4(p,o);return r.reduce(function(A,T){var x,D=T.type.defaultProps!==void 0?ue(ue({},T.type.defaultProps),T.props):T.props,$=D.type,U=D.dataKey,F=D.allowDataOverflow,k=D.allowDuplicatedCategory,C=D.scale,I=D.ticks,O=D.includeHidden,S=D[s];if(A[S])return A;var N=bg(e.data,{graphicalItems:i.filter(function(Y){var de,Ce=s in Y.props?Y.props[s]:(de=Y.type.defaultProps)===null||de===void 0?void 0:de[s];return Ce===S}),dataStartIndex:c,dataEndIndex:h}),R=N.length,V,j,M;Xie(D.domain,F,$)&&(V=Ax(D.domain,null,F),w&&($==="number"||C!=="auto")&&(M=Kc(N,U,"category")));var W=oV($);if(!V||V.length===0){var G,J=(G=D.domain)!==null&&G!==void 0?G:W;if(U){if(V=Kc(N,U,$),$==="category"&&w){var B=bH(V);k&&B?(j=V,V=lm(0,R)):k||(V=aN(J,V,T).reduce(function(Y,de){return Y.indexOf(de)>=0?Y:[].concat(vl(Y),[de])},[]))}else if($==="category")k?V=V.filter(function(Y){return Y!==""&&!lt(Y)}):V=aN(J,V,T).reduce(function(Y,de){return Y.indexOf(de)>=0||de===""||lt(de)?Y:[].concat(vl(Y),[de])},[]);else if($==="number"){var K=kJ(N,i.filter(function(Y){var de,Ce,ae=s in Y.props?Y.props[s]:(de=Y.type.defaultProps)===null||de===void 0?void 0:de[s],_e="hide"in Y.props?Y.props.hide:(Ce=Y.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return ae===S&&(O||!_e)}),U,o,p);K&&(V=K)}w&&($==="number"||C!=="auto")&&(M=Kc(N,U,"category"))}else w?V=lm(0,R):l&&l[S]&&l[S].hasStack&&$==="number"?V=y==="expand"?[0,1]:p4(l[S].stackGroups,c,h):V=h4(N,i.filter(function(Y){var de=s in Y.props?Y.props[s]:Y.type.defaultProps[s],Ce="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return de===S&&(O||!Ce)}),$,p,!0);if($==="number")V=tE(g,V,S,o,I),J&&(V=Ax(J,V,F));else if($==="category"&&J){var Z=J,z=V.every(function(Y){return Z.indexOf(Y)>=0});z&&(V=Z)}}return ue(ue({},A),{},$e({},S,ue(ue({},D),{},{axisType:o,domain:V,categoricalDomain:M,duplicateDomain:j,originalDomain:(x=D.domain)!==null&&x!==void 0?x:W,isCategorical:w,layout:p})))},{})},Toe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,g=e.children,y=bg(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:h}),w=y.length,A=d4(p,o),T=-1;return r.reduce(function(x,D){var $=D.type.defaultProps!==void 0?ue(ue({},D.type.defaultProps),D.props):D.props,U=$[s],F=oV("number");if(!x[U]){T++;var k;return A?k=lm(0,w):l&&l[U]&&l[U].hasStack?(k=p4(l[U].stackGroups,c,h),k=tE(g,k,U,o)):(k=Ax(F,h4(y,r.filter(function(C){var I,O,S=s in C.props?C.props[s]:(I=C.type.defaultProps)===null||I===void 0?void 0:I[s],N="hide"in C.props?C.props.hide:(O=C.type.defaultProps)===null||O===void 0?void 0:O.hide;return S===U&&!N}),"number",p),i.defaultProps.allowDataOverflow),k=tE(g,k,U,o)),ue(ue({},x),{},$e({},U,ue(ue({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ci(_oe,"".concat(o,".").concat(T%2),null),domain:k,originalDomain:F,isCategorical:A,layout:p})))}return x},{})},Soe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,h=n.dataEndIndex,p=e.children,g="".concat(i,"Id"),y=po(p,o),w={};return y&&y.length?w=Eoe(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:l,dataStartIndex:c,dataEndIndex:h}):s&&s.length&&(w=Toe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:l,dataStartIndex:c,dataEndIndex:h})),w},Aoe=function(e){var n=Nu(e),r=Vc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:PT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ix(n,r)}},G2=function(e){var n=e.children,r=e.defaultShowTooltip,i=Rr(n,dl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Ioe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ho(n&&n.type);return r&&r.indexOf("Bar")>=0})},K2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Poe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,h=r.width,p=r.height,g=r.children,y=r.margin||{},w=Rr(g,dl),A=Rr(g,Fu),T=Object.keys(c).reduce(function(k,C){var I=c[C],O=I.orientation;return!I.mirror&&!I.hide?ue(ue({},k),{},$e({},O,k[O]+I.width)):k},{left:y.left||0,right:y.right||0}),x=Object.keys(s).reduce(function(k,C){var I=s[C],O=I.orientation;return!I.mirror&&!I.hide?ue(ue({},k),{},$e({},O,Ci(k,"".concat(O))+I.height)):k},{top:y.top||0,bottom:y.bottom||0}),D=ue(ue({},x),T),$=D.bottom;w&&(D.bottom+=w.props.height||dl.defaultProps.height),A&&n&&(D=CJ(D,i,r,n));var U=h-D.left-D.right,F=p-D.top-D.bottom;return ue(ue({brushBottom:$},D),{},{width:Math.max(U,0),height:Math.max(F,0)})},Ooe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Coe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,y=function(D,$){var U=$.graphicalItems,F=$.stackGroups,k=$.offset,C=$.updateId,I=$.dataStartIndex,O=$.dataEndIndex,S=D.barSize,N=D.layout,R=D.barGap,V=D.barCategoryGap,j=D.maxBarSize,M=K2(N),W=M.numericAxisName,G=M.cateAxisName,J=Ioe(U),B=[];return U.forEach(function(K,Z){var z=bg(D.data,{graphicalItems:[K],dataStartIndex:I,dataEndIndex:O}),Y=K.type.defaultProps!==void 0?ue(ue({},K.type.defaultProps),K.props):K.props,de=Y.dataKey,Ce=Y.maxBarSize,ae=Y["".concat(W,"Id")],_e=Y["".concat(G,"Id")],xe={},Ie=c.reduce(function(pn,or){var ci=$["".concat(or.axisType,"Map")],$i=Y["".concat(or.axisType,"Id")];ci&&ci[$i]||or.axisType==="zAxis"||ol();var Po=ci[$i];return ue(ue({},pn),{},$e($e({},or.axisType,Po),"".concat(or.axisType,"Ticks"),Vc(Po)))},xe),le=Ie[G],we=Ie["".concat(G,"Ticks")],Ne=F&&F[ae]&&F[ae].hasStack&&FJ(K,F[ae].stackGroups),he=ho(K.type).indexOf("Bar")>=0,Ge=Ix(le,we),He=[],Ye=J&&PJ({barSize:S,stackGroups:F,totalSize:Ooe(Ie,G)});if(he){var Be,bt,rr=lt(Ce)?j:Ce,ir=(Be=(bt=Ix(le,we,!0))!==null&&bt!==void 0?bt:rr)!==null&&Be!==void 0?Be:0;He=OJ({barGap:R,barCategoryGap:V,bandSize:ir!==Ge?ir:Ge,sizeList:Ye[_e],maxBarSize:rr}),ir!==Ge&&(He=He.map(function(pn){return ue(ue({},pn),{},{position:ue(ue({},pn.position),{},{offset:pn.position.offset-ir/2})})}))}var qn=K&&K.type&&K.type.getComposedData;qn&&B.push({props:ue(ue({},qn(ue(ue({},Ie),{},{displayedData:z,props:D,dataKey:de,item:K,bandSize:Ge,barPosition:He,offset:k,stackedData:Ne,layout:N,dataStartIndex:I,dataEndIndex:O}))),{},$e($e($e({key:K.key||"item-".concat(Z)},W,Ie[W]),G,Ie[G]),"animationId",C)),childIndex:kH(K,D.children),item:K})}),B},w=function(D,$){var U=D.props,F=D.dataStartIndex,k=D.dataEndIndex,C=D.updateId;if(!bO({props:U}))return null;var I=U.children,O=U.layout,S=U.stackOffset,N=U.data,R=U.reverseStackOrder,V=K2(O),j=V.numericAxisName,M=V.cateAxisName,W=po(I,r),G=VJ(N,W,"".concat(j,"Id"),"".concat(M,"Id"),S,R),J=c.reduce(function(Y,de){var Ce="".concat(de.axisType,"Map");return ue(ue({},Y),{},$e({},Ce,Soe(U,ue(ue({},de),{},{graphicalItems:W,stackGroups:de.axisType===j&&G,dataStartIndex:F,dataEndIndex:k}))))},{}),B=Poe(ue(ue({},J),{},{props:U,graphicalItems:W}),$==null?void 0:$.legendBBox);Object.keys(J).forEach(function(Y){J[Y]=p(U,J[Y],B,Y.replace("Map",""),n)});var K=J["".concat(M,"Map")],Z=Aoe(K),z=y(U,ue(ue({},J),{},{dataStartIndex:F,dataEndIndex:k,updateId:C,graphicalItems:W,stackGroups:G,offset:B}));return ue(ue({formattedGraphicalItems:z,graphicalItems:W,offset:B,stackGroups:G},Z),J)},A=function(x){function D($){var U,F,k;return uoe(this,D),k=foe(this,D,[$]),$e(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(k,"accessibilityManager",new Kie),$e(k,"handleLegendBBoxUpdate",function(C){if(C){var I=k.state,O=I.dataStartIndex,S=I.dataEndIndex,N=I.updateId;k.setState(ue({legendBBox:C},w({props:k.props,dataStartIndex:O,dataEndIndex:S,updateId:N},ue(ue({},k.state),{},{legendBBox:C}))))}}),$e(k,"handleReceiveSyncEvent",function(C,I,O){if(k.props.syncId===C){if(O===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(I)}}),$e(k,"handleBrushChange",function(C){var I=C.startIndex,O=C.endIndex;if(I!==k.state.dataStartIndex||O!==k.state.dataEndIndex){var S=k.state.updateId;k.setState(function(){return ue({dataStartIndex:I,dataEndIndex:O},w({props:k.props,dataStartIndex:I,dataEndIndex:O,updateId:S},k.state))}),k.triggerSyncEvent({dataStartIndex:I,dataEndIndex:O})}}),$e(k,"handleMouseEnter",function(C){var I=k.getMouseInfo(C);if(I){var O=ue(ue({},I),{},{isTooltipActive:!0});k.setState(O),k.triggerSyncEvent(O);var S=k.props.onMouseEnter;Je(S)&&S(O,C)}}),$e(k,"triggeredAfterMouseMove",function(C){var I=k.getMouseInfo(C),O=I?ue(ue({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(O),k.triggerSyncEvent(O);var S=k.props.onMouseMove;Je(S)&&S(O,C)}),$e(k,"handleItemMouseEnter",function(C){k.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),$e(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),$e(k,"handleMouseMove",function(C){C.persist(),k.throttleTriggeredAfterMouseMove(C)}),$e(k,"handleMouseLeave",function(C){k.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var O=k.props.onMouseLeave;Je(O)&&O(I,C)}),$e(k,"handleOuterEvent",function(C){var I=RH(C),O=Ci(k.props,"".concat(I));if(I&&Je(O)){var S,N;/.*touch.*/i.test(I)?N=k.getMouseInfo(C.changedTouches[0]):N=k.getMouseInfo(C),O((S=N)!==null&&S!==void 0?S:{},C)}}),$e(k,"handleClick",function(C){var I=k.getMouseInfo(C);if(I){var O=ue(ue({},I),{},{isTooltipActive:!0});k.setState(O),k.triggerSyncEvent(O);var S=k.props.onClick;Je(S)&&S(O,C)}}),$e(k,"handleMouseDown",function(C){var I=k.props.onMouseDown;if(Je(I)){var O=k.getMouseInfo(C);I(O,C)}}),$e(k,"handleMouseUp",function(C){var I=k.props.onMouseUp;if(Je(I)){var O=k.getMouseInfo(C);I(O,C)}}),$e(k,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),$e(k,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseDown(C.changedTouches[0])}),$e(k,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseUp(C.changedTouches[0])}),$e(k,"handleDoubleClick",function(C){var I=k.props.onDoubleClick;if(Je(I)){var O=k.getMouseInfo(C);I(O,C)}}),$e(k,"handleContextMenu",function(C){var I=k.props.onContextMenu;if(Je(I)){var O=k.getMouseInfo(C);I(O,C)}}),$e(k,"triggerSyncEvent",function(C){k.props.syncId!==void 0&&hb.emit(db,k.props.syncId,C,k.eventEmitterSymbol)}),$e(k,"applySyncEvent",function(C){var I=k.props,O=I.layout,S=I.syncMethod,N=k.state.updateId,R=C.dataStartIndex,V=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)k.setState(ue({dataStartIndex:R,dataEndIndex:V},w({props:k.props,dataStartIndex:R,dataEndIndex:V,updateId:N},k.state)));else if(C.activeTooltipIndex!==void 0){var j=C.chartX,M=C.chartY,W=C.activeTooltipIndex,G=k.state,J=G.offset,B=G.tooltipTicks;if(!J)return;if(typeof S=="function")W=S(B,C);else if(S==="value"){W=-1;for(var K=0;K<B.length;K++)if(B[K].value===C.activeLabel){W=K;break}}var Z=ue(ue({},J),{},{x:J.left,y:J.top}),z=Math.min(j,Z.x+Z.width),Y=Math.min(M,Z.y+Z.height),de=B[W]&&B[W].value,Ce=iE(k.state,k.props.data,W),ae=B[W]?{x:O==="horizontal"?B[W].coordinate:z,y:O==="horizontal"?Y:B[W].coordinate}:iV;k.setState(ue(ue({},C),{},{activeLabel:de,activeCoordinate:ae,activePayload:Ce,activeTooltipIndex:W}))}else k.setState(C)}),$e(k,"renderCursor",function(C){var I,O=k.state,S=O.isTooltipActive,N=O.activeCoordinate,R=O.activePayload,V=O.offset,j=O.activeTooltipIndex,M=O.tooltipAxisBandSize,W=k.getTooltipEventType(),G=(I=C.props.active)!==null&&I!==void 0?I:S,J=k.props.layout,B=C.key||"_recharts-cursor";return ne.createElement(toe,{key:B,activeCoordinate:N,activePayload:R,activeTooltipIndex:j,chartName:n,element:C,isActive:G,layout:J,offset:V,tooltipAxisBandSize:M,tooltipEventType:W})}),$e(k,"renderPolarAxis",function(C,I,O){var S=Ci(C,"type.axisType"),N=Ci(k.state,"".concat(S,"Map")),R=C.type.defaultProps,V=R!==void 0?ue(ue({},R),C.props):C.props,j=N&&N[V["".concat(S,"Id")]];return ie.cloneElement(C,ue(ue({},j),{},{className:st(S,j.className),key:C.key||"".concat(I,"-").concat(O),ticks:Vc(j,!0)}))}),$e(k,"renderPolarGrid",function(C){var I=C.props,O=I.radialLines,S=I.polarAngles,N=I.polarRadius,R=k.state,V=R.radiusAxisMap,j=R.angleAxisMap,M=Nu(V),W=Nu(j),G=W.cx,J=W.cy,B=W.innerRadius,K=W.outerRadius;return ie.cloneElement(C,{polarAngles:Array.isArray(S)?S:Vc(W,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(N)?N:Vc(M,!0).map(function(Z){return Z.coordinate}),cx:G,cy:J,innerRadius:B,outerRadius:K,key:C.key||"polar-grid",radialLines:O})}),$e(k,"renderLegend",function(){var C=k.state.formattedGraphicalItems,I=k.props,O=I.children,S=I.width,N=I.height,R=k.props.margin||{},V=S-(R.left||0)-(R.right||0),j=c4({children:O,formattedGraphicalItems:C,legendWidth:V,legendContent:h});if(!j)return null;var M=j.item,W=z2(j,noe);return ie.cloneElement(M,ue(ue({},W),{},{chartWidth:S,chartHeight:N,margin:R,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),$e(k,"renderTooltip",function(){var C,I=k.props,O=I.children,S=I.accessibilityLayer,N=Rr(O,to);if(!N)return null;var R=k.state,V=R.isTooltipActive,j=R.activeCoordinate,M=R.activePayload,W=R.activeLabel,G=R.offset,J=(C=N.props.active)!==null&&C!==void 0?C:V;return ie.cloneElement(N,{viewBox:ue(ue({},G),{},{x:G.left,y:G.top}),active:J,label:W,payload:J?M:[],coordinate:j,accessibilityLayer:S})}),$e(k,"renderBrush",function(C){var I=k.props,O=I.margin,S=I.data,N=k.state,R=N.offset,V=N.dataStartIndex,j=N.dataEndIndex,M=N.updateId;return ie.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Bd(k.handleBrushChange,C.props.onChange),data:S,x:Oe(C.props.x)?C.props.x:R.left,y:Oe(C.props.y)?C.props.y:R.top+R.height+R.brushBottom-(O.bottom||0),width:Oe(C.props.width)?C.props.width:R.width,startIndex:V,endIndex:j,updateId:"brush-".concat(M)})}),$e(k,"renderReferenceElement",function(C,I,O){if(!C)return null;var S=k,N=S.clipPathId,R=k.state,V=R.xAxisMap,j=R.yAxisMap,M=R.offset,W=C.type.defaultProps||{},G=C.props,J=G.xAxisId,B=J===void 0?W.xAxisId:J,K=G.yAxisId,Z=K===void 0?W.yAxisId:K;return ie.cloneElement(C,{key:C.key||"".concat(I,"-").concat(O),xAxis:V[B],yAxis:j[Z],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:N})}),$e(k,"renderActivePoints",function(C){var I=C.item,O=C.activePoint,S=C.basePoint,N=C.childIndex,R=C.isRange,V=[],j=I.props.key,M=I.item.type.defaultProps!==void 0?ue(ue({},I.item.type.defaultProps),I.item.props):I.item.props,W=M.activeDot,G=M.dataKey,J=ue(ue({index:N,dataKey:G,cx:O.x,cy:O.y,r:4,fill:n1(I.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ke(W,!1)),Op(W));return V.push(D.renderActiveDot(W,J,"".concat(j,"-activePoint-").concat(N))),S?V.push(D.renderActiveDot(W,ue(ue({},J),{},{cx:S.x,cy:S.y}),"".concat(j,"-basePoint-").concat(N))):R&&V.push(null),V}),$e(k,"renderGraphicChild",function(C,I,O){var S=k.filterFormatItem(C,I,O);if(!S)return null;var N=k.getTooltipEventType(),R=k.state,V=R.isTooltipActive,j=R.tooltipAxis,M=R.activeTooltipIndex,W=R.activeLabel,G=k.props.children,J=Rr(G,to),B=S.props,K=B.points,Z=B.isRange,z=B.baseLine,Y=S.item.type.defaultProps!==void 0?ue(ue({},S.item.type.defaultProps),S.item.props):S.item.props,de=Y.activeDot,Ce=Y.hide,ae=Y.activeBar,_e=Y.activeShape,xe=!!(!Ce&&V&&J&&(de||ae||_e)),Ie={};N!=="axis"&&J&&J.props.trigger==="click"?Ie={onClick:Bd(k.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(Ie={onMouseLeave:Bd(k.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Bd(k.handleItemMouseEnter,C.props.onMouseEnter)});var le=ie.cloneElement(C,ue(ue({},S.props),Ie));function we(or){return typeof j.dataKey=="function"?j.dataKey(or.payload):null}if(xe)if(M>=0){var Ne,he;if(j.dataKey&&!j.allowDuplicatedCategory){var Ge=typeof j.dataKey=="function"?we:"payload.".concat(j.dataKey.toString());Ne=Hb(K,Ge,W),he=Z&&z&&Hb(z,Ge,W)}else Ne=K==null?void 0:K[M],he=Z&&z&&z[M];if(_e||ae){var He=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[ie.cloneElement(C,ue(ue(ue({},S.props),Ie),{},{activeIndex:He})),null,null]}if(!lt(Ne))return[le].concat(vl(k.renderActivePoints({item:S,activePoint:Ne,basePoint:he,childIndex:M,isRange:Z})))}else{var Ye,Be=(Ye=k.getItemByXY(k.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:le},bt=Be.graphicalItem,rr=bt.item,ir=rr===void 0?C:rr,qn=bt.childIndex,pn=ue(ue(ue({},S.props),Ie),{},{activeIndex:qn});return[ie.cloneElement(ir,pn),null,null]}return Z?[le,null,null]:[le,null]}),$e(k,"renderCustomized",function(C,I,O){return ie.cloneElement(C,ue(ue({key:"recharts-customized-".concat(O)},k.props),k.state))}),$e(k,"renderMap",{CartesianGrid:{handler:Xd,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Xd},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Xd},YAxis:{handler:Xd},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((U=$.id)!==null&&U!==void 0?U:pT("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=l$(k.triggeredAfterMouseMove,(F=$.throttleDelay)!==null&&F!==void 0?F:1e3/60),k.state={},k}return poe(D,x),coe(D,[{key:"componentDidMount",value:function(){var U,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(U=this.props.margin.left)!==null&&U!==void 0?U:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var U=this.props,F=U.children,k=U.data,C=U.height,I=U.layout,O=Rr(F,to);if(O){var S=O.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,R=iE(this.state,k,S,N),V=this.state.tooltipTicks[S].coordinate,j=(this.state.offset.top+C)/2,M=I==="horizontal",W=M?{x:V,y:j}:{y:V,x:j},G=this.state.formattedGraphicalItems.find(function(B){var K=B.item;return K.type.name==="Scatter"});G&&(W=ue(ue({},W),G.props.points[S].tooltipPosition),R=G.props.points[S].tooltipPayload);var J={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:N,activePayload:R,activeCoordinate:W};this.setState(J),this.renderCursor(O),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(U,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==U.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==U.margin){var k,C;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(U){Kb([Rr(U.children,to)],[Rr(this.props.children,to)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var U=Rr(this.props.children,to);if(U&&typeof U.props.shared=="boolean"){var F=U.props.shared?"axis":"item";return l.indexOf(F)>=0?F:o}return o}},{key:"getMouseInfo",value:function(U){if(!this.container)return null;var F=this.container,k=F.getBoundingClientRect(),C=_K(k),I={chartX:Math.round(U.pageX-C.left),chartY:Math.round(U.pageY-C.top)},O=k.width/F.offsetWidth||1,S=this.inRange(I.chartX,I.chartY,O);if(!S)return null;var N=this.state,R=N.xAxisMap,V=N.yAxisMap,j=this.getTooltipEventType();if(j!=="axis"&&R&&V){var M=Nu(R).scale,W=Nu(V).scale,G=M&&M.invert?M.invert(I.chartX):null,J=W&&W.invert?W.invert(I.chartY):null;return ue(ue({},I),{},{xValue:G,yValue:J})}var B=W2(this.state,this.props.data,this.props.layout,S);return B?ue(ue({},I),B):null}},{key:"inRange",value:function(U,F){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,I=U/k,O=F/k;if(C==="horizontal"||C==="vertical"){var S=this.state.offset,N=I>=S.left&&I<=S.left+S.width&&O>=S.top&&O<=S.top+S.height;return N?{x:I,y:O}:null}var R=this.state,V=R.angleAxisMap,j=R.radiusAxisMap;if(V&&j){var M=Nu(V);return lN({x:I,y:O},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var U=this.props.children,F=this.getTooltipEventType(),k=Rr(U,to),C={};k&&F==="axis"&&(k.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Op(this.props,this.handleOuterEvent);return ue(ue({},I),C)}},{key:"addListener",value:function(){hb.on(db,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hb.removeListener(db,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(U,F,k){for(var C=this.state.formattedGraphicalItems,I=0,O=C.length;I<O;I++){var S=C[I];if(S.item===U||S.props.key===U.key||F===ho(S.item.type)&&k===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var U=this.clipPathId,F=this.state.offset,k=F.left,C=F.top,I=F.height,O=F.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:U},ne.createElement("rect",{x:k,y:C,height:I,width:O})))}},{key:"getXScales",value:function(){var U=this.state.xAxisMap;return U?Object.entries(U).reduce(function(F,k){var C=B2(k,2),I=C[0],O=C[1];return ue(ue({},F),{},$e({},I,O.scale))},{}):null}},{key:"getYScales",value:function(){var U=this.state.yAxisMap;return U?Object.entries(U).reduce(function(F,k){var C=B2(k,2),I=C[0],O=C[1];return ue(ue({},F),{},$e({},I,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(U){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[U])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(U){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[U])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(U){var F=this.state,k=F.formattedGraphicalItems,C=F.activeItem;if(k&&k.length)for(var I=0,O=k.length;I<O;I++){var S=k[I],N=S.props,R=S.item,V=R.type.defaultProps!==void 0?ue(ue({},R.type.defaultProps),R.props):R.props,j=ho(R.type);if(j==="Bar"){var M=(N.data||[]).find(function(B){return $te(U,B)});if(M)return{graphicalItem:S,payload:M}}else if(j==="RadialBar"){var W=(N.data||[]).find(function(B){return lN(U,B)});if(W)return{graphicalItem:S,payload:W}}else if(mg(S,C)||gg(S,C)||Lf(S,C)){var G=Xne({graphicalItem:S,activeTooltipItem:C,itemData:V.data}),J=V.activeIndex===void 0?G:V.activeIndex;return{graphicalItem:ue(ue({},S),{},{childIndex:J}),payload:Lf(S,C)?V.data[G]:S.props.data[G]}}}return null}},{key:"render",value:function(){var U=this;if(!bO(this))return null;var F=this.props,k=F.children,C=F.className,I=F.width,O=F.height,S=F.style,N=F.compact,R=F.title,V=F.desc,j=z2(F,roe),M=Ke(j,!1);if(N)return ne.createElement(k2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(Qb,Mu({},M,{width:I,height:O,title:R,desc:V}),this.renderClipPath(),EO(k,this.renderMap)));if(this.props.accessibilityLayer){var W,G;M.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,M.role=(G=this.props.role)!==null&&G!==void 0?G:"application",M.onKeyDown=function(B){U.accessibilityManager.keyboardEvent(B)},M.onFocus=function(){U.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return ne.createElement(k2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Mu({className:st("recharts-wrapper",C),style:ue({position:"relative",cursor:"default",width:I,height:O},S)},J,{ref:function(K){U.container=K}}),ne.createElement(Qb,Mu({},M,{width:I,height:O,title:R,desc:V,style:woe}),this.renderClipPath(),EO(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ie.Component);$e(A,"displayName",n),$e(A,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),$e(A,"getDerivedStateFromProps",function(x,D){var $=x.dataKey,U=x.data,F=x.children,k=x.width,C=x.height,I=x.layout,O=x.stackOffset,S=x.margin,N=D.dataStartIndex,R=D.dataEndIndex;if(D.updateId===void 0){var V=G2(x);return ue(ue(ue({},V),{},{updateId:0},w(ue(ue({props:x},V),{},{updateId:0}),D)),{},{prevDataKey:$,prevData:U,prevWidth:k,prevHeight:C,prevLayout:I,prevStackOffset:O,prevMargin:S,prevChildren:F})}if($!==D.prevDataKey||U!==D.prevData||k!==D.prevWidth||C!==D.prevHeight||I!==D.prevLayout||O!==D.prevStackOffset||!Wb(S,D.prevMargin)){var j=G2(x),M={chartX:D.chartX,chartY:D.chartY,isTooltipActive:D.isTooltipActive},W=ue(ue({},W2(D,U,I)),{},{updateId:D.updateId+1}),G=ue(ue(ue({},j),M),W);return ue(ue(ue({},G),w(ue({props:x},G),D)),{},{prevDataKey:$,prevData:U,prevWidth:k,prevHeight:C,prevLayout:I,prevStackOffset:O,prevMargin:S,prevChildren:F})}if(!Kb(F,D.prevChildren)){var J,B,K,Z,z=Rr(F,dl),Y=z&&(J=(B=z.props)===null||B===void 0?void 0:B.startIndex)!==null&&J!==void 0?J:N,de=z&&(K=(Z=z.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&K!==void 0?K:R,Ce=Y!==N||de!==R,ae=!lt(U),_e=ae&&!Ce?D.updateId:D.updateId+1;return ue(ue({updateId:_e},w(ue(ue({props:x},D),{},{updateId:_e,dataStartIndex:Y,dataEndIndex:de}),D)),{},{prevChildren:F,dataStartIndex:Y,dataEndIndex:de})}return null}),$e(A,"renderActiveDot",function(x,D,$){var U;return ie.isValidElement(x)?U=ie.cloneElement(x,D):Je(x)?U=x(D):U=ne.createElement(hg,D),ne.createElement(on,{className:"recharts-active-dot",key:$},U)});var T=ie.forwardRef(function(D,$){return ne.createElement(A,Mu({},D,{ref:$}))});return T.displayName=A.displayName,T},Roe=Coe({chartName:"RadarChart",GraphicalChild:lh,axisComponents:[{axisType:"angleAxis",AxisComp:uh},{axisType:"radiusAxis",AxisComp:sh}],formatAxisMap:ZJ,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const koe=(t,e)=>{const[n,r]=ie.useState(()=>{try{const o=localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.error(o),e}});return[n,o=>{try{const s=o instanceof Function?o(n):o;r(s),localStorage.setItem(t,JSON.stringify(s))}catch(s){console.error(s)}}]},Noe=()=>{const[t,e]=koe("lifeEqCategories",[{name:"Health",value:8},{name:"Relationships",value:7},{name:"Career",value:6},{name:"Finance",value:5},{name:"Growth",value:7},{name:"Leisure",value:6}]),[n,r]=ie.useState(""),[i,o]=ie.useState({width:300,height:300});return ie.useEffect(()=>{const s=()=>{const l=window.innerWidth;l<640?o({width:280,height:280}):l<768?o({width:320,height:320}):o({width:400,height:400})};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),E.jsx("div",{className:"w-full space-y-6 p-4",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsx("div",{className:"w-full bg-gray-700/50 rounded-lg p-4 flex justify-center items-center min-h-[300px] lg:min-h-[400px]",children:E.jsx(hK,{width:"100%",height:"100%",minWidth:280,minHeight:280,children:E.jsxs(Roe,{data:t,children:[E.jsx(O4,{strokeDasharray:"3 3"}),E.jsx(uh,{dataKey:"name",tick:{fill:"#9CA3AF",fontSize:"12px",fontWeight:500}}),E.jsx(sh,{domain:[0,10],tick:{fill:"#9CA3AF"},axisLine:{strokeOpacity:.2}}),E.jsx(lh,{name:"Balance",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6})]})})}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[E.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Life Balance"}),E.jsxs("div",{className:"flex w-full sm:w-auto space-x-2",children:[E.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),placeholder:"New Category",className:"flex-1 sm:flex-none bg-gray-800 p-2 rounded text-sm sm:text-base min-w-[150px]"}),E.jsx("button",{onClick:()=>{n.trim()&&(e([...t,{name:n,value:5}]),r(""))},className:"p-2 bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors flex-shrink-0",children:E.jsx(kr,{className:"w-5 h-5"})})]})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-4",children:t.map((s,l)=>E.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("span",{className:"text-sm sm:text-base font-medium",children:s.name}),E.jsx("button",{onClick:()=>e(t.filter(c=>c.name!==s.name)),className:"p-1 hover:bg-gray-600 rounded group",children:E.jsx(mr,{className:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors"})})]}),E.jsx("input",{type:"range",min:"0",max:"10",value:s.value,onChange:c=>e(t.map(h=>h.name===s.name?{...h,value:parseInt(c.target.value)}:h)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"}),E.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-400 mt-1",children:[E.jsx("span",{children:"0"}),E.jsxs("span",{className:"font-medium",children:[s.value,"/10"]})]})]},l))})]})]})})},joe=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState({}),[i,o]=ie.useState({}),[s,l]=ie.useState({showCompleted:!0,priorityFilter:"all",searchText:"",viewArchived:!1}),[c,h]=ie.useState(!1);ie.useEffect(()=>{(async()=>{var N;try{const R=wa(vt(je,"todoGroups"),ba("userId","==",((N=qe.currentUser)==null?void 0:N.uid)||"")),V=await Nr(R),j=[];V.forEach(M=>{j.push({id:M.id,...M.data()})}),e(j)}catch(R){console.error("Error loading groups:",R)}})()},[]),ie.useEffect(()=>{const S={...i};let N=!1;t.forEach(R=>{R.id in S||(S[R.id]="none",N=!0)}),N&&o(S)},[t,i]);const p=async(S,N)=>{try{await Lt(ot(je,"todoGroups",S),{todos:N})}catch(R){console.error("Error updating group todos:",R)}},g=async()=>{var N;const S={title:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),todos:[],userId:((N=qe.currentUser)==null?void 0:N.uid)||""};try{const R=await $n(vt(je,"todoGroups"),S),V={id:R.id,...S};e([V,...t]),o(j=>({...j,[R.id]:"none"}))}catch(R){console.error("Error adding new group:",R)}},y=async S=>{if(window.confirm("Are you sure you want to delete this group?"))try{await oo(ot(je,"todoGroups",S)),e(N=>N.filter(R=>R.id!==S)),o(N=>{const R={...N};return delete R[S],R}),r(N=>{const R={...N};return delete R[S],R})}catch(N){console.error("Error deleting group:",N)}},w=async S=>{const N=n[S]||"";if(N.trim()){const R={id:Date.now(),text:N.trim(),completed:!1,notes:[],priority:i[S]||"none",archived:!1},V=t.map(M=>{if(M.id===S){const W=[R,...M.todos].sort((G,J)=>k(J.priority)-k(G.priority));return{...M,todos:W}}return M});e(V),r(M=>({...M,[S]:""}));const j=V.find(M=>M.id===S);j&&await p(S,j.todos)}},A=async(S,N)=>{const R=t.map(j=>{if(j.id===S){const M=j.todos.map(W=>W.id===N?{...W,completed:!W.completed}:W).sort((W,G)=>k(G.priority)-k(W.priority));return{...j,todos:M}}return j});e(R);const V=R.find(j=>j.id===S);V&&await p(S,V.todos)},T=async(S,N,R)=>{if(R.trim()){const V=t.map(M=>{if(M.id===S){const W=M.todos.map(G=>{if(G.id===N){const J={id:Date.now(),text:R.trim(),timestamp:new Date().toISOString()};return{...G,notes:[...G.notes,J]}}return G});return{...M,todos:W}}return M});e(V);const j=V.find(M=>M.id===S);j&&await p(S,j.todos)}},x=async(S,N)=>{const R=t.map(j=>j.id===S?{...j,todos:j.todos.filter(M=>M.id!==N)}:j);e(R);const V=R.find(j=>j.id===S);V&&await p(S,V.todos)},D=async(S,N)=>{const R=t.map(j=>{if(j.id===S){const M=j.todos.map(W=>W.id===N?{...W,archived:!0}:W).sort((W,G)=>k(G.priority)-k(W.priority));return{...j,todos:M}}return j});e(R);const V=R.find(j=>j.id===S);V&&await p(S,V.todos)},$=async(S,N)=>{const R=t.map(j=>{if(j.id===S){const M=j.todos.map(W=>W.id===N?{...W,archived:!1}:W).sort((W,G)=>k(G.priority)-k(W.priority));return{...j,todos:M}}return j});e(R);const V=R.find(j=>j.id===S);V&&await p(S,V.todos)},U=async(S,N,R)=>{const V=t.map(M=>{if(M.id===S){const W=M.todos.map(G=>G.id===N?{...G,notes:G.notes.filter(J=>J.id!==R)}:G);return{...M,todos:W}}return M});e(V);const j=V.find(M=>M.id===S);j&&await p(S,j.todos)},F=async(S,N,R)=>{const V=t.map(M=>{if(M.id===S){const W=M.todos.map(G=>G.id===N?{...G,priority:R}:G).sort((G,J)=>k(J.priority)-k(G.priority));return{...M,todos:W}}return M});e(V);const j=V.find(M=>M.id===S);j&&await p(S,j.todos)},k=S=>{switch(S){case"high":return 3;case"medium":return 2;case"low":return 1;default:return 0}},C=S=>{switch(S){case"high":return{icon:E.jsx(Id,{className:"w-4 h-4 text-red-500"}),color:"bg-red-500/20",borderColor:"border-red-500"};case"medium":return{icon:E.jsx(Pd,{className:"w-4 h-4 text-yellow-500"}),color:"bg-yellow-500/20",borderColor:"border-yellow-500"};case"low":return{icon:E.jsx(Ad,{className:"w-4 h-4 text-green-500"}),color:"bg-green-500/20",borderColor:"border-green-500"};default:return{icon:null,color:"",borderColor:"border-transparent"}}},I=(S,N)=>S.filter(R=>!(R.archived!==N||!s.showCompleted&&R.completed||s.priorityFilter!=="all"&&R.priority!==s.priorityFilter||s.searchText&&!R.text.toLowerCase().includes(s.searchText.toLowerCase())&&!R.notes.some(V=>V.text.toLowerCase().includes(s.searchText.toLowerCase())))).sort((R,V)=>k(V.priority)-k(R.priority)),O=t.reduce((S,N)=>S+N.todos.filter(R=>R.archived).length,0);return E.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[E.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"ToDo's"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>h(!c),className:"p-1.5 sm:p-2 bg-purple-500 rounded hover:bg-purple-600 transition-colors relative",title:"Filter Tasks",children:[E.jsx(GU,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(s.showCompleted===!1||s.priorityFilter!=="all"||s.searchText)&&E.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full w-2 h-2"})]}),E.jsx("button",{onClick:g,className:"p-1.5 sm:p-2 bg-blue-500 rounded hover:bg-blue-600 transition-colors",title:"Add New Group",children:E.jsx(kr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),!s.viewArchived&&O>0&&E.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 mb-4 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(oa,{className:"w-5 h-5 text-yellow-500"}),E.jsxs("span",{className:"text-gray-300",children:["You have ",O," archived task",O!==1?"s":""]})]}),E.jsx("button",{onClick:()=>l({...s,viewArchived:!0}),className:"px-3 py-1 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-200 rounded text-sm transition-colors",children:"View Archive"})]}),c&&E.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6",children:[E.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Filter Options"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm mb-1",children:"Search"}),E.jsx("input",{type:"text",value:s.searchText,onChange:S=>l({...s,searchText:S.target.value}),placeholder:"Search tasks and notes...",className:"w-full bg-gray-700 p-2 rounded text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm mb-1",children:"Show Tasks"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>l({...s,showCompleted:!0}),className:`px-3 py-1 rounded text-sm ${s.showCompleted?"bg-blue-500":"bg-gray-700"}`,children:"All"}),E.jsx("button",{onClick:()=>l({...s,showCompleted:!1}),className:`px-3 py-1 rounded text-sm ${s.showCompleted?"bg-gray-700":"bg-blue-500"}`,children:"Active Only"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm mb-1",children:"Priority"}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsx("button",{onClick:()=>l({...s,priorityFilter:"all"}),className:`px-3 py-1 rounded text-sm ${s.priorityFilter==="all"?"bg-blue-500":"bg-gray-700"}`,children:"All"}),E.jsxs("button",{onClick:()=>l({...s,priorityFilter:"high"}),className:`px-3 py-1 rounded text-sm flex items-center gap-1 ${s.priorityFilter==="high"?"bg-blue-500":"bg-gray-700"}`,children:[E.jsx(Id,{className:"w-3 h-3 text-red-500"})," High"]}),E.jsxs("button",{onClick:()=>l({...s,priorityFilter:"medium"}),className:`px-3 py-1 rounded text-sm flex items-center gap-1 ${s.priorityFilter==="medium"?"bg-blue-500":"bg-gray-700"}`,children:[E.jsx(Pd,{className:"w-3 h-3 text-yellow-500"})," Medium"]}),E.jsxs("button",{onClick:()=>l({...s,priorityFilter:"low"}),className:`px-3 py-1 rounded text-sm flex items-center gap-1 ${s.priorityFilter==="low"?"bg-blue-500":"bg-gray-700"}`,children:[E.jsx(Ad,{className:"w-3 h-3 text-green-500"})," Low"]}),E.jsx("button",{onClick:()=>l({...s,priorityFilter:"none"}),className:`px-3 py-1 rounded text-sm ${s.priorityFilter==="none"?"bg-blue-500":"bg-gray-700"}`,children:"No Priority"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm mb-1",children:"Archive View"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>l({...s,viewArchived:!1}),className:`px-3 py-1 rounded text-sm ${s.viewArchived?"bg-gray-700":"bg-blue-500"}`,children:"Active Tasks"}),E.jsx("button",{onClick:()=>l({...s,viewArchived:!0}),className:`px-3 py-1 rounded text-sm ${s.viewArchived?"bg-blue-500":"bg-gray-700"}`,children:"Archived Tasks"})]})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx("button",{onClick:()=>l({showCompleted:!0,priorityFilter:"all",searchText:"",viewArchived:!1}),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Reset Filters"})})]})]}),s.viewArchived&&E.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-3 mb-4 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(oa,{className:"w-5 h-5 text-yellow-500"}),E.jsx("span",{className:"text-yellow-100 font-medium",children:"Showing archived tasks"})]}),E.jsx("button",{onClick:()=>l({...s,viewArchived:!1}),className:"px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-sm",children:"Return to active tasks"})]}),s.viewArchived&&t.every(S=>S.todos.filter(N=>N.archived).length===0)&&E.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center mb-4",children:[E.jsx(oa,{className:"w-10 h-10 text-gray-500 mx-auto mb-3"}),E.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-1",children:"No archived tasks"}),E.jsx("p",{className:"text-gray-500",children:"You don't have any archived tasks yet."})]}),E.jsx("div",{className:"grid gap-4 sm:gap-6",children:t.map(S=>E.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 sm:p-4 relative",children:[E.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[E.jsx("h3",{className:"text-lg sm:text-xl font-semibold break-words",children:S.title}),t.length>1&&E.jsx("button",{onClick:()=>y(S.id),className:"text-red-500 hover:bg-red-500/20 p-1.5 rounded transition-colors",title:"Delete Group",children:E.jsx(ij,{className:"w-4 h-4"})})]}),!s.viewArchived&&E.jsx("div",{className:"space-y-2 sm:space-y-3 mb-4",children:E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex gap-2 flex-wrap",children:[E.jsx("button",{onClick:()=>o({...i,[S.id]:"high"}),className:`p-1.5 rounded-full ${i[S.id]==="high"?"bg-red-500/50 ring-2 ring-red-500":"bg-gray-700 hover:bg-gray-600"}`,title:"High Priority",children:E.jsx(Id,{className:"w-5 h-5 text-red-500"})}),E.jsx("button",{onClick:()=>o({...i,[S.id]:"medium"}),className:`p-1.5 rounded-full ${i[S.id]==="medium"?"bg-yellow-500/50 ring-2 ring-yellow-500":"bg-gray-700 hover:bg-gray-600"}`,title:"Medium Priority",children:E.jsx(Pd,{className:"w-5 h-5 text-yellow-500"})}),E.jsx("button",{onClick:()=>o({...i,[S.id]:"low"}),className:`p-1.5 rounded-full ${i[S.id]==="low"?"bg-green-500/50 ring-2 ring-green-500":"bg-gray-700 hover:bg-gray-600"}`,title:"Low Priority",children:E.jsx(Ad,{className:"w-5 h-5 text-green-500"})}),E.jsx("button",{onClick:()=>o({...i,[S.id]:"none"}),className:`p-1.5 rounded-full ${i[S.id]==="none"?"bg-blue-500/50 ring-2 ring-blue-500":"bg-gray-700 hover:bg-gray-600"}`,title:"No Priority",children:E.jsx(mr,{className:"w-5 h-5 text-gray-400"})})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",placeholder:"Add new task...",value:n[S.id]||"",onChange:N=>r({...n,[S.id]:N.target.value}),className:`flex-1 bg-gray-700 p-2 rounded text-sm sm:text-base placeholder:text-gray-400 border-2 ${C(i[S.id]||"none").borderColor}`,onKeyDown:N=>{var R;N.key==="Enter"&&((R=n[S.id])!=null&&R.trim())&&w(S.id)}}),E.jsx("button",{onClick:()=>w(S.id),className:"p-2 bg-blue-500 rounded hover:bg-blue-600 transition-colors",children:E.jsx(kr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),E.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[I(S.todos,s.viewArchived).map(N=>{const R=C(N.priority);return E.jsxs("div",{className:`bg-gray-700/50 p-3 sm:p-4 rounded-lg space-y-2 ${R.color}`,children:[E.jsxs("div",{className:"flex items-start justify-between gap-2",children:[E.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[E.jsx("input",{type:"checkbox",checked:N.completed,onChange:()=>A(S.id,N.id),className:"w-4 h-4 rounded shrink-0"}),E.jsx("span",{className:`${N.completed?"line-through text-gray-400":""} break-words text-sm sm:text-base`,children:N.text})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsxs("div",{className:"flex border border-gray-600 rounded overflow-hidden",children:[E.jsx("button",{onClick:()=>F(S.id,N.id,"high"),className:`p-1 ${N.priority==="high"?"bg-red-500/30":"hover:bg-gray-600"}`,title:"High Priority",children:E.jsx(Id,{className:`w-3 h-3 ${N.priority==="high"?"text-red-400":"text-red-500"}`})}),E.jsx("button",{onClick:()=>F(S.id,N.id,"medium"),className:`p-1 ${N.priority==="medium"?"bg-yellow-500/30":"hover:bg-gray-600"}`,title:"Medium Priority",children:E.jsx(Pd,{className:`w-3 h-3 ${N.priority==="medium"?"text-yellow-400":"text-yellow-500"}`})}),E.jsx("button",{onClick:()=>F(S.id,N.id,"low"),className:`p-1 ${N.priority==="low"?"bg-green-500/30":"hover:bg-gray-600"}`,title:"Low Priority",children:E.jsx(Ad,{className:`w-3 h-3 ${N.priority==="low"?"text-green-400":"text-green-500"}`})}),E.jsx("button",{onClick:()=>F(S.id,N.id,"none"),className:`p-1 ${N.priority==="none"?"bg-gray-500/30":"hover:bg-gray-600"}`,title:"No Priority",children:E.jsx(mr,{className:"w-3 h-3 text-gray-400"})})]}),N.archived?E.jsx("button",{onClick:()=>$(S.id,N.id),className:"p-1 hover:bg-gray-600 rounded shrink-0",title:"Restore Task",children:E.jsx(UU,{className:"w-4 h-4 text-blue-400"})}):E.jsx("button",{onClick:()=>D(S.id,N.id),className:"p-1 hover:bg-gray-600 rounded shrink-0",title:"Archive Task",children:E.jsx(oa,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>x(S.id,N.id),className:"p-1 hover:bg-gray-600 rounded shrink-0",title:"Delete Task",children:E.jsx(mr,{className:"w-4 h-4"})})]})]}),E.jsx("input",{type:"text",placeholder:"Add a note and press Enter...",className:"w-full bg-gray-800 p-2 rounded text-sm placeholder:text-gray-400",onKeyUp:V=>{V.key==="Enter"&&V.target.value.trim()&&(T(S.id,N.id,V.target.value),V.target.value="")}}),E.jsx("div",{className:"space-y-2 ml-4 sm:ml-6",children:N.notes.map(V=>E.jsxs("div",{className:"text-sm text-gray-400 flex justify-between items-start gap-2",children:[E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"break-words",children:V.text}),E.jsx("span",{className:"text-xs opacity-75 block sm:inline sm:ml-2",children:new Date(V.timestamp).toLocaleTimeString()})]}),E.jsx("button",{onClick:()=>U(S.id,N.id,V.id),className:"p-1 hover:bg-gray-600 rounded shrink-0",children:E.jsx(mr,{className:"w-3 h-3"})})]},V.id))})]},N.id)}),I(S.todos,s.viewArchived).length===0&&E.jsx("div",{className:"text-center py-6 text-gray-500",children:S.todos.filter(N=>N.archived===s.viewArchived).length===0?s.viewArchived?"No archived tasks in this group.":"No active tasks yet. Add your first task above!":"No tasks match your current filters."})]})]},S.id))})]})};function X2(t){return parseFloat(t.replace(",","."))}function Doe(t,e="progress.json"){const n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(r),i.download=e,i.click()}function Moe(t){const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=n=>{var i;const r=(i=n.target.files)==null?void 0:i[0];if(r){const o=new FileReader;o.onload=s=>{var l;try{const c=JSON.parse((l=s.target)==null?void 0:l.result);t(c)}catch(c){console.error("Import error",c),alert("Could not import file")}},o.readAsText(r)}},e.click()}const Loe=()=>{const t=["Salary Person 1","Salary Person 2","Side Job","Other Income"],e=["Rent/Mortgage","Utilities","Groceries","Transportation","Insurance"],[n,r]=ie.useState([]),[i,o]=ie.useState([]),[s,l]=ie.useState({message:"",type:"success"}),c=(C,I)=>{l({message:C,type:I}),setTimeout(()=>l({message:"",type:"success"}),3e3)};ie.useEffect(()=>{(async()=>{try{const I=wa(vt(je,"incomes"),ba("userId","==",qe.currentUser?qe.currentUser.uid:""));let S=(await Nr(I)).docs.map(N=>({id:N.id,...N.data()}));if(S.length===0){const N=t.map(R=>({category:R,amount:"0",purpose:"",userId:qe.currentUser?qe.currentUser.uid:""}));for(const R of N){const V=await $n(vt(je,"incomes"),R);S.push({id:V.id,...R})}}r(S)}catch(I){console.error("Error loading incomes:",I)}try{const I=wa(vt(je,"expenses"),ba("userId","==",qe.currentUser?qe.currentUser.uid:""));let S=(await Nr(I)).docs.map(N=>({id:N.id,...N.data()}));if(S.length===0){const N=e.map(R=>({category:R,amount:"0",purpose:"",userId:qe.currentUser?qe.currentUser.uid:""}));for(const R of N){const V=await $n(vt(je,"expenses"),R);S.push({id:V.id,...R})}}o(S)}catch(I){console.error("Error loading expenses:",I)}})()},[]);const h=()=>{const C=n.reduce((S,N)=>S+X2(N.amount||"0"),0),I=i.reduce((S,N)=>S+X2(N.amount||"0"),0),O=C-I;return{totalIncome:C,totalExpenses:I,balance:O}},p=async(C,I,O)=>{try{await Lt(ot(je,"incomes",C),{[I]:O}),r(S=>S.map(N=>N.id===C?{...N,[I]:O}:N))}catch(S){console.error("Error updating income entry:",S)}},g=async(C,I,O)=>{try{await Lt(ot(je,"expenses",C),{[I]:O}),o(S=>S.map(N=>N.id===C?{...N,[I]:O}:N))}catch(S){console.error("Error updating expense entry:",S)}},y=async()=>{try{const C={category:"New Income",amount:"0",purpose:"",userId:qe.currentUser?qe.currentUser.uid:""},I=await $n(vt(je,"incomes"),C);r(O=>[...O,{id:I.id,...C}])}catch(C){console.error("Error adding income row:",C)}},w=async()=>{try{const C={category:"New Expense",amount:"0",purpose:"",userId:qe.currentUser?qe.currentUser.uid:""},I=await $n(vt(je,"expenses"),C);o(O=>[...O,{id:I.id,...C}])}catch(C){console.error("Error adding expense row:",C)}},A=async C=>{try{await oo(ot(je,"incomes",C)),r(I=>I.filter(O=>O.id!==C))}catch(I){console.error("Error deleting income row:",I)}},T=async C=>{try{await oo(ot(je,"expenses",C)),o(I=>I.filter(O=>O.id!==C))}catch(I){console.error("Error deleting expense row:",I)}},{totalIncome:x,totalExpenses:D,balance:$}=h(),U=async()=>{try{const C=await Nr(vt(je,"incomes"));for(const V of C.docs)await oo(ot(je,"incomes",V.id));const I=await Nr(vt(je,"expenses"));for(const V of I.docs)await oo(ot(je,"expenses",V.id));c("Data reset.","success");const O=t.map(V=>({category:V,amount:"0",purpose:"",userId:qe.currentUser?qe.currentUser.uid:""})),S=[];for(const V of O){const j=await $n(vt(je,"incomes"),V);S.push({id:j.id,...V})}r(S);const N=e.map(V=>({category:V,amount:"0",purpose:"",userId:qe.currentUser?qe.currentUser.uid:""})),R=[];for(const V of N){const j=await $n(vt(je,"expenses"),V);R.push({id:j.id,...V})}o(R)}catch(C){console.error("Error resetting data:",C)}},F=()=>{Doe({incomes:n,expenses:i},"household_budget.json"),c("Data exported successfully.","success")},k=()=>{Moe(C=>{C.incomes&&C.expenses?(r(C.incomes),o(C.expenses),c("Data imported successfully.","success")):c("Invalid data format.","error")})};return E.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 bg-gray-900",children:[E.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6",children:"Household Budget Calculator"}),s.message&&E.jsx("div",{className:`p-3 sm:p-4 rounded mb-4 ${s.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:s.message}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 sm:mb-6 space-y-2 sm:space-y-0 sm:space-x-2",children:[E.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset all data?")&&U()},className:"bg-gray-500 text-white px-3 py-2 sm:px-4 sm:py-2 rounded hover:bg-gray-600 text-sm sm:text-base",children:"Reset"}),E.jsx("button",{onClick:F,className:"bg-blue-500 text-white px-3 py-2 sm:px-4 sm:py-2 rounded hover:bg-blue-600 text-sm sm:text-base",children:"Export"}),E.jsx("button",{onClick:k,className:"bg-blue-500 text-white px-3 py-2 sm:px-4 sm:py-2 rounded hover:bg-blue-600 text-sm sm:text-base",children:"Import"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-2 sm:mb-4",children:"Income"}),E.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 sm:p-4",children:[n.map(C=>E.jsxs("div",{className:"mb-2 sm:mb-4 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[E.jsx("input",{type:"text",value:C.category,onChange:I=>p(C.id,"category",I.target.value),className:"w-full sm:w-1/3 p-2 bg-gray-700 text-white rounded text-sm",placeholder:"Category"}),E.jsx("input",{type:"text",value:C.amount,onChange:I=>p(C.id,"amount",I.target.value),className:"w-full sm:w-1/3 p-2 bg-gray-700 text-white rounded text-sm",placeholder:"Amount"}),E.jsx("input",{type:"text",value:C.purpose,onChange:I=>p(C.id,"purpose",I.target.value),className:"w-full sm:w-1/3 p-2 bg-gray-700 text-white rounded text-sm",placeholder:"Purpose"}),E.jsx("button",{onClick:()=>A(C.id),className:"bg-red-500 text-white px-3 py-2 rounded self-start",children:"X"})]},C.id)),E.jsx("button",{onClick:y,className:"bg-green-500 text-white px-3 py-2 rounded hover:bg-green-600 text-sm",children:"+ Add Income"})]})]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-2 sm:mb-4",children:"Expenses"}),E.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 sm:p-4",children:[i.map(C=>E.jsxs("div",{className:"mb-2 sm:mb-4 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[E.jsx("input",{type:"text",value:C.category,onChange:I=>g(C.id,"category",I.target.value),className:"w-full sm:w-1/3 p-2 bg-gray-700 text-white rounded text-sm",placeholder:"Category"}),E.jsx("input",{type:"text",value:C.amount,onChange:I=>g(C.id,"amount",I.target.value),className:"w-full sm:w-1/3 p-2 bg-gray-700 text-white rounded text-sm",placeholder:"Amount"}),E.jsx("input",{type:"text",value:C.purpose,onChange:I=>g(C.id,"purpose",I.target.value),className:"w-full sm:w-1/3 p-2 bg-gray-700 text-white rounded text-sm",placeholder:"Purpose"}),E.jsx("button",{onClick:()=>T(C.id),className:"bg-red-500 text-white px-3 py-2 rounded self-start",children:"X"})]},C.id)),E.jsx("button",{onClick:w,className:"bg-green-500 text-white px-3 py-2 rounded hover:bg-green-600 text-sm",children:"+ Add Expense"})]})]})]}),E.jsxs("div",{className:"mt-4 sm:mt-6 bg-gray-800 rounded-lg p-3 sm:p-4",children:[E.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-2 sm:mb-4",children:"Summary"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 text-white",children:[E.jsxs("div",{className:"bg-gray-700 p-3 sm:p-4 rounded",children:[E.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Total Income"}),E.jsxs("p",{className:"text-xl sm:text-2xl font-bold",children:[x.toFixed(2)," $"]})]}),E.jsxs("div",{className:"bg-gray-700 p-3 sm:p-4 rounded",children:[E.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Total Expenses"}),E.jsxs("p",{className:"text-xl sm:text-2xl font-bold",children:[D.toFixed(2)," $"]})]}),E.jsxs("div",{className:"bg-gray-700 p-3 sm:p-4 rounded",children:[E.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Balance"}),E.jsxs("p",{className:`text-xl sm:text-2xl font-bold ${$>0?"text-green-400":$<0?"text-red-400":"text-white"}`,children:[$.toFixed(2)," $"]})]})]})]})]})},$oe=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState([]),[i,o]=ie.useState(""),[s,l]=ie.useState("all"),[c,h]=ie.useState("date"),[p,g]=ie.useState(!1),[y,w]=ie.useState(null),[A,T]=ie.useState(""),[x,D]=ie.useState(""),[$,U]=ie.useState("mittel"),[F,k]=ie.useState(""),[C,I]=ie.useState(""),[O,S]=ie.useState(""),[N,R]=ie.useState(""),[V,j]=ie.useState(void 0);ie.useEffect(()=>{(async()=>{var _e,xe,Ie,le,we,Ne,he;try{const Ge=wa(vt(je,"wishlist"),ba("userId","==",((_e=qe.currentUser)==null?void 0:_e.uid)||"")),Ye=(await Nr(Ge)).docs.map(Be=>({id:Be.id,...Be.data()}));console.log("Loaded wishlist items:",Ye),e(Ye)}catch(Ge){console.error("Error loading wishlist items:",Ge)}try{const Ge=wa(vt(je,"wishlist_categories"),ba("userId","==",((xe=qe.currentUser)==null?void 0:xe.uid)||""));let Ye=(await Nr(Ge)).docs.map(Be=>({id:Be.id,...Be.data()}));if(Ye.length===0){Ye=[{id:"tech",name:"Technology",userId:((Ie=qe.currentUser)==null?void 0:Ie.uid)||""},{id:"kleidung",name:"Clothing",userId:((le=qe.currentUser)==null?void 0:le.uid)||""},{id:"hobby",name:"Hobby",userId:((we=qe.currentUser)==null?void 0:we.uid)||""},{id:"haushalt",name:"Household",userId:((Ne=qe.currentUser)==null?void 0:Ne.uid)||""},{id:"sonstiges",name:"Miscellaneous",userId:((he=qe.currentUser)==null?void 0:he.uid)||""}];for(const Be of Ye)try{await $n(vt(je,"wishlist_categories"),Be)}catch(bt){console.error("Error adding default category:",bt)}}console.log("Loaded wishlist categories:",Ye),r(Ye)}catch(Ge){console.error("Error loading wishlist categories:",Ge)}})()},[]),ie.useEffect(()=>{!O&&n.length>0&&S(n[0].id)},[n,O]);const M=async()=>{var _e;if(!i.trim())return;const ae=i.toLowerCase().replace(/\s+/g,"-");if(!n.find(xe=>xe.id===ae)){const xe={id:ae,name:i,userId:((_e=qe.currentUser)==null?void 0:_e.uid)||""};try{await $n(vt(je,"wishlist_categories"),xe),r(Ie=>[...Ie,xe])}catch(Ie){console.error("Error adding new category:",Ie)}}o("")},W=()=>{var ae;T(""),D(""),U("mittel"),k(""),I(""),S(((ae=n[0])==null?void 0:ae.id)||""),R(""),j(void 0),g(!1),w(null)},G=ae=>{var Ie;const _e=(Ie=ae.target.files)==null?void 0:Ie[0];if(!_e)return;const xe=new FileReader;xe.onload=()=>{xe.result&&j(xe.result)},xe.readAsDataURL(_e)},J=async ae=>{var xe,Ie;ae.preventDefault();const _e={name:A,description:x,priority:$,price:F,url:C,category:O,targetDate:N,createdAt:y&&((xe=t.find(le=>le.id===y))==null?void 0:xe.createdAt)||Date.now(),image:V,userId:((Ie=qe.currentUser)==null?void 0:Ie.uid)||""};console.log("handleSubmit newItemData:",_e);try{if(y)await Lt(ot(je,"wishlist",y),_e),e(le=>le.map(we=>we.id===y?{id:y,..._e}:we));else{const le=await $n(vt(je,"wishlist"),_e);e(we=>[...we,{id:le.id,..._e}])}}catch(le){console.error("Error saving wishlist item:",le)}W()},B=ae=>{w(ae.id),T(ae.name),D(ae.description),U(ae.priority),k(ae.price),I(ae.url),S(ae.category),R(ae.targetDate),j(ae.image),g(!0)},K=async ae=>{try{await oo(ot(je,"wishlist",ae)),e(_e=>_e.filter(xe=>xe.id!==ae))}catch(_e){console.error("Error deleting wishlist item:",_e)}},Z=ae=>{var Ie;const _e=(Ie=ae.target.files)==null?void 0:Ie[0];if(!_e)return;const xe=new FileReader;xe.onload=async()=>{var le,we;try{const Ne=JSON.parse(xe.result);if(!Array.isArray(Ne.items)||!Array.isArray(Ne.categories))throw new Error("Invalid JSON format");for(const Be of Ne.categories){Be.userId=((le=qe.currentUser)==null?void 0:le.uid)||"";try{await $n(vt(je,"wishlist_categories"),Be)}catch(bt){console.error("Error importing category:",bt)}}for(const Be of Ne.items){Be.userId=((we=qe.currentUser)==null?void 0:we.uid)||"";try{await $n(vt(je,"wishlist"),Be)}catch(bt){console.error("Error importing wishlist item:",bt)}}const Ge=(await Nr(vt(je,"wishlist"))).docs.map(Be=>({id:Be.id,...Be.data()}));e(Ge);const Ye=(await Nr(vt(je,"wishlist_categories"))).docs.map(Be=>({id:Be.id,...Be.data()}));r(Ye),alert("Import successful!")}catch(Ne){alert("Error during import!"),console.error(Ne)}},xe.readAsText(_e)},z=()=>{try{const _e=JSON.stringify({items:t,categories:n},null,2),xe=new Blob([_e],{type:"application/json"}),Ie=URL.createObjectURL(xe),le=document.createElement("a");le.href=Ie,le.download="wishlist_backup.json",le.click(),URL.revokeObjectURL(Ie)}catch(ae){alert("Error during export"),console.error(ae)}},de=[...t.filter(ae=>s==="all"||ae.category===s)].sort((ae,_e)=>{if(c==="date")return _e.createdAt-ae.createdAt;if(c==="price")return(parseFloat(_e.price)||0)-(parseFloat(ae.price)||0);if(c==="priority"){const xe={hoch:3,mittel:2,niedrig:1};return xe[_e.priority]-xe[ae.priority]}return 0}),Ce=ae=>{switch(ae){case"hoch":return"bg-red-500";case"mittel":return"bg-yellow-500";case"niedrig":return"bg-green-500";default:return"bg-gray-500"}};return E.jsxs("div",{className:"space-y-6 p-4",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsx("h2",{className:"text-2xl font-bold",children:"Wishlist"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("button",{onClick:z,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[E.jsx(nj,{size:18})," Export"]}),E.jsxs("label",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded flex items-center gap-2 cursor-pointer",children:[E.jsx(JU,{size:18})," Import",E.jsx("input",{type:"file",accept:".json",onChange:Z,className:"hidden"})]})]})]}),E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("select",{value:s,onChange:ae=>l(ae.target.value),className:"bg-gray-700 text-white px-3 py-2 rounded",children:[E.jsx("option",{value:"all",children:"All Categories"}),n.map(ae=>E.jsx("option",{value:ae.id,children:ae.name},ae.id))]}),E.jsxs("select",{value:c,onChange:ae=>h(ae.target.value),className:"bg-gray-700 text-white px-3 py-2 rounded",children:[E.jsx("option",{value:"date",children:"By Date"}),E.jsx("option",{value:"price",children:"By Price"}),E.jsx("option",{value:"priority",children:"By Priority"})]})]}),E.jsx("button",{onClick:()=>g(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"New Wish"})]}),p&&E.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:y?"Edit Wish":"Add New Wish"}),E.jsx("button",{onClick:W,className:"text-gray-400 hover:text-white",children:E.jsx(mr,{size:20})})]}),E.jsxs("form",{onSubmit:J,className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name*"}),E.jsx("input",{type:"text",value:A,onChange:ae=>T(ae.target.value),required:!0,className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),E.jsx("select",{value:O,onChange:ae=>S(ae.target.value),className:"w-full bg-gray-800 text-white px-3 py-2 rounded",children:n.map(ae=>E.jsx("option",{value:ae.id,children:ae.name},ae.id))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price ()"}),E.jsx("input",{type:"text",value:F,onChange:ae=>k(ae.target.value),placeholder:"0.00",className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),E.jsxs("select",{value:$,onChange:ae=>U(ae.target.value),className:"w-full bg-gray-800 text-white px-3 py-2 rounded",children:[E.jsx("option",{value:"niedrig",children:"Low"}),E.jsx("option",{value:"mittel",children:"Medium"}),E.jsx("option",{value:"hoch",children:"High"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL"}),E.jsx("input",{type:"url",value:C,onChange:ae=>I(ae.target.value),placeholder:"https://",className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Date"}),E.jsx("input",{type:"date",value:N,onChange:ae=>R(ae.target.value),className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Upload Image"}),E.jsx("input",{type:"file",accept:"image/*",onChange:G,className:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-gray-600 file:text-gray-200 hover:file:bg-gray-500 mt-1"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),E.jsx("textarea",{value:x,onChange:ae=>D(ae.target.value),rows:3,className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{type:"button",onClick:W,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),E.jsxs("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-1",children:[E.jsx(XU,{size:18})," Save"]})]})]})]}),E.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Manage Categories"}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.map(ae=>E.jsx("span",{className:"bg-gray-600 px-3 py-1 rounded",children:ae.name},ae.id))}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:i,onChange:ae=>o(ae.target.value),className:"flex-1 bg-gray-800 text-white px-3 py-2 rounded",placeholder:"New Category..."}),E.jsx("button",{onClick:M,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:de.length===0?E.jsx("div",{className:"col-span-full text-center py-8 bg-gray-700 rounded-lg",children:E.jsx("p",{className:"text-gray-400",children:"No wishes found in this category."})}):de.map(ae=>{var _e;return E.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col h-full",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h3",{className:"text-lg font-semibold",children:ae.name}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>B(ae),className:"text-blue-400 hover:text-blue-300 p-1",children:E.jsx(QU,{size:18})}),E.jsx("button",{onClick:()=>K(ae.id),className:"text-red-400 hover:text-red-300 p-1",children:E.jsx(ij,{size:18})})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[E.jsx("span",{className:`text-xs px-2 py-1 rounded ${Ce(ae.priority)}`,children:ae.priority}),n.find(xe=>xe.id===ae.category)&&E.jsx("span",{className:"text-xs bg-gray-600 px-2 py-1 rounded",children:(_e=n.find(xe=>xe.id===ae.category))==null?void 0:_e.name})]}),ae.image&&E.jsx("div",{className:"mb-2",children:E.jsx("img",{src:ae.image,alt:"Wish Item",className:"max-w-full h-auto rounded"})}),ae.description&&E.jsx("p",{className:"text-gray-300 text-sm mb-3 flex-grow",children:ae.description}),E.jsxs("div",{className:"mt-auto space-y-1 pt-2 border-t border-gray-600",children:[ae.price&&E.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[E.jsx(HU,{size:14,className:"text-green-400"}),E.jsxs("span",{children:[ae.price," "]})]}),ae.targetDate&&E.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[E.jsx(BU,{size:14,className:"text-blue-400"}),E.jsx("span",{children:new Date(ae.targetDate).toLocaleDateString()})]}),ae.url&&E.jsxs("a",{href:ae.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-400 hover:text-blue-300",children:[E.jsx(WU,{size:14})," Link"]})]})]},ae.id)})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="firebasestorage.googleapis.com",sV="storageBucket",Voe=2*60*1e3,Uoe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends Vr{constructor(e,n,r=0){super(mb(e),`Firebase Storage: ${n} (${mb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vt||(Vt={}));function mb(t){return"storage/"+t}function s1(){const t="An unknown error occurred, please check the error payload for server response.";return new Ut(Vt.UNKNOWN,t)}function Foe(t){return new Ut(Vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qoe(t){return new Ut(Vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Boe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(Vt.UNAUTHENTICATED,t)}function zoe(){return new Ut(Vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Hoe(t){return new Ut(Vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Woe(){return new Ut(Vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Goe(){return new Ut(Vt.CANCELED,"User canceled the upload/download.")}function Koe(t){return new Ut(Vt.INVALID_URL,"Invalid URL '"+t+"'.")}function Xoe(t){return new Ut(Vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Qoe(){return new Ut(Vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sV+"' property when initializing the app?")}function Yoe(){return new Ut(Vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Joe(){return new Ut(Vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Zoe(t){return new Ut(Vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function oE(t){return new Ut(Vt.INVALID_ARGUMENT,t)}function uV(){return new Ut(Vt.APP_DELETED,"The Firebase app was deleted.")}function eae(t){return new Ut(Vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jc(t,e){return new Ut(Vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Cc(t){throw new Ut(Vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw Xoe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),A={bucket:1,path:3},T=n===aV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",D=new RegExp(`^https?://${T}/${i}/${x}`,"i"),U=[{regex:l,indices:c,postModify:o},{regex:w,indices:A,postModify:h},{regex:D,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<U.length;F++){const k=U[F],C=k.regex.exec(e);if(C){const I=C[k.indices.bucket];let O=C[k.indices.path];O||(O=""),r=new yr(I,O),k.postModify(r);break}}if(r==null)throw Koe(e);return r}}class tae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nae(t,e,n){let r=1,i=null,o=null,s=!1,l=0;function c(){return l===2}let h=!1;function p(...x){h||(h=!0,e.apply(null,x))}function g(x){i=setTimeout(()=>{i=null,t(w,c())},x)}function y(){o&&clearTimeout(o)}function w(x,...D){if(h){y();return}if(x){y(),p.call(null,x,...D);return}if(c()||s){y(),p.call(null,x,...D);return}r<64&&(r*=2);let U;l===1?(l=2,U=0):U=(r+Math.random())*1e3,g(U)}let A=!1;function T(x){A||(A=!0,y(),!h&&(i!==null?(x||(l=2),clearTimeout(i),g(0)):x||(l=1)))}return g(0),o=setTimeout(()=>{s=!0,T(!0)},n),T}function rae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iae(t){return t!==void 0}function oae(t){return typeof t=="object"&&!Array.isArray(t)}function u1(t){return typeof t=="string"||t instanceof String}function Q2(t){return l1()&&t instanceof Blob}function l1(){return typeof Blob<"u"}function Y2(t,e,n,r){if(r<e)throw oE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw oE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function lV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var bs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bs||(bs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aae(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sae{constructor(e,n,r,i,o,s,l,c,h,p,g,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,A)=>{this.resolve_=w,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===bs.NO_ERROR,c=o.getStatus();if(!l||aae(c,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===bs.ABORT;r(!1,new Qd(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Qd(h,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());iae(c)?o(c):o()}catch(c){s(c)}else if(l!==null){const c=s1();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?uV():Goe();s(c)}else{const c=Woe();s(c)}};this.canceled_?n(!1,new Qd(!1,null,!0)):this.backoffId_=nae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hae(t,e,n,r,i,o,s=!0){const l=lV(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return cae(h,e),uae(h,n),lae(h,o),fae(h,r),new sae(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pae(...t){const e=dae();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(l1())return new Blob(t);throw new Ut(Vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gae(t){if(typeof atob>"u")throw Zoe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gb{constructor(e,n){this.data=e,this.contentType=n||null}}function yae(t,e){switch(t){case Si.RAW:return new gb(cV(e));case Si.BASE64:case Si.BASE64URL:return new gb(fV(t,e));case Si.DATA_URL:return new gb(_ae(e),wae(e))}throw s1()}function cV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vae(t){let e;try{e=decodeURIComponent(t)}catch{throw Jc(Si.DATA_URL,"Malformed data URL.")}return cV(e)}function fV(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Jc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Jc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gae(e)}catch(i){throw i.message.includes("polyfill")?i:Jc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jc(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bae(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _ae(t){const e=new hV(t);return e.base64?fV(Si.BASE64,e.rest):vae(e.rest)}function wae(t){return new hV(t).contentType}function bae(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){let r=0,i="";Q2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Q2(this.data_)){const r=this.data_,i=mae(r,e,n);return i===null?null:new ia(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ia(r,!0)}}static getBlob(...e){if(l1()){const n=e.map(r=>r instanceof ia?r.data_:r);return new ia(pae.apply(null,n))}else{const n=e.map(s=>u1(s)?yae(Si.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[o++]=s[l]}),new ia(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){let e;try{e=JSON.parse(t)}catch{return null}return oae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Eae(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(t,e){return e}class Mn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Tae}}let Yd=null;function Sae(t){return!u1(t)||t.length<2?t:pV(t)}function mV(){if(Yd)return Yd;const t=[];t.push(new Mn("bucket")),t.push(new Mn("generation")),t.push(new Mn("metageneration")),t.push(new Mn("name","fullPath",!0));function e(o,s){return Sae(s)}const n=new Mn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Mn("size");return i.xform=r,t.push(i),t.push(new Mn("timeCreated")),t.push(new Mn("updated")),t.push(new Mn("md5Hash",null,!0)),t.push(new Mn("cacheControl",null,!0)),t.push(new Mn("contentDisposition",null,!0)),t.push(new Mn("contentEncoding",null,!0)),t.push(new Mn("contentLanguage",null,!0)),t.push(new Mn("contentType",null,!0)),t.push(new Mn("metadata","customMetadata",!0)),Yd=t,Yd}function Aae(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new yr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Iae(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Aae(r,t),r}function gV(t,e,n){const r=dV(e);return r===null?null:Iae(t,r,n)}function Pae(t,e,n,r){const i=dV(e);if(i===null||!u1(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(h=>{const p=t.bucket,g=t.fullPath,y="/b/"+s(p)+"/o/"+s(g),w=c1(y,n,r),A=lV({alt:"media",token:h});return w+A})[0]}function Oae(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class yV{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){if(!t)throw s1()}function Cae(t,e){function n(r,i){const o=gV(t,i,e);return vV(o!==null),o}return n}function Rae(t,e){function n(r,i){const o=gV(t,i,e);return vV(o!==null),Pae(o,i,t.host,t._protocol)}return n}function _V(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zoe():i=Boe():n.getStatus()===402?i=qoe(t.bucket):n.getStatus()===403?i=Hoe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function kae(t){const e=_V(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Foe(t.path)),o.serverResponse=i.serverResponse,o}return n}function Nae(t,e,n){const r=e.fullServerUrl(),i=c1(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,l=new yV(i,o,Rae(t,n),s);return l.errorHandler=kae(e),l}function jae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Dae(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jae(null,e)),r}function Mae(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let U="";for(let F=0;F<2;F++)U=U+Math.random().toString().slice(2);return U}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const h=Dae(e,r,i),p=Oae(h,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+c+"--",w=ia.getBlob(g,r,y);if(w===null)throw Yoe();const A={name:h.fullPath},T=c1(o,t.host,t._protocol),x="POST",D=t.maxUploadRetryTime,$=new yV(T,x,Cae(t,n),D);return $.urlParams=A,$.headers=s,$.body=w.uploadData(),$.errorHandler=_V(e),$}class Lae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Cc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $ae extends Lae{initXhr(){this.xhr_.responseType="text"}}function wV(){return new $ae}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cs(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pV(this._location.path)}get storage(){return this._service}get parent(){const e=xae(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new Cs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw eae(e)}}function Vae(t,e,n){t._throwIfRoot("uploadBytes");const r=Mae(t.storage,t._location,mV(),new ia(e,!0),n);return t.storage.makeRequestWithTokens(r,wV).then(i=>({metadata:i,ref:t}))}function Uae(t){t._throwIfRoot("getDownloadURL");const e=Nae(t.storage,t._location,mV());return t.storage.makeRequestWithTokens(e,wV).then(n=>{if(n===null)throw Joe();return n})}function Fae(t,e){const n=Eae(t._location.path,e),r=new yr(t._location.bucket,n);return new Cs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(t){return/^[A-Za-z]+:\/\//.test(t)}function Bae(t,e){return new Cs(t,e)}function bV(t,e){if(t instanceof f1){const n=t;if(n._bucket==null)throw Qoe();const r=new Cs(n,n._bucket);return e!=null?bV(r,e):r}else return e!==void 0?Fae(t,e):t}function zae(t,e){if(e&&qae(e)){if(t instanceof f1)return Bae(t,e);throw oE("To use ref(service, url), the first argument must be a Storage instance.")}else return bV(t,e)}function J2(t,e){const n=e==null?void 0:e[sV];return n==null?null:yr.makeFromBucketSpec(n,t)}function Hae(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:dj(i,t.app.options.projectId))}class f1{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=aV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Voe,this._maxUploadRetryTime=Uoe,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=J2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=J2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cs(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new tae(uV());{const s=hae(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Z2="@firebase/storage",ej="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="storage";function Wae(t,e,n){return t=wt(t),Vae(t,e,n)}function Gae(t){return t=wt(t),Uae(t)}function Kae(t,e){return t=wt(t),zae(t,e)}function Xae(t=vm(),e){t=wt(t);const r=xa(t,xV).getImmediate({identifier:e}),i=cj("storage");return i&&Qae(r,...i),r}function Qae(t,e,n,r={}){Hae(t,e,n,r)}function Yae(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new f1(n,r,i,e,ks)}function Jae(){ai(new Mr(xV,Yae,"PUBLIC").setMultipleInstances(!0)),er(Z2,ej,""),er(Z2,ej,"esm2017")}Jae();const Zae=Xae(),ese=()=>{const t=qe.currentUser;if(!t)return E.jsx("p",{children:"  "});const[e,n]=ie.useState(t.displayName||""),[r,i]=ie.useState(t.email||""),[o,s]=ie.useState(""),[l,c]=ie.useState(t.photoURL||""),[h,p]=ie.useState(null),[g,y]=ie.useState(!1),[w,A]=ie.useState(null),[T,x]=ie.useState(null),D=F=>{var C;const k=(C=F.target.files)==null?void 0:C[0];k&&p(k)},$=async()=>{y(!0),A(null),x(null);try{let F=l;if(h){const k=Kae(Zae,`profile_photos/${t.uid}/${h.name}`);await Wae(k,h),F=await Gae(k)}await KM(t,{displayName:e,photoURL:F}),r!==t.email&&await dz(t,r),o&&await pz(t,o),c(F),x("  !")}catch(F){A(F.message)}y(!1)},U=async()=>{await QM(qe)};return E.jsxs("div",{className:"max-w-md mx-auto p-4 bg-gray-800 text-white rounded-lg",children:[E.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),w&&E.jsx("p",{className:"text-red-400 mb-2",children:w}),T&&E.jsx("p",{className:"text-green-400 mb-2",children:T}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block mb-1",children:" "}),l&&E.jsx("img",{src:l,alt:"Profile",className:"w-24 h-24 rounded-full mb-2"}),E.jsx("input",{type:"file",accept:"image/*",onChange:D})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block mb-1",children:""}),E.jsx("input",{type:"text",value:e,onChange:F=>n(F.target.value),className:"w-full p-2 rounded bg-gray-700"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block mb-1",children:"Email"}),E.jsx("input",{type:"email",value:r,onChange:F=>i(F.target.value),className:"w-full p-2 rounded bg-gray-700"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block mb-1",children:" "}),E.jsx("input",{type:"password",placeholder:" ,   ",value:o,onChange:F=>s(F.target.value),className:"w-full p-2 rounded bg-gray-700"})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("button",{onClick:$,disabled:g,className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded",children:g?"...":" "}),E.jsx("button",{onClick:U,className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded",children:""})]})]})},tse=()=>{const[t,e]=ie.useState(!1),[n,r]=ie.useState(null),[i,o]=ie.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),s=h=>{o({...i,[h.target.name]:h.target.value})},l=async()=>{const h=new ro;try{await Lz(qe,h)}catch(p){r(p.message)}},c=async h=>{if(h.preventDefault(),r(null),t){if(i.password!==i.confirmPassword){r("Passwords do not match");return}try{const p=await cz(qe,i.email,i.password);p.user&&await KM(p.user,{displayName:`${i.firstName} ${i.lastName}`})}catch(p){r(p.message)}}else try{await fz(qe,i.email,i.password)}catch(p){r(p.message)}};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800",children:E.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-md rounded-xl shadow-2xl p-10 w-full max-w-md",children:[E.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:t?"Register":"Login"}),n&&E.jsx("p",{className:"text-red-400 text-center mb-4",children:n}),E.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t&&E.jsxs("div",{className:"flex space-x-4",children:[E.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:i.firstName,onChange:s,required:!0,className:"w-1/2 px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600"}),E.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:i.lastName,onChange:s,required:!0,className:"w-1/2 px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600"})]}),E.jsx("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:s,required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600"}),E.jsx("input",{type:"password",name:"password",placeholder:"Password",value:i.password,onChange:s,required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600"}),t&&E.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:i.confirmPassword,onChange:s,required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-600"}),E.jsx("button",{type:"submit",className:"w-full py-3 rounded-lg bg-gradient-to-r from-purple-600 to-blue-500 text-white font-semibold hover:from-purple-700 hover:to-blue-600 transition-colors",children:t?"Register":"Login"})]}),E.jsxs("div",{className:"flex items-center my-6",children:[E.jsx("div",{className:"flex-grow h-px bg-gray-600"}),E.jsx("span",{className:"mx-4 text-gray-400",children:"or"}),E.jsx("div",{className:"flex-grow h-px bg-gray-600"})]}),E.jsx("button",{onClick:l,className:"w-full py-3 rounded-lg bg-red-500 text-white font-semibold hover:bg-red-600 transition-colors",children:"Sign in with Google"}),E.jsxs("p",{className:"text-center mt-8 text-gray-400",children:[t?"Already have an account?":"Don't have an account?"," ",E.jsx("button",{onClick:()=>e(!t),className:"text-purple-400 hover:underline",children:t?"Login":"Register"})]})]})})},nse=()=>E.jsx("div",{className:"text-white",children:"     (Dashboard)"}),rse=({onShowDashboard:t,onShowProfileSettings:e,onImportExport:n})=>{const[r,i]=ie.useState(!1),o=qe.currentUser,s=()=>i(!r);return E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full overflow-hidden border border-gray-600",children:o!=null&&o.photoURL?E.jsx("img",{src:o.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-500 text-white",children:o!=null&&o.displayName?o.displayName[0]:"U"})}),r&&E.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-10",children:[E.jsx("button",{onClick:()=>{t(),i(!1)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-700",children:"Dashboard"}),E.jsx("button",{onClick:()=>{e(),i(!1)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-700",children:"Profile Settings"}),E.jsx("button",{onClick:()=>{n(),i(!1)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-700",children:"Import/Export"}),E.jsx("button",{onClick:()=>{QM(qe),i(!1)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-700",children:"Logout"})]})]})},ise=()=>{const[t,e]=ie.useState(null),[n,r]=ie.useState(!0),[i,o]=ie.useState("projects"),[s,l]=ie.useState(!1),[c,h]=ie.useState(!1),[p,g]=ie.useState(!1);ie.useEffect(()=>{const D=yz(qe,$=>{e($),r(!1)});return()=>D()},[]),ie.useEffect(()=>{(async()=>{if(t){const $=ot(je,"userSettings",t.uid),U=await q5($);if(U.exists()){const F=U.data();F.activeTab&&o(F.activeTab)}else await B5($,{activeTab:"projects"})}})()},[t]);const y=async D=>{if(o(D),l(!1),h(!1),g(!1),t){const $=ot(je,"userSettings",t.uid);try{await Lt($,{activeTab:D})}catch(U){console.error("Error updating user settings:",U)}}},w=()=>{l(!0),h(!1)},A=()=>{h(!0),l(!1)},T=()=>{alert("  Import/Export")};if(n)return E.jsx("div",{className:"flex flex-col items-center justify-center h-screen text-white",children:E.jsx("p",{children:"Loading..."})});if(!t)return E.jsx(tse,{});const x=[{id:"projects",name:"Project Tracker",Icon:VU},{id:"goals",name:"Goals Tracker",Icon:YU},{id:"mood",name:"Mood Tracker",Icon:zU},{id:"lifeEQ",name:"LifeEQ Tracker",Icon:FU},{id:"todos",name:"ToDo's",Icon:kr},{id:"budget",name:"Household Budget",Icon:qU},{id:"wishlist",name:"Wunschliste",Icon:KU}];return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white p-3 sm:p-4 md:p-6",children:E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsxs("nav",{className:"mb-4 sm:mb-6 md:mb-8 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"md:hidden mb-4",children:[E.jsxs("button",{onClick:()=>g(!p),className:"w-full bg-gray-800/50 p-3 rounded-lg flex items-center justify-between",children:[E.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const D=x.find(U=>U.id===i),$=D==null?void 0:D.Icon;return E.jsxs(E.Fragment,{children:[$&&E.jsx($,{className:"w-5 h-5"}),E.jsx("span",{children:D==null?void 0:D.name})]})})()}),E.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${p?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&E.jsx("div",{className:"mt-2 bg-gray-800/50 rounded-lg overflow-hidden",children:x.map(D=>E.jsxs("button",{onClick:()=>y(D.id),className:`w-full flex items-center space-x-2 p-3 transition-colors ${i===D.id?"bg-blue-500":"hover:bg-gray-700"}`,children:[E.jsx(D.Icon,{className:"w-5 h-5"}),E.jsx("span",{children:D.name})]},D.id))})]}),E.jsx("div",{className:"hidden md:flex flex-wrap gap-2 bg-gray-800/50 p-3 rounded-lg",children:x.map(D=>E.jsxs("button",{onClick:()=>y(D.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-300 ${i===D.id?"bg-blue-500 shadow-lg":"hover:bg-gray-700"}`,children:[E.jsx(D.Icon,{className:"w-4 h-4"}),E.jsx("span",{className:"text-sm whitespace-nowrap",children:D.name})]},D.id))})]}),E.jsx("div",{className:"flex items-center space-x-3",children:E.jsx(rse,{onShowDashboard:w,onShowProfileSettings:A,onImportExport:T})})]}),E.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 sm:p-4 md:p-6 min-h-[400px]",children:c?E.jsx(ese,{}):s?E.jsx(nse,{}):E.jsxs(E.Fragment,{children:[i==="projects"&&E.jsx(R8,{}),i==="goals"&&E.jsx(k8,{}),i==="mood"&&E.jsx(N8,{}),i==="lifeEQ"&&E.jsx(Noe,{}),i==="todos"&&E.jsx(joe,{}),i==="budget"&&E.jsx(Loe,{}),i==="wishlist"&&E.jsx($oe,{})]})})]})})};DU.createRoot(document.getElementById("root")).render(E.jsx(ne.StrictMode,{children:E.jsx(ise,{})}));"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(t=>{console.log("Service Worker registriert:",t)}).catch(t=>{console.error("Service Worker-Registrierung fehlgeschlagen:",t)});
